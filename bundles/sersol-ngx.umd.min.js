!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("leaflet"),require("leaflet.markercluster"),require("@sersol/leaflet-plugins/leaflet-fullscreen"),require("@sersol/leaflet-plugins/leaflet-mouseposition"),require("rxjs/operators"),require("@angular/forms"),require("rxjs/BehaviorSubject"),require("rxjs/Observable"),require("rxjs/Subject"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("rxjs/add/operator/distinctUntilChanged"),require("rxjs/add/observable/combineLatest"),require("@angular/common"),require("@angular/platform-browser"),require("@tweenjs/tween.js")):"function"==typeof define&&define.amd?define("@sersol/ngx",["exports","@angular/core","rxjs","leaflet","leaflet.markercluster","@sersol/leaflet-plugins/leaflet-fullscreen","@sersol/leaflet-plugins/leaflet-mouseposition","rxjs/operators","@angular/forms","rxjs/BehaviorSubject","rxjs/Observable","rxjs/Subject","rxjs/add/operator/filter","rxjs/add/operator/map","rxjs/add/operator/distinctUntilChanged","rxjs/add/observable/combineLatest","@angular/common","@angular/platform-browser","@tweenjs/tween.js"],t):t(((e=e||self).sersol=e.sersol||{},e.sersol.ngx={}),e.ng.core,e.rxjs,e.leaflet,null,null,null,e.rxjs.operators,e.ng.forms,e.rxjs.BehaviorSubject,e.rxjs.Observable,e.rxjs.Subject,e.rxjs["add/operator/filter"],e.rxjs["add/operator/map"],e.rxjs["add/operator/distinctUntilChanged"],e.rxjs["add/observable/combineLatest"],e.ng.common,e.ng.platformBrowser,e.tween_js)}(this,(function(e,t,i,n,r,o,s,l,a,c,h,d,u,p,f,m,g,v,y){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function b(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}function S(e,t){return function(i,n){t(i,n,e)}}function w(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{a(n.next(e))}catch(e){o(e)}}function l(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}a((n=n.apply(e,t||[])).next())}))}function C(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function I(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}var k=function(){function e(){}return e.prototype.getAll=function(){var e={};if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split("; "),i=0;i<t.length;i+=1){var n=t[i].split("="),r=decodeURIComponent(n[0].trim()),o=decodeURIComponent(n.slice(1,t[i].length-1).join("="));if("true"===o)e[r]=!0;else if("false"===o)e[r]=!1;else try{e[r]=JSON.parse(o)}catch(t){e[r]=o}}return e},e.prototype.get=function(e){var t=this.getAll();return t.hasOwnProperty(e)?t[e]:null},e.prototype.set=function(e,t,i,n,r,o,s){"object"==typeof t&&(t=JSON.stringify(t));var l=encodeURIComponent(e)+"="+encodeURIComponent(t)+";";i&&(l+="number"==typeof i?"expires="+new Date(1e3*i).toUTCString()+";":"expires="+i.toUTCString()+";");n&&(l+="path="+n+";"),r&&(l+="domain="+r+";"),o&&(l+="secure;"),s&&(l+="sameSite="+s+";"),document.cookie=l},e.prototype.delete=function(e,t,i){this.set(e,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),t,i)},e.prototype.deleteAll=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var i=e[t],n=i.indexOf("="),r=n>-1?i.substr(0,n):i;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"})],e)}(),T=function(){function e(){}return e.prototype.insert=function(e,t){var i=document.getElementsByTagName("script")[0];if(!document.getElementById(e)){var n=document.createElement("script");n.id=e,n.src=t,i.parentNode.insertBefore(n,i)}},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"})],e)}(),A=function(){function e(){this._SchemeLightClassName="scheme-light",this._SchemeDarkClassName="scheme-dark",this.Scheme=window.matchMedia("(prefers-color-scheme: dark)")}return Object.defineProperty(e.prototype,"Scheme",{get:function(){return this._Scheme},set:function(e){this._Scheme=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SchemeLightClassName",{get:function(){return this._SchemeLightClassName},set:function(e){this._SchemeLightClassName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SchemeDarkClassName",{get:function(){return this._SchemeDarkClassName},set:function(e){this._SchemeDarkClassName=e},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.Scheme.matches?this.enableDark():this.enableLight()},e.prototype.get=function(){return this.Scheme.matches?"dark":"light"},e.prototype.enableDark=function(){var e=document.getElementsByTagName("body")[0];e.classList.contains(this.SchemeLightClassName)&&e.classList.remove(this.SchemeLightClassName),e.classList.add(this.SchemeDarkClassName)},e.prototype.enableLight=function(){var e=document.getElementsByTagName("body")[0];e.classList.contains(this.SchemeDarkClassName)&&e.classList.remove(this.SchemeDarkClassName),e.classList.add(this.SchemeLightClassName)},e.prototype.watch=function(){var e=this,t=function(t){t.matches?(console.log("Changed to dark mode"),e.enableDark()):(console.log("Changed to light mode"),e.enableLight())};"function"==typeof this.Scheme.onchange?this.Scheme.onchange=t:"function"==typeof this.Scheme.addEventListener?this.Scheme.addEventListener("change",t):"function"==typeof this.Scheme.addListener&&this.Scheme.addListener(t)},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"})],e)}();function O(e){return Array.isArray(e)?0<e.length:-1===["",null,void 0,NaN].indexOf(e)}var D=new t.InjectionToken("aws.config"),P=function(){function e(e){this.awsData=e}return Object.defineProperty(e.prototype,"awsData",{get:function(){return this._awsData},set:function(e){this._awsData=e},enumerable:!0,configurable:!0}),e.prototype.getS3Url=function(e){return O(e)?"https://"+this.awsData.s3.bucket+".s3.amazonaws.com/"+e:""},e.prototype.getS3BgUrl=function(e){return O(e)?"url(https://"+this.awsData.s3.bucket+".s3.amazonaws.com/"+e+")":""},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[D]}]}]},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e(t["ɵɵinject"](D))},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"}),S(0,t.Inject(D))],e)}(),_=function(){function e(){}var i;return i=e,e.forRoot=function(e){return{ngModule:i,providers:[e,P]}},e=i=b([t.NgModule()],e)}(),L=function(){function e(e){this.clientConfig=e}return Object.defineProperty(e.prototype,"clientConfig",{get:function(){return this._clientConfig},set:function(e){this._clientConfig=e},enumerable:!0,configurable:!0}),e}(),F=function(){},M=new t.InjectionToken("google.config"),z=function(){function e(e){var i=this;this.gapiUrl="https://apis.google.com/js/api.js",this.onload=new t.EventEmitter,this.config=new L(e),this.loadSDK().subscribe((function(){console.log("Google: SDK loaded"),i.onload.emit()}))}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GoogleAuth",{get:function(){return this._GoogleAuth},set:function(e){this._GoogleAuth=e},enumerable:!0,configurable:!0}),e.prototype.login=function(){var e=this;return new i.Observable((function(t){e.GoogleAuth.signIn().then((function(e){var i=e.getBasicProfile(),n={id:i.getId(),id_token:e.getAuthResponse().id_token,first_name:i.getGivenName(),last_name:i.getFamilyName(),email:i.getEmail(),picture:i.getImageUrl().replace("=s96-","=-")};t.next(n),t.complete()}),(function(e){return t.error(e)}))}))},e.prototype.loadSDK=function(){var e=this;return new i.Observable((function(t){if(null==window.gapi){var i=document.createElement("script");i.src=e.gapiUrl,i.type="text/javascript",i.async=!0,i.defer=!0,i.id="google-api",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){gapi.load("auth2",(function(){gapi.auth2.init(e.config.clientConfig).then((function(i){e.GoogleAuth=i,t.next(),t.complete()})).catch((function(e){return t.error(e)}))}))}}else t.next(),t.complete()}))},e.ctorParameters=function(){return[{type:F,decorators:[{type:t.Inject,args:[M]}]}]},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e(t["ɵɵinject"](M))},token:e,providedIn:"root"}),b([t.Output()],e.prototype,"onload",void 0),e=b([t.Injectable({providedIn:"root"}),S(0,t.Inject(M))],e)}(),R=function(){function e(){}var i;return i=e,e.forRoot=function(e){return{ngModule:i,providers:[e,z]}},e=i=b([t.NgModule()],e)}(),B=function(){function e(e){this.clientConfig=e}return Object.defineProperty(e.prototype,"clientConfig",{get:function(){return this._clientConfig},set:function(e){this._clientConfig=e},enumerable:!0,configurable:!0}),e}(),j=new t.InjectionToken("facebook.config"),V=function(){function e(e){var i=this;this.fsdkUrl="https://connect.facebook.net/en_US/sdk.js",this.onload=new t.EventEmitter,this.config=new B(e),this.loadSDK().subscribe((function(){console.log("Facebook: SDK loaded"),i.onload.emit()}))}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e},enumerable:!0,configurable:!0}),e.prototype.login=function(){return new i.Observable((function(e){FB.login((function(t){"connected"===t.status?FB.api("/me",{fields:"first_name,last_name,email"},(function(i){FB.api("/me/picture",{width:300,redirect:"false"},(function(n){var r,o,s={id:i.id,access_token:t.authResponse.accessToken,first_name:i.first_name,last_name:i.last_name,email:i.email};(null===(o=null===(r=n)||void 0===r?void 0:r.data)||void 0===o?void 0:o.url)&&(s.picture=n.data.url),e.next(s),e.complete()}))})):console.warn("Facebook: Popup closed by user")}),{scope:"public_profile,email"})}))},e.prototype.loadSDK=function(){var e=this;return new i.Observable((function(t){if(null==window.FB){var i=document.createElement("script");i.src=e.fsdkUrl,i.type="text/javascript",i.async=!0,i.defer=!0,i.id="facebook-sdk",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){FB.init(e.config.clientConfig),FB.AppEvents.logPageView(),t.next(!0),t.complete()}}else t.next(!0),t.complete()}))},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[j]}]}]},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e(t["ɵɵinject"](j))},token:e,providedIn:"root"}),b([t.Output()],e.prototype,"onload",void 0),e=b([t.Injectable({providedIn:"root"}),S(0,t.Inject(j))],e)}(),G=function(){function e(){}var i;return i=e,e.forRoot=function(e){return{ngModule:i,providers:[e,V]}},e=i=b([t.NgModule()],e)}();function H(e,t){return!!t&&-1!==t.indexOf(e)}var K=function(e){return Array.isArray(e)?e:[e]};var W=function(){function e(){}return Object.defineProperty(e.prototype,"openIdData",{get:function(){return this._openIdData},set:function(e){this._openIdData=e},enumerable:!0,configurable:!0}),e.prototype.hasPermission=function(e){return-1!==this.openIdData.claims.indexOf(e)},e.prototype.atLeastPermissions=function(e){for(var t=0;t<e.length;t++)if(H(e[t],this.openIdData.claims))return!0;return!1},e.prototype.hasPermissions=function(e){for(var t=0;t<e.length;t++)if(!H(e[t],this.openIdData.claims))return!1;return!0},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"})],e)}();function N(e,t){var i=function(e){return e&&"object"==typeof e};return i(e)&&i(t)?(Object.keys(t).forEach((function(n){var r=e[n],o=t[n];Array.isArray(r)&&Array.isArray(o)?e[n]=r.concat(o):i(r)&&i(o)?e[n]=N(Object.assign({},r),o):e[n]=o})),e):t}function U(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var q;(q=e.Patterns||(e.Patterns={})).PASSWORD=/^((?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])).{6,}$/,q.DOMAIN=/^([a-zA-Z0-9\_\-\.]{2,63})\.([a-zA-Z0-9]{2,})$/,q.EMAIL=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,q.IMAGE=/^image\/([a-zA-Z].*)$/,q.NUMBER=/[-]{0,1}[\d]*[.]{0,1}[\d]+/g,q.CC=/((\d{8})|(\d{10})|(\d{11})|(\d{6}-\d{5}))?/g;var $=function(){function e(){}return e.prototype.getCurrentPosition=function(){return new i.Observable((function(e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){e.next(t)}),(function(t){e.error(t)})):e.error("Geolocation not available")}))},e.prototype.checkLatLog=function(e,t){return-90<=e&&90>=e&&-180<=t&&180>=t},e.prototype.distancePoints=function(e){var t=Math.sin((e.to.lat-e.from.lat)*Math.PI/180/2)*Math.sin((e.to.lat-e.from.lat)*Math.PI/180/2)+Math.cos(e.from.lat*Math.PI/180)*Math.cos(e.to.lat*Math.PI/180)*Math.sin((e.to.lng-e.from.lng)*Math.PI/180/2)*Math.sin((e.to.lng-e.from.lng)*Math.PI/180/2);return 2*Math.asin(Math.sqrt(t))*6371*1.60934},e.prototype.cutPrecision=function(e,t){if("number"==typeof e[0])for(var i=0;i<e.length;i++)e[i]=Math.round(e[i]*t)/t;else{var n=e.features||e.geometries||e.coordinates||e;for(i=0;i<n.length;i++)this.cutPrecision(n[i],t)}},e.prototype.middlePoint=function(e){if(e.from.lng!==e.to.lng||e.from.lat!==e.to.lat){var t=e.from.lat*Math.PI/180,i=e.to.lat*Math.PI/180,n=e.from.lng*Math.PI/180,r=e.to.lng*Math.PI/180-n,o=Math.cos(i)*Math.cos(r),s=Math.cos(i)*Math.sin(r),l=Math.atan2(Math.sin(t)+Math.sin(i),Math.sqrt((Math.cos(t)+o)*(Math.cos(t)+o)+s*s)),a=n+Math.atan2(s,Math.cos(t)+o);l*=180/Math.PI,a*=180/Math.PI;var c=e.to.lng-e.from.lng,h=e.to.lat-e.from.lat;return{longitude:a,Latitude:l,angle:180*Math.atan2(c,h)/Math.PI,distance:this.distancePoints(e)}}return!1},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"})],e)}(),Z={"OpenStreetMap Street":n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),"Mapbox Street":n.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:window.mapbox_access_token})},J=function(){function e(e){this.markers={},this.options={container:"leaflet-map",initialView:{lat:4.6288702,lng:-74.1193724,zoom:11},clusterMarkers:{enable:!0,config:{}},layers:Z,mapOptions:{positionControl:!0,layers:[Z["Mapbox Street"]],zoomControl:!1},layersOptions:{position:"topright"}},N(this.options,e),this.map=new n.Map(this.options.container,this.options.mapOptions),this.layerControl=new n.Control.Layers(this.options.layers,null,this.options.layersOptions),this.map.addControl(new n.Control.MousePosition(this.options.mousePositionOptions)),this.map.addControl(this.layerControl),this.map.addControl(new n.Control.Fullscreen(this.options.fullscreen)),this.map.addControl(new n.Control.Zoom(this.options.zoom)),this.map.setView([this.options.initialView.lat,this.options.initialView.lng],this.options.initialView.zoom),this.options.clusterMarkers.enable&&this.initMarkerCluster()}return e.prototype.initMarkerCluster=function(){n.MarkerClusterGroup&&(this.markerCluster=new n.MarkerClusterGroup([],this.options.clusterMarkers.config),this.map.addLayer(this.markerCluster))},e.prototype.fitMarkersBounds=function(e,t){if(O(this.markers)){var i=[];for(var r in this.markers)i.push(this.markers[r]);if(O(i)){var o={paddingTopLeft:{x:0,y:0},paddingBottomRight:{x:0,y:0}};N(o,e);var s=n.featureGroup(i);t?this.map.flyToBounds(s.getBounds(),{duration:.5,paddingTopLeft:[o.paddingTopLeft.x,o.paddingTopLeft.y],paddingBottomRight:[o.paddingBottomRight.x,o.paddingBottomRight.y]}):this.map.fitBounds(s.getBounds(),{paddingTopLeft:[o.paddingTopLeft.x,o.paddingTopLeft.y],paddingBottomRight:[o.paddingBottomRight.x,o.paddingBottomRight.y]})}}},e.prototype.addMarker=function(e,t){return this.markers[t]=n.marker([e.lat,e.lng]),this.options.clusterMarkers.enable?this.markerCluster.addLayer(this.markers[t]):this.markers[t].addTo(this.map),this.markers[t]},e.prototype.panTo=function(e,t,i){if(O(t)){var n=this.map.latLngToContainerPoint(e).x-t[0],r=this.map.latLngToContainerPoint(e).y-t[1],o=this.map.containerPointToLatLng([n,r]);return this.map.setView(o,this.map.getZoom(),i)}return this.map.setView(e,this.map.getZoom(),i)},e.prototype.setView=function(e,t,i,n){if(O(i)){var r=this.map.project(e,t).subtract(i),o=this.map.unproject(r,t);return this.map.setView(o,t,n)}return this.map.setView(e,t,n)},e.prototype.centerPoint=function(e){this.map.flyTo([e.lat,e.lng],e.preserve_zoom?this.map.getZoom():19,{duration:.5})},e}();function Y(e){return new i.Observable((function(t){if(e instanceof Blob){var i=new FileReader;i.onerror=function(e){return t.error(e)},i.onabort=function(e){return t.error(e)},i.onload=function(){return t.next(i.result)},i.onloadend=function(){return t.complete()},i.readAsArrayBuffer(e)}else t.error(new Error("`blob` must be an instance of File or Blob."))}))}function X(e){return new i.Observable((function(t){if(e instanceof Blob){var i=new FileReader;i.onerror=function(e){return t.error(e)},i.onabort=function(e){return t.error(e)},i.onload=function(){return t.next(i.result)},i.onloadend=function(){return t.complete()},i.readAsDataURL(e)}else t.error(new Error("`blob` must be an instance of File or Blob."))}))}function Q(e){var t,i,n=new Uint8Array(e).subarray(0,4),r="";try{for(var o=I(n),s=o.next();!s.done;s=o.next()){r+=s.value.toString(16)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}switch(console.log("Header file: ",r),r){case"89504e47":return"png";case"47494638":return"gif";case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":return"jpeg";case"25504446":return"ia";case"504b34":return"xlsx";case"25504446":return"pdf";default:return"unknown"}}function ee(e,t){return function(i){var n=i.get(e),r=i.get(t);return n.value<r.value?O(r.errors)?(delete n.errors.lowerThan,O(n.errors)?n.setErrors(n.errors):n.setErrors(null)):n.setErrors(null):O(n.errors)?(n.errors.lowerThan=!0,n.setErrors(n.errors)):n.setErrors({lowerThan:!0}),null}}function te(e,t){return function(i){var n=i.get(e),r=i.get(t);return n.value<=r.value?O(r.errors)?(delete n.errors.lowerOrEqualThan,O(n.errors)?n.setErrors(n.errors):n.setErrors(null)):n.setErrors(null):O(n.errors)?(n.errors.lowerOrEqualThan=!0,n.setErrors(n.errors)):n.setErrors({lowerOrEqualThan:!0}),null}}function ie(e,t){return function(i){var n=i.get(e),r=i.get(t);return n.value>r.value?O(r.errors)?(delete n.errors.greaterThan,O(n.errors)?n.setErrors(n.errors):n.setErrors(null)):n.setErrors(null):O(n.errors)?(n.errors.greaterThan=!0,n.setErrors(n.errors)):n.setErrors({greaterThan:!0}),null}}function ne(e,t){return function(i){var n=i.get(e),r=i.get(t);return n.value>=r.value?O(r.errors)?(delete n.errors.greaterOrEqualThan,O(n.errors)?n.setErrors(n.errors):n.setErrors(null)):n.setErrors(null):O(n.errors)?(n.errors.greaterOrEqualThan=!0,n.setErrors(n.errors)):n.setErrors({greaterOrEqualThan:!0}),null}}function re(e,t){return function(i){var n=i.get(e),r=i.get(t);return n.value===r.value?O(r.errors)?(delete r.errors.match,O(r.errors)?r.setErrors(r.errors):r.setErrors(null)):r.setErrors(null):O(r.errors)?(r.errors.match=!0,r.setErrors(r.errors)):r.setErrors({match:!0}),null}}function oe(e){return function(t){var i=e.match(/[-]{0,1}[\d]*[.]{0,1}[\d]+/g),n=1;switch(!0){case/[. 0-9]+(KB)/i.test(e):n=1e3;break;case/[. 0-9]+(MB)/i.test(e):n=1e6;break;case/[. 0-9]+(GB)/i.test(e):n=1e9}if(O(i)){var r=parseFloat(i.join(""))*n;if(t.value)return t.value.size>=r?{maxFileSize:!0}:null}else console.error("maxFileSize validation: Size must have a number");return null}}function se(e){return function(t){var i=e.match(/[-]{0,1}[\d]*[.]{0,1}[\d]+/g),n=1;switch(!0){case/[. 0-9]+(KB)/i.test(e):n=1e3;break;case/[. 0-9]+(MB)/i.test(e):n=1e6;break;case/[. 0-9]+(GB)/i.test(e):n=1e9}if(O(i)){var r=parseFloat(i.join(""))*n;if(t.value)return t.value.size<=r?{minFileSize:!0}:null}else console.error("minFileSize validation: Size must have a number");return null}}function le(e){return function(t){var n=t.value;if(n){Array.isArray(e)||(e=[e]);var r=e.map((function(e){return e.toLowerCase()}));return Y(n).pipe(l.map((function(e){return H(Q(e),r)?null:{requiredFileType:!0}})))}return i.of(null)}}function ae(e,t,n){return function(r){return i.of(r.value).pipe(l.delay(1e3),l.switchMap((function(r){return O(r)?(n.Value=r,e.post(t,n).pipe(l.map((function(){return{alreadyExist:!0}})),l.catchError((function(){return i.of(null)})))):i.of(null)})))}}var ce=function(){function e(){}return e.match=function(e,t){return re(e,t)},e.lowerThan=function(e,t){return ee(e,t)},e.lowerOrEqualThan=function(e,t){return te(e,t)},e.greaterThan=function(e,t){return ie(e,t)},e.greaterOrEqualThan=function(e,t){return ne(e,t)},e.maxFileSize=function(e){return oe(e)},e.minFileSize=function(e){return se(e)},e.requiredFileType=function(e){return le(e)},e.alreadyExist=function(e,t,i){return ae(e,t,i)},e}(),he=function(){function e(e){this._ngControl=e,this.disabled=!1,this.focus=!1,this.dirty=!1,this.valid=!1,this.invalid=!1,this.pending=!1,this.hasValue=!1}return e.prototype.onFocus=function(){this.focus=!0},e.prototype.onBlur=function(){this.focus=!1},e.prototype.onChangeValue=function(e){var t,i,n,r,o,s,l,a,c,h;this.hasValue=O(e),this.valid=null===(i=null===(t=this._ngControl)||void 0===t?void 0:t.control)||void 0===i?void 0:i.valid,this.invalid=null===(r=null===(n=this._ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.invalid,this.dirty=null===(s=null===(o=this._ngControl)||void 0===o?void 0:o.control)||void 0===s?void 0:s.dirty,this.disabled=null===(a=null===(l=this._ngControl)||void 0===l?void 0:l.control)||void 0===a?void 0:a.disabled,this.pending=null===(h=null===(c=this._ngControl)||void 0===c?void 0:c.control)||void 0===h?void 0:h.pending},e.prototype.ngOnInit=function(){var e,t,i,n,r=this;this.onChangeValue(null===(t=null===(e=this._ngControl)||void 0===e?void 0:e.control)||void 0===t?void 0:t.value),this.observer=null===(n=null===(i=this._ngControl)||void 0===i?void 0:i.control)||void 0===n?void 0:n.valueChanges.subscribe((function(e){r.onChangeValue(e)}))},e.prototype.ngOnDestroy=function(){var e;null===(e=this.observer)||void 0===e||e.unsubscribe()},e.ctorParameters=function(){return[{type:a.NgControl}]},b([t.HostListener("focus")],e.prototype,"onFocus",null),b([t.HostListener("blur")],e.prototype,"onBlur",null),e=b([t.Directive({selector:"[serControl]"})],e)}(),de=function(){function e(){}return Object.defineProperty(e.prototype,"disabled",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focus",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.focus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.hasValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){var e;return null===(e=this.formElement)||void 0===e?void 0:e.pending},enumerable:!0,configurable:!0}),b([t.ContentChild(he)],e.prototype,"formElement",void 0),b([t.HostBinding("class.disabled")],e.prototype,"disabled",null),b([t.HostBinding("class.focus")],e.prototype,"focus",null),b([t.HostBinding("class.active")],e.prototype,"active",null),b([t.HostBinding("class.dirty")],e.prototype,"dirty",null),b([t.HostBinding("class.valid")],e.prototype,"valid",null),b([t.HostBinding("class.invalid")],e.prototype,"invalid",null),b([t.HostBinding("class.pending")],e.prototype,"pending",null),e=b([t.Component({selector:"ser-form-element",template:"<ng-content></ng-content>",encapsulation:t.ViewEncapsulation.None})],e)}(),ue=function(){function e(e){this._form=e,this.subject=new c.BehaviorSubject(null),this.ready=!1}return Object.defineProperty(e.prototype,"errors",{get:function(){if(this.ready)return this.control.errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasErrors",{get:function(){return!!this.errors},enumerable:!0,configurable:!0}),e.prototype.hasError=function(e,t){return this.checkPropState("invalid",e,t)},e.prototype.isValid=function(e,t){return this.checkPropState("valid",e,t)},e.prototype.getError=function(e){if(this.ready)return this.control.getError(e)},e.prototype.checkPropState=function(e,t,i){var n=this;if(this.ready){var r=!i||K(i).every((function(e){return n.control[e]}));return"*"===t.charAt(0)?this.control[e]&&r:"valid"===e?!this.control.hasError(t):this.control.hasError(t)&&r}},e.prototype.checkStatus=function(){var e=this.control,t=e.errors;if(this.ready=!0,t)for(var i in t)this.errors.hasOwnProperty(i)&&this.subject.next({control:e,errorName:i})},e.prototype.ngOnChanges=function(){this.control=this._form.control.get(this.controlName)},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){e.checkStatus(),e.control.statusChanges.subscribe(e.checkStatus.bind(e))}))},e.prototype.ngOnDestroy=function(){this.subject.unsubscribe()},e.ctorParameters=function(){return[{type:a.FormGroupDirective}]},b([t.Input("serErrors")],e.prototype,"controlName",void 0),e=b([t.Directive({selector:"[serErrors]",exportAs:"serErrors"})],e)}(),pe=function(){function e(e){this._serErrors=e,this.hidden=!0,this.rules=[],this.errorNames=[]}return Object.defineProperty(e.prototype,"serError",{set:function(e){this.errorNames=K(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"when",{set:function(e){this.rules=K(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._states=new d.Subject,this.states=this._states.asObservable().distinctUntilChanged();var t=this._serErrors.subject.filter(Boolean).filter((function(t){return!!~e.errorNames.indexOf(t.errorName)})),i=this.states.map((function(t){return e.rules.every((function(e){return!!~t.indexOf(e)}))}));this.subscription=h.Observable.combineLatest([i,t]).subscribe((function(t){var i=x(t,2),n=i[0],r=i[1];e.hidden=!(n&&r.control.hasError(r.errorName))}))},e.prototype.ngDoCheck=function(){var e=this;this._states.next(this.rules.filter((function(t){return e._serErrors.control[t]})))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.ctorParameters=function(){return[{type:ue,decorators:[{type:t.Inject,args:[t.forwardRef((function(){return ue}))]}]}]},b([t.Input()],e.prototype,"serError",null),b([t.Input()],e.prototype,"when",null),b([t.HostBinding("hidden")],e.prototype,"hidden",void 0),e=b([t.Directive({selector:"[serError]"}),S(0,t.Inject(t.forwardRef((function(){return ue}))))],e)}(),fe=function(){function e(){this.show=!1,this.inputs=[],this.codeLength=4,this.onlyNumber=!0,this.isCodeHidden=!1,this.value=[],this.isDisabled=!1}var i;return i=e,e.prototype.writeValue=function(e){O(e)&&(this.value=e.toString().split(""))},e.prototype.ngOnInit=function(){this.type=this.isCodeHidden?"password":"text",this.codeInputs=Array(this.codeLength)},e.prototype.ngAfterViewInit=function(){var e=this;this.inputsList.forEach((function(t,i){O(e.value[i])&&(t.nativeElement.value=e.value[i]),e.inputs.push(t.nativeElement)}))},e.prototype.canInputValue=function(e){return!O(e)||(this.onlyNumber?/^[0-9]+$/.test(e.toString()):/^[0-9a-zA-Z]+$/.test(e.toString()))},e.prototype.generateValue=function(){var e=[];return this.inputs.forEach((function(t){O(t.value)&&e.push(t.value.trim())})),e.length===this.codeLength?e.join(""):null},e.prototype.onInput=function(e,t){var i=t+1,n=e.target,r=e.data||n.value;if(this.onTouch(),!this.canInputValue(r))return e.preventDefault(),void e.stopPropagation();i<this.codeLength&&O(r)&&this.inputs[i].focus(),this.onChange(this.generateValue())},e.prototype.onKeydown=function(e,t){return w(this,void 0,void 0,(function(){var i,n,r,o=this;return C(this,(function(s){return i=t-1,n=t+1,r=e.target.value,"backspace"===e.key.toLowerCase()?(i>=0&&setTimeout((function(){o.inputs[i].focus()})),[2]):this.canInputValue(e.key.toLowerCase())?(O(r)&&(e.preventDefault(),e.stopPropagation(),n<this.codeLength&&this.inputs[n].focus()),[2]):(e.preventDefault(),e.stopPropagation(),[2])}))}))},e.prototype.onClick=function(e){var t=this.codeLength-1;e.target.setSelectionRange(e.target.value.length,e.target.value.length);for(var i=0;i<this.inputs.length;i++)if(!O(this.inputs[i].value)){t=i;break}O(t)&&this.inputs[t].focus()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.onChange=function(e){},e.prototype.registerOnTouched=function(e){this.onTouch=e},e.prototype.onTouch=function(){},e.prototype.setDisabledState=function(e){this.isDisabled=e},b([t.ViewChildren("input")],e.prototype,"inputsList",void 0),b([t.HostBinding("class.show")],e.prototype,"show",void 0),b([t.Input()],e.prototype,"codeLength",void 0),b([t.Input()],e.prototype,"onlyNumber",void 0),b([t.Input()],e.prototype,"isCodeHidden",void 0),e=i=b([t.Component({selector:"pin-input",template:'<span *ngFor="let holder of codeInputs; index as i">\r\n\r\n    <input class="not-styled" #input\r\n    [type]="type"\r\n    [disabled]="isDisabled"\r\n    (input)="onInput($event, i)"\r\n    (keydown)="onKeydown($event, i)"\r\n    (click)="onClick($event)"\r\n    autocomplete="chrome-off"\r\n    maxlength="1"\r\n     />\r\n\r\n    \x3c!-- <input (paste)="onPaste($event, i)" /> --\x3e\r\n\r\n</span>\r\n',providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return i})),multi:!0}]})],e)}(),me=function(){function e(){this.filteredData=[],this.subject=new i.Subject}return e.prototype.setData=function(e){this.filteredData=e,this.subject.next(e)},e.prototype.getData=function(){return this.subject.asObservable()},e.prototype.getFilteredData=function(){return this.filteredData&&this.filteredData.length>0?this.filteredData:[]},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=b([t.Injectable({providedIn:"root"})],e)}(),ge=function(){function e(e){this.ds=e}return e.prototype.transform=function(e,t,i){var n=this;if(!O(e)||!O(t))return e;var r=e.filter((function(e){return n.applyFilter(e,t,i)}));return O(r)?r:[]},e.prototype.applyFilter=function(e,t,i){var n=!1;if(i.length>0)if(e.grpTitle)n=!0;else for(var r=0;r<i.length;r++)t&&e[i[r]]&&""!==e[i[r]]&&e[i[r]].toString().toLowerCase().indexOf(t.toLowerCase())>=0&&(n=!0);else if(e.grpTitle)n=!0;else for(var o in e)t&&e[o]&&e[o].toString().toLowerCase().indexOf(t.toLowerCase())>=0&&(n=!0);return n},e.ctorParameters=function(){return[{type:me}]},e=b([t.Pipe({name:"serSelectListFilter",pure:!0})],e)}(),ve=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:t.TemplateRef}]},e=b([t.Directive({selector:"[sd-item]"})],e)}(),ye=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:t.TemplateRef}]},e=b([t.Directive({selector:"[sd-badge]"})],e)}(),be=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:t.TemplateRef}]},e=b([t.Directive({selector:"[sd-search]"})],e)}();function Se(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}var we=function(){function e(e,i,n,r,o,s){this.element=e,this.renderer=i,this.zone=n,this.changeDetectorRef=r,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=function(e,t){return e===t},this.vsUpdate=new t.EventEmitter,this.vsChange=new t.EventEmitter,this.vsStart=new t.EventEmitter,this.vsEnd=new t.EventEmitter,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=g.isPlatformServer(o),this.scrollThrottlingTime=s.scrollThrottlingTime,this.scrollDebounceTime=s.scrollDebounceTime,this.scrollAnimationTime=s.scrollAnimationTime,this.scrollbarWidth=s.scrollbarWidth,this.scrollbarHeight=s.scrollbarHeight,this.checkResizeInterval=s.checkResizeInterval,this.resizeBypassRefreshThreshold=s.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=s.modifyOverflowStyleOfParentScroll,this.stripedTable=s.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}return Object.defineProperty(e.prototype,"viewPortInfo",{get:function(){var e=this.previousViewPort||{};return{startIndex:e.startIndex||0,endIndex:e.endIndex||0,scrollStartPosition:e.scrollStartPosition||0,scrollEndPosition:e.scrollEndPosition||0,maxScrollPosition:e.maxScrollPosition||0,startIndexWithBuffer:e.startIndexWithBuffer||0,endIndexWithBuffer:e.endIndexWithBuffer||0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableUnequalChildrenSizes",{get:function(){return this._enableUnequalChildrenSizes},set:function(e){this._enableUnequalChildrenSizes!==e&&(this._enableUnequalChildrenSizes=e,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferAmount",{get:function(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0},set:function(e){this._bufferAmount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollThrottlingTime",{get:function(){return this._scrollThrottlingTime},set:function(e){this._scrollThrottlingTime=e,this.updateOnScrollFunction()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollDebounceTime",{get:function(){return this._scrollDebounceTime},set:function(e){this._scrollDebounceTime=e,this.updateOnScrollFunction()},enumerable:!0,configurable:!0}),e.prototype.updateOnScrollFunction=function(){var e=this;this.scrollDebounceTime?this.onScroll=this.debounce((function(){e.refresh_internal(!1)}),this.scrollDebounceTime):this.scrollThrottlingTime?this.onScroll=this.throttleTrailing((function(){e.refresh_internal(!1)}),this.scrollThrottlingTime):this.onScroll=function(){e.refresh_internal(!1)}},Object.defineProperty(e.prototype,"checkResizeInterval",{get:function(){return this._checkResizeInterval},set:function(e){this._checkResizeInterval!==e&&(this._checkResizeInterval=e,this.addScrollEventHandlers())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){e!==this._items&&(this._items=e||[],this.refresh_internal(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontal",{get:function(){return this._horizontal},set:function(e){this._horizontal=e,this.updateDirection()},enumerable:!0,configurable:!0}),e.prototype.revertParentOverscroll=function(){var e=this.getScrollElement();e&&this.oldParentScrollOverflow&&(e.style["overflow-y"]=this.oldParentScrollOverflow.y,e.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0},Object.defineProperty(e.prototype,"parentScroll",{get:function(){return this._parentScroll},set:function(e){if(this._parentScroll!==e){this.revertParentOverscroll(),this._parentScroll=e,this.addScrollEventHandlers();var t=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&t!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:t.style["overflow-x"],y:t.style["overflow-y"]},t.style["overflow-y"]=this.horizontal?"visible":"auto",t.style["overflow-x"]=this.horizontal?"auto":"visible")}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.addScrollEventHandlers()},e.prototype.ngOnDestroy=function(){this.removeScrollEventHandlers(),this.revertParentOverscroll()},e.prototype.ngOnChanges=function(e){var t=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length;var i=!e.items||!e.items.previousValue||0===e.items.previousValue.length;this.refresh_internal(t||i)},e.prototype.ngDoCheck=function(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){for(var e=!1,t=0;t<this.viewPortItems.length;++t)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+t],this.viewPortItems[t])){e=!0;break}e&&this.refresh_internal(!0)}},e.prototype.refresh=function(){this.refresh_internal(!0)},e.prototype.invalidateAllCachedMeasurements=function(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)},e.prototype.invalidateCachedMeasurementForItem=function(e){if(this.enableUnequalChildrenSizes){var t=this.items&&this.items.indexOf(e);t>=0&&this.invalidateCachedMeasurementAtIndex(t)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)},e.prototype.invalidateCachedMeasurementAtIndex=function(e){if(this.enableUnequalChildrenSizes){var t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e];t&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=t.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=t.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)},e.prototype.scrollInto=function(e,t,i,n,r){void 0===t&&(t=!0),void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var o=this.items.indexOf(e);-1!==o&&this.scrollToIndex(o,t,i,n,r)},e.prototype.scrollToIndex=function(e,t,i,n,r){var o=this;void 0===t&&(t=!0),void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var s=5,l=function(){if(--s<=0)r&&r();else{var n=o.calculateDimensions(),a=Math.min(Math.max(e,0),n.itemCount-1);o.previousViewPort.startIndex!==a?o.scrollToIndex_internal(e,t,i,0,l):r&&r()}};this.scrollToIndex_internal(e,t,i,n,l)},e.prototype.scrollToIndex_internal=function(e,t,i,n,r){void 0===t&&(t=!0),void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===r&&(r=void 0),n=void 0===n?this.scrollAnimationTime:n;var o=this.calculateDimensions(),s=this.calculatePadding(e,o)+i;t||(s-=o.wrapGroupsPerPage*o[this._childScrollDim]),this.scrollToPosition(s,n,r)},e.prototype.scrollToPosition=function(e,t,i){var n=this;void 0===t&&(t=void 0),void 0===i&&(i=void 0),e+=this.getElementsOffset(),t=void 0===t?this.scrollAnimationTime:t;var r,o=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!t)return this.renderer.setProperty(o,this._scrollType,e),void this.refresh_internal(!1,i);var s={scrollPosition:o[this._scrollType]},l=new y.Tween(s).to({scrollPosition:e},t).easing(y.Easing.Quadratic.Out).onUpdate((function(e){isNaN(e.scrollPosition)||(n.renderer.setProperty(o,n._scrollType,e.scrollPosition),n.refresh_internal(!1))})).onStop((function(){cancelAnimationFrame(r)})).start(),a=function(t){l.isPlaying()&&(l.update(t),s.scrollPosition!==e?n.zone.runOutsideAngular((function(){r=requestAnimationFrame(a)})):n.refresh_internal(!1,i))};a(),this.currentTween=l},e.prototype.getElementSize=function(e){var t=e.getBoundingClientRect(),i=getComputedStyle(e),n=parseInt(i["margin-top"],10)||0,r=parseInt(i["margin-bottom"],10)||0,o=parseInt(i["margin-left"],10)||0,s=parseInt(i["margin-right"],10)||0;return{top:t.top+n,bottom:t.bottom+r,left:t.left+o,right:t.right+s,width:t.width+o+s,height:t.height+n+r}},e.prototype.checkScrollElementResized=function(){var e,t=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){var i=Math.abs(t.width-this.previousScrollBoundingRect.width),n=Math.abs(t.height-this.previousScrollBoundingRect.height);e=i>this.resizeBypassRefreshThreshold||n>this.resizeBypassRefreshThreshold}else e=!0;e&&(this.previousScrollBoundingRect=t,t.width>0&&t.height>0&&this.refresh_internal(!1))},e.prototype.updateDirection=function(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")},e.prototype.debounce=function(e,t){var i=this.throttleTrailing(e,t),n=function(){i.cancel(),i.apply(this,arguments)};return n.cancel=function(){i.cancel()},n},e.prototype.throttleTrailing=function(e,t){var i=void 0,n=arguments,r=function(){var r=this;n=arguments,i||(t<=0?e.apply(r,n):i=setTimeout((function(){i=void 0,e.apply(r,n)}),t))};return r.cancel=function(){i&&(clearTimeout(i),i=void 0)},r},e.prototype.refresh_internal=function(e,t,i){var n=this;if(void 0===t&&(t=void 0),void 0===i&&(i=2),e&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){var r=this.previousViewPort,o=this.viewPortItems,s=t;t=function(){var e=n.previousViewPort.scrollLength-r.scrollLength;if(e>0&&n.viewPortItems){var t=o[0],i=n.items.findIndex((function(e){return n.compareItems(t,e)}));if(i>n.previousViewPort.startIndexWithBuffer){for(var l=!1,a=1;a<n.viewPortItems.length;++a)if(!n.compareItems(n.items[i+a],o[a])){l=!0;break}if(!l)return void n.scrollToPosition(n.previousViewPort.scrollStartPosition+e,0,s)}}s&&s()}}this.zone.runOutsideAngular((function(){requestAnimationFrame((function(){e&&n.resetWrapGroupDimensions();var r=n.calculateViewport(),o=e||r.startIndex!==n.previousViewPort.startIndex,s=e||r.endIndex!==n.previousViewPort.endIndex,l=r.scrollLength!==n.previousViewPort.scrollLength,a=r.padding!==n.previousViewPort.padding,c=r.scrollStartPosition!==n.previousViewPort.scrollStartPosition||r.scrollEndPosition!==n.previousViewPort.scrollEndPosition||r.maxScrollPosition!==n.previousViewPort.maxScrollPosition;if(n.previousViewPort=r,l&&n.renderer.setStyle(n.invisiblePaddingElementRef.nativeElement,n._invisiblePaddingProperty,r.scrollLength+"px"),a&&(n.useMarginInsteadOfTranslate?n.renderer.setStyle(n.contentElementRef.nativeElement,n._marginDir,r.padding+"px"):(n.renderer.setStyle(n.contentElementRef.nativeElement,"transform",n._translateDir+"("+r.padding+"px)"),n.renderer.setStyle(n.contentElementRef.nativeElement,"webkitTransform",n._translateDir+"("+r.padding+"px)"))),n.headerElementRef){var h=n.getScrollElement()[n._scrollType],d=n.getElementsOffset(),u=Math.max(h-r.padding-d+n.headerElementRef.nativeElement.clientHeight,0);n.renderer.setStyle(n.headerElementRef.nativeElement,"transform",n._translateDir+"("+u+"px)"),n.renderer.setStyle(n.headerElementRef.nativeElement,"webkitTransform",n._translateDir+"("+u+"px)")}var p=o||s?{startIndex:r.startIndex,endIndex:r.endIndex,scrollStartPosition:r.scrollStartPosition,scrollEndPosition:r.scrollEndPosition,startIndexWithBuffer:r.startIndexWithBuffer,endIndexWithBuffer:r.endIndexWithBuffer,maxScrollPosition:r.maxScrollPosition}:void 0;if(o||s||c){var f=function(){n.viewPortItems=r.startIndexWithBuffer>=0&&r.endIndexWithBuffer>=0?n.items.slice(r.startIndexWithBuffer,r.endIndexWithBuffer+1):[],n.vsUpdate.emit(n.viewPortItems),o&&n.vsStart.emit(p),s&&n.vsEnd.emit(p),(o||s)&&(n.changeDetectorRef.markForCheck(),n.vsChange.emit(p)),i>0?n.refresh_internal(!1,t,i-1):t&&t()};n.executeRefreshOutsideAngularZone?f():n.zone.run(f)}else{if(i>0&&(l||a))return void n.refresh_internal(!1,t,i-1);t&&t()}}))}))},e.prototype.getScrollElement=function(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement},e.prototype.addScrollEventHandlers=function(){var e=this;if(!this.isAngularUniversalSSR){var t=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular((function(){e.parentScroll instanceof Window?(e.disposeScrollHandler=e.renderer.listen("window","scroll",e.onScroll),e.disposeResizeHandler=e.renderer.listen("window","resize",e.onScroll)):(e.disposeScrollHandler=e.renderer.listen(t,"scroll",e.onScroll),e._checkResizeInterval>0&&(e.checkScrollElementResizedTimer=setInterval((function(){e.checkScrollElementResized()}),e._checkResizeInterval)))}))}},e.prototype.removeScrollEventHandlers=function(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)},e.prototype.getElementsOffset=function(){if(this.isAngularUniversalSSR)return 0;var e=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(e+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){var t=this.getScrollElement(),i=this.getElementSize(this.element.nativeElement),n=this.getElementSize(t);this.horizontal?e+=i.left-n.left:e+=i.top-n.top,this.parentScroll instanceof Window||(e+=t[this._scrollType])}return e},e.prototype.countItemsPerWrapGroup=function(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);var e=this.horizontal?"offsetLeft":"offsetTop",t=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,i=t?t.length:0;if(0===i)return 1;for(var n=t[0][e],r=1;r<i&&n===t[r][e];)++r;return r},e.prototype.getScrollStartPosition=function(){var e=void 0;return this.parentScroll instanceof Window&&(e=window[this._pageOffsetType]),e||this.getScrollElement()[this._scrollType]||0},e.prototype.resetWrapGroupDimensions=function(){var e=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),this.enableUnequalChildrenSizes&&e&&0!==e.numberOfKnownWrapGroupChildSizes)for(var t=this.countItemsPerWrapGroup(),i=0;i<e.maxChildSizePerWrapGroup.length;++i){var n=e.maxChildSizePerWrapGroup[i];if(n&&n.items&&n.items.length){if(n.items.length!==t)return;for(var r=!1,o=t*i,s=0;s<t;++s)if(!this.compareItems(n.items[s],this.items[o+s])){r=!0;break}r||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=n.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=n.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[i]=n)}}},e.prototype.calculateDimensions=function(){var e=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(e.offsetHeight-e.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(e.offsetWidth-e.clientWidth,25),this.calculatedScrollbarWidth);var t,i,n,r=e.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),o=e.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),s=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,l=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){r=this.ssrViewportWidth,o=this.ssrViewportHeight,i=this.ssrChildWidth,n=this.ssrChildHeight;var a=Math.max(Math.ceil(r/i),1),c=Math.max(Math.ceil(o/n),1);t=this.horizontal?a:c}else if(this.enableUnequalChildrenSizes){var h=e[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),d=this.previousViewPort.startIndexWithBuffer||0,u=Math.ceil(d/l),p=0,f=0,m=0,g=0;t=0;for(var v=0;v<s.children.length;++v){++d;E=s.children[v],k=this.getElementSize(E);if(p=Math.max(p,k.width),f=Math.max(f,k.height),d%l==0){var y=this.wrapGroupDimensions.maxChildSizePerWrapGroup[u];y&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=y.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=y.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;var b=this.items.slice(d-l,d);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[u]={childWidth:p,childHeight:f,items:b},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=p,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=f,this.horizontal){var S=Math.min(p,Math.max(r-m,0));if(h>0)S-=w=Math.min(h,S),h-=w;m+=S,S>0&&r>=m&&++t}else{var w,C=Math.min(f,Math.max(o-g,0));if(h>0)C-=w=Math.min(h,C),h-=w;g+=C,C>0&&o>=g&&++t}++u,p=0,f=0}}var I=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,x=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;i=this.childWidth||I||r,n=this.childHeight||x||o,this.horizontal?r>m&&(t+=Math.ceil((r-m)/i)):o>g&&(t+=Math.ceil((o-g)/n))}else{if(s.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&r>0&&(this.minMeasuredChildWidth=r),!this.minMeasuredChildHeight&&o>0&&(this.minMeasuredChildHeight=o));var E=s.children[0],k=this.getElementSize(E);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,k.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,k.height)}i=this.childWidth||this.minMeasuredChildWidth||r,n=this.childHeight||this.minMeasuredChildHeight||o;a=Math.max(Math.ceil(r/i),1),c=Math.max(Math.ceil(o/n),1);t=this.horizontal?a:c}var T=this.items.length,A=l*t,O=T/A,D=Math.ceil(T/l),P=0,_=this.horizontal?i:n;if(this.enableUnequalChildrenSizes){var L=0;for(v=0;v<D;++v){var F=this.wrapGroupDimensions.maxChildSizePerWrapGroup[v]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[v][this._childScrollDim];F?P+=F:++L}P+=Math.round(L*_)}else P=D*_;this.headerElementRef&&(P+=this.headerElementRef.nativeElement.clientHeight);var M=this.horizontal?r:o;return{itemCount:T,itemsPerWrapGroup:l,wrapGroupsPerPage:t,itemsPerPage:A,pageCount_fractional:O,childWidth:i,childHeight:n,scrollLength:P,viewportLength:M,maxScrollPosition:Math.max(P-M,0)}},e.prototype.calculatePadding=function(e,t){if(0===t.itemCount)return 0;var i=t[this._childScrollDim],n=Math.floor(e/t.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return i*n;for(var r=0,o=0,s=0;s<n;++s){var l=this.wrapGroupDimensions.maxChildSizePerWrapGroup[s]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[s][this._childScrollDim];l?o+=l:++r}return o+=Math.round(r*i)},e.prototype.calculatePageInfo=function(e,t){var i=0;if(this.enableUnequalChildrenSizes)for(var n=Math.ceil(t.itemCount/t.itemsPerWrapGroup),r=0,o=t[this._childScrollDim],s=0;s<n;++s){var l=this.wrapGroupDimensions.maxChildSizePerWrapGroup[s]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[s][this._childScrollDim];if(e<(r+=l||o)){i=s/n;break}}else i=e/t.scrollLength;var a=Math.min(Math.max(i*t.pageCount_fractional,0),t.pageCount_fractional)*t.itemsPerPage,c=t.itemCount-t.itemsPerPage-1,h=Math.min(Math.floor(a),c);if(h-=h%t.itemsPerWrapGroup,this.stripedTable){var d=2*t.itemsPerWrapGroup;h%d!=0&&(h=Math.max(h-h%d,0))}var u=Math.ceil(a)+t.itemsPerPage-1,p=(u+1)%t.itemsPerWrapGroup;p>0&&(u+=t.itemsPerWrapGroup-p),isNaN(h)&&(h=0),isNaN(u)&&(u=0),h=Math.min(Math.max(h,0),t.itemCount-1),u=Math.min(Math.max(u,0),t.itemCount-1);var f=this.bufferAmount*t.itemsPerWrapGroup;return{startIndex:h,endIndex:u,startIndexWithBuffer:Math.min(Math.max(h-f,0),t.itemCount-1),endIndexWithBuffer:Math.min(Math.max(u+f,0),t.itemCount-1),scrollStartPosition:e,scrollEndPosition:e+t.viewportLength,maxScrollPosition:t.maxScrollPosition}},e.prototype.calculateViewport=function(){var e=this.calculateDimensions(),t=this.getElementsOffset(),i=this.getScrollStartPosition();i>e.scrollLength+t&&!(this.parentScroll instanceof Window)?i=e.scrollLength:i-=t,i=Math.max(0,i);var n=this.calculatePageInfo(i,e),r=this.calculatePadding(n.startIndexWithBuffer,e),o=e.scrollLength;return{startIndex:n.startIndex,endIndex:n.endIndex,startIndexWithBuffer:n.startIndexWithBuffer,endIndexWithBuffer:n.endIndexWithBuffer,padding:Math.round(r),scrollLength:Math.round(o),scrollStartPosition:n.scrollStartPosition,scrollEndPosition:n.scrollEndPosition,maxScrollPosition:n.maxScrollPosition}},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.NgZone},{type:t.ChangeDetectorRef},{type:Object,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:["virtual-scroller-default-options"]}]}]},b([t.Input()],e.prototype,"executeRefreshOutsideAngularZone",void 0),b([t.Input()],e.prototype,"enableUnequalChildrenSizes",null),b([t.Input()],e.prototype,"useMarginInsteadOfTranslate",void 0),b([t.Input()],e.prototype,"modifyOverflowStyleOfParentScroll",void 0),b([t.Input()],e.prototype,"stripedTable",void 0),b([t.Input()],e.prototype,"scrollbarWidth",void 0),b([t.Input()],e.prototype,"scrollbarHeight",void 0),b([t.Input()],e.prototype,"childWidth",void 0),b([t.Input()],e.prototype,"childHeight",void 0),b([t.Input()],e.prototype,"ssrChildWidth",void 0),b([t.Input()],e.prototype,"ssrChildHeight",void 0),b([t.Input()],e.prototype,"ssrViewportWidth",void 0),b([t.Input()],e.prototype,"ssrViewportHeight",void 0),b([t.Input()],e.prototype,"bufferAmount",null),b([t.Input()],e.prototype,"scrollAnimationTime",void 0),b([t.Input()],e.prototype,"resizeBypassRefreshThreshold",void 0),b([t.Input()],e.prototype,"scrollThrottlingTime",null),b([t.Input()],e.prototype,"scrollDebounceTime",null),b([t.Input()],e.prototype,"checkResizeInterval",null),b([t.Input()],e.prototype,"items",null),b([t.Input()],e.prototype,"compareItems",void 0),b([t.Input()],e.prototype,"horizontal",null),b([t.Input()],e.prototype,"parentScroll",null),b([t.Output()],e.prototype,"vsUpdate",void 0),b([t.Output()],e.prototype,"vsChange",void 0),b([t.Output()],e.prototype,"vsStart",void 0),b([t.Output()],e.prototype,"vsEnd",void 0),b([t.ViewChild("content",{read:t.ElementRef,static:!1})],e.prototype,"contentElementRef",void 0),b([t.ViewChild("invisiblePadding",{read:t.ElementRef,static:!1})],e.prototype,"invisiblePaddingElementRef",void 0),b([t.ContentChild("header",{read:t.ElementRef,static:!1})],e.prototype,"headerElementRef",void 0),b([t.ContentChild("container",{read:t.ElementRef,static:!1})],e.prototype,"containerElementRef",void 0),e=b([t.Component({selector:"virtual-scroller,[virtualScroller]",exportAs:"virtualScroller",template:'\n    <div class="total-padding" #invisiblePadding></div>\n    <div class="scrollable-content" #content>\n      <ng-content></ng-content>\n    </div>\n  ',host:{"[class.horizontal]":"horizontal","[class.vertical]":"!horizontal","[class.selfScroll]":"!parentScroll"},styles:["\n    :host {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t:host.horizontal.selfScroll {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t:host.vertical.selfScroll {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content ::ng-deep > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t:host.horizontal {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t:host.horizontal .scrollable-content {\n\t\tdisplay: flex;\n\t}\n\t\n\t:host.horizontal .scrollable-content ::ng-deep > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    :host.horizontal .total-padding {\n      height: 100%;\n    }\n  "]}),S(4,t.Inject(t.PLATFORM_ID)),S(5,t.Optional()),S(5,t.Inject("virtual-scroller-default-options"))],e)}(),Ce=function(){function e(){}return e=b([t.NgModule({exports:[we],declarations:[we],imports:[g.CommonModule],providers:[{provide:"virtual-scroller-default-options",useFactory:Se}]})],e)}(),Ie=function(){},xe=Ie,Ee=function(){function e(e,n,r,o,s,a,c,h){var d=this;this._elementRef=e,this.cdr=n,this.ds=r,this._renderer=o,this.data=[],this.onSelect=new t.EventEmitter,this.onDeSelect=new t.EventEmitter,this.onSelectAll=new t.EventEmitter,this.onDeSelectAll=new t.EventEmitter,this.onOpen=new t.EventEmitter,this.onClose=new t.EventEmitter,this.onScrollToEnd=new t.EventEmitter,this.onFilterSelectAll=new t.EventEmitter,this.onFilterDeSelectAll=new t.EventEmitter,this.onAddFilterNewItem=new t.EventEmitter,this.onGroupSelect=new t.EventEmitter,this.onGroupDeSelect=new t.EventEmitter,this.isDisabled=!1,this.isActive=!1,this.multipleClass=!1,this.virtualdata=[],this.searchTerm$=new i.Subject,this.selectedItems=[],this.isSelectAll=!1,this.isFilterSelectAll=!1,this.isInfiniteFilterSelectAll=!1,this.chunkIndex=[],this.cachedItems=[],this.groupCachedItems=[],this.itemHeight=41.6,this.filterLength=0,this.infiniteFilterLength=0,this.dropdownSubs=[],this.defaultSettings={singleSelection:!0,enableCheckAll:!0,selectAllText:"Seleccionar todo",unSelectAllText:"Deseleccionar todo",filterSelectAllText:"Seleccionar todos los resultados filtrados",filterUnSelectAllText:"Deseleccionar todos los resultados filtrados",enableSearchFilter:!0,searchBy:["name"],maxHeight:300,badgeShowLimit:999999999999,classes:"",searchPlaceholderText:"Buscar",showCheckbox:!0,noDataLabel:"Sin datos disponibles",lazyLoading:!1,labelKey:"name",primaryKey:"id",disabledKey:"disabled",enableFilterSelectAll:!0,selectGroup:!1,addNewItemOnFilter:!1,addNewButtonText:"Agregar",escapeToClose:!0,clearAll:!0},this.randomSize=!0,this.filteredList=[],this.virtualScroollInit=!1,this.isDisabledItemPresent=!1,this.hasValue=O,this.onChangeCallback=Ie,this.onTouchedCallback=Ie,this.multiple=null!==s,this.multiple&&(this.defaultSettings.singleSelection=!1),null!==a&&(this.defaultSettings.enableSearchFilter=!1,this.defaultSettings.clearAll=!1),null!==c&&(this.defaultSettings.primaryKey=c),null!==h&&(this.defaultSettings.labelKey=h),this.searchTerm$.asObservable().pipe(l.debounceTime(1e3),l.distinctUntilChanged(),l.tap((function(e){return e}))).subscribe((function(e){d.filterInfiniteList(e)}))}var n;return n=e,e.prototype.ngOnInit=function(){var e=this;this.settings=Object.assign(this.defaultSettings,this.settings),this.multipleClass=!this.settings.singleSelection,this.cachedItems=this.cloneArray(this.data),this.subscription=this.ds.getData().subscribe((function(t){if(t){var i=0;t.forEach((function(t){t[e.settings.disabledKey]&&(e.isDisabledItemPresent=!0),t.hasOwnProperty("grpTitle")||i++})),e.filterLength=i,e.onFilterChange(t)}})),this.virtualScroollInit=!1},e.prototype.ngOnChanges=function(e){var t;e.data&&!e.data.firstChange&&(this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),0===this.data.length&&(this.selectedItems=[]),this.groupCachedItems=this.cloneArray(this.groupedData)),this.cachedItems=this.cloneArray(this.data)),e.settings&&!e.settings.firstChange&&(this.settings=Object.assign(this.defaultSettings,this.settings)),e.loading,(null===(t=this.settings)||void 0===t?void 0:t.lazyLoading)&&this.virtualScroollInit&&e.data&&(this.virtualdata=e.data.currentValue)},e.prototype.ngAfterViewInit=function(){this._renderer.removeChild(this._elementRef.nativeElement,this.dropdownListElem.nativeElement)},e.prototype.onItemClick=function(e,t,i){if(this.isDisabled||e[this.settings.disabledKey])return!1;var n=this.isSelected(e),r=this.selectedItems.length<this.settings.limitSelection;n?(this.removeSelected(e),this.onDeSelect.emit(e)):this.settings.limitSelection?r&&(this.addSelected(e),this.onSelect.emit(e)):(this.addSelected(e),this.onSelect.emit(e)),(this.isSelectAll||this.data.length>this.selectedItems.length)&&(this.isSelectAll=!1),this.data.length===this.selectedItems.length&&(this.isSelectAll=!0),this.settings.groupBy&&this.updateGroupInfo(e)},e.prototype.validate=function(e){return null},e.prototype.writeValue=function(e){var t,i,n=this;if(O(e))if(this.settings.singleSelection){if(Array.isArray(e))throw Error('Array detected as input, please add "multiple" attribute in the select or set "singleSelection" setting in false');var r=null===(t=this.data)||void 0===t?void 0:t.find((function(t){return t[n.settings.primaryKey]===e}));if(!O(r))throw this.selectedItems=[],Error('No primaryKey finded in options, please set "primaryKey" setting with the correct value');this.selectedItems=[r],this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData))}else{if(!Array.isArray(e))throw Error('Single value detected as input, please set "singleSelection" setting in true or remove "multiple" attribute in the select if you added');var o=null===(i=this.data)||void 0===i?void 0:i.filter((function(t){return H(t[n.settings.primaryKey],e)}));if(!O(o))throw this.selectedItems=[],Error('No primaryKey finded in options, please set "primaryKey" setting with the correct value');this.settings.limitSelection?this.selectedItems=o.slice(0,this.settings.limitSelection):this.selectedItems=o,this.selectedItems.length===this.data.length&&this.data.length>0&&(this.isSelectAll=!0),this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData))}else this.selectedItems=[]},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.isDisabled=e},e.prototype.trackByFn=function(e){return e[this.settings.primaryKey]},e.prototype.isSelected=function(e){var t,i;if(e[this.settings.disabledKey])return!1;var n=!1;if(O(this.selectedItems))try{for(var r=I(this.selectedItems),o=r.next();!o.done;o=r.next()){var s=o.value;if(e[this.settings.primaryKey]===s[this.settings.primaryKey]){n=!0;break}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},e.prototype.addSelected=function(e){var t=this;if(this.settings.singleSelection)this.selectedItems=[e],this.onChangeCallback(e[this.settings.primaryKey]),this.onTouchedCallback(e[this.settings.primaryKey]),this.closeDropdown();else{this.selectedItems.push(e);var i=this.selectedItems.map((function(e){return e[t.settings.primaryKey]}));this.onChangeCallback(i),this.onTouchedCallback(i)}},e.prototype.removeSelected=function(e){var t=this;O(this.selectedItems)&&this.selectedItems.forEach((function(i,n){e[t.settings.primaryKey]===i[t.settings.primaryKey]&&t.selectedItems.splice(n,1)})),this.settings.singleSelection?(this.onChangeCallback(null),this.onTouchedCallback(null)):(this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems))},e.prototype.toggleDropdown=function(e){if(this.isDisabled)return!1;this.isActive=!this.isActive,this.isActive?this.openDropdown():this.closeDropdown(),this.settings.lazyLoading&&(this.virtualdata=this.data,this.virtualScroollInit=!0),e.preventDefault()},e.prototype.openDropdown=function(){var e=this;if(this.isDisabled)return!1;this.isActive=!0,this.dropdownSubs.push(i.fromEvent(window,"click").pipe(l.filter((function(t){return!e._elementRef.nativeElement.contains(t.target)}))).subscribe((function(){return e.closeDropdown()}))),this.dropdownSubs.push(i.fromEvent(window,"keyup").pipe(l.filter((function(t){return"escape"===t.key.toLowerCase()&&e.settings.escapeToClose}))).subscribe((function(){return e.closeDropdown()}))),this.dropdownSubs.push(i.fromEvent(this._elementRef.nativeElement,"scroll").subscribe((function(){return console.log("scroll")}))),this.dropdownSubs.push(i.fromEvent(window,"resize").subscribe((function(){return e.setPositionDropdown()}))),this.setPositionDropdown(),this._renderer.appendChild(this._elementRef.nativeElement,this.dropdownListElem.nativeElement),this.settings.enableSearchFilter&&!this.searchTempl&&setTimeout((function(){var t;null===(t=e.searchInput)||void 0===t||t.nativeElement.focus()}),0),this.onOpen.emit(!0)},e.prototype.closeDropdown=function(){this.searchInput&&(this.searchInput.nativeElement.value=""),this.clearSearch(),this.isActive=!1,this.dropdownSubs.forEach((function(e){return e.unsubscribe()})),this.dropdownSubs=[],this.onClose.emit(!1),this._renderer.removeChild(this._elementRef.nativeElement,this.dropdownListElem.nativeElement)},e.prototype.setPositionDropdown=function(){var e=this;setTimeout((function(){var t=e.dropdownListElem.nativeElement,i=e._elementRef.nativeElement,n=document.documentElement.offsetHeight-(t.offsetHeight+i.getBoundingClientRect().top+i.offsetHeight);e._renderer.setStyle(t,"width",i.offsetWidth+"px"),e._renderer.setStyle(t,"left",i.getBoundingClientRect().left+"px"),n>0?(e._renderer.removeClass(i,"ontop"),e._renderer.removeClass(t,"ontop"),e._elementRef.nativeElement.style.removeProperty("bottom"),e._renderer.setStyle(t,"top",i.getBoundingClientRect().bottom+"px")):(e._renderer.addClass(i,"ontop"),e._renderer.addClass(t,"ontop"),e._elementRef.nativeElement.style.removeProperty("top"),e._renderer.setStyle(t,"bottom",document.documentElement.offsetHeight-i.getBoundingClientRect().top+"px"))}))},e.prototype.toggleSelectAll=function(){var e=this;this.isSelectAll?(this.settings.groupBy&&(this.groupedData.forEach((function(e){e.selected=!1})),this.groupCachedItems.forEach((function(e){e.selected=!1}))),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)):(this.selectedItems=[],this.settings.groupBy&&(this.groupedData.forEach((function(t){t.selected=!t[e.settings.disabledKey]})),this.groupCachedItems.forEach((function(t){t.selected=!t[e.settings.disabledKey]}))),this.selectedItems=this.data.filter((function(t){return!t[e.settings.disabledKey]})),this.isSelectAll=!0,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onSelectAll.emit(this.selectedItems))},e.prototype.filterFn=function(e){this.settings.groupBy&&!this.settings.lazyLoading?this.filterGroupedList():this.settings.lazyLoading&&this.searchTerm$.next(e)},e.prototype.filterGroupedList=function(){var e=this;""!==this.filter&&null!=this.filter?(this.groupedData=this.cloneArray(this.groupCachedItems),this.groupedData=this.groupedData.filter((function(t){var i=[];return i=t[e.settings.labelKey].toLowerCase().indexOf(e.filter.toLowerCase())>-1?t.list:t.list.filter((function(t){return t[e.settings.labelKey].toLowerCase().indexOf(e.filter.toLowerCase())>-1})),t.list=i,t[e.settings.labelKey].toLowerCase().indexOf(e.filter.toLowerCase())>-1?i:i.some((function(t){return t[e.settings.labelKey].toLowerCase().indexOf(e.filter.toLowerCase())>-1}))}))):this.clearSearch()},e.prototype.toggleFilterSelectAll=function(){var e=this;if(this.isFilterSelectAll){var t=[];this.settings.groupBy?this.ds.getFilteredData().forEach((function(i){e.isSelected(i)&&(e.removeSelected(i),t.push(i))})):this.ds.getFilteredData().forEach((function(i){e.isSelected(i)&&(e.removeSelected(i),t.push(i))})),this.isFilterSelectAll=!1,this.onFilterDeSelectAll.emit(t)}else{var i=[];this.settings.groupBy?this.ds.getFilteredData().forEach((function(t){e.isSelected(t)||t.hasOwnProperty("grpTitle")||(e.addSelected(t),i.push(t))})):this.ds.getFilteredData().forEach((function(t){e.isSelected(t)||(e.addSelected(t),i.push(t))})),this.isFilterSelectAll=!0,this.onFilterSelectAll.emit(i)}},e.prototype.toggleInfiniteFilterSelectAll=function(){var e=this;this.isInfiniteFilterSelectAll?(this.virtualdata.forEach((function(t){e.isSelected(t)&&e.removeSelected(t)})),this.isInfiniteFilterSelectAll=!1):(this.virtualdata.forEach((function(t){e.isSelected(t)||e.addSelected(t)})),this.isInfiniteFilterSelectAll=!0)},e.prototype.clearSearch=function(){var e=this;this.filter="",this.settings.lazyLoading?(this.isInfiniteFilterSelectAll=!1,this.virtualdata=[],this.virtualdata=this.cachedItems,this.groupedData=this.groupCachedItems,this.infiniteFilterLength=0):(this.settings.groupBy&&(this.groupedData=[],this.groupedData=this.cloneArray(this.groupCachedItems)),this.isFilterSelectAll=!1),setTimeout((function(){var t;null===(t=e.searchInput)||void 0===t||t.nativeElement.focus()}),0)},e.prototype.onFilterChange=function(e){var t=this;(this.filter&&""===this.filter||0===e.length)&&(this.isFilterSelectAll=!1);var i=0;e.forEach((function(e){!e.hasOwnProperty("grpTitle")&&t.isSelected(e)&&i++})),i>0&&this.filterLength===i?this.isFilterSelectAll=!0:i>0&&this.filterLength!==i&&(this.isFilterSelectAll=!1),this.cdr.detectChanges()},e.prototype.cloneArray=function(e){if(Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"==typeof e)throw"Cannot clone array containing an object!";return e},e.prototype.updateGroupInfo=function(e){var t=this;if(e[this.settings.disabledKey])return!1;var i=this.settings.groupBy;this.groupedData.forEach((function(n){var r=0;n.grpTitle&&e[i]===n[i]&&n.list&&n.list.forEach((function(e){t.isSelected(e)&&r++})),n.list&&r===n.list.length&&e[i]===n[i]?n.selected=!0:n.list&&r!==n.list.length&&e[i]===n[i]&&(n.selected=!1)})),this.groupCachedItems.forEach((function(n){var r=0;n.grpTitle&&e[i]===n[i]&&n.list&&n.list.forEach((function(e){t.isSelected(e)&&r++})),n.list&&r===n.list.length&&e[i]===n[i]?n.selected=!0:n.list&&r!==n.list.length&&e[i]===n[i]&&(n.selected=!1)}))},e.prototype.transformData=function(e,t){var i=this,n=e.reduce((function(e,i){return e[i[t]]?e[i[t]].push(i):e[i[t]]=[i],e}),{}),r=[];return Object.keys(n).map((function(e){var t={},o=[];t.grpTitle=!0,t[i.settings.labelKey]=e,t[i.settings.groupBy]=e,t.selected=!1,t.list=[];var s=0;n[e].forEach((function(e){e.list=[],e[i.settings.disabledKey]&&(i.isDisabledItemPresent=!0,o.push(e)),t.list.push(e),i.isSelected(e)&&s++})),s===t.list.length?t.selected=!0:t.selected=!1,t[i.settings.disabledKey]=o.length===n[e].length,r.push(t)})),r},e.prototype.filterInfiniteList=function(e){var t=this,i=[];if(this.settings.groupBy?this.groupedData=this.groupCachedItems.slice():(this.data=this.cachedItems.slice(),this.virtualdata=this.cachedItems.slice()),(null!=e||""!==e)&&!this.settings.groupBy){if(this.settings.searchBy.length>0)for(var n=function(n){r.virtualdata.filter((function(r){r[t.settings.searchBy[n].toString()].toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0&&i.push(r)}))},r=this,o=0;o<this.settings.searchBy.length;o++)n(o);else this.virtualdata.filter((function(t){for(var n in t)if(t[n].toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0){i.push(t);break}}));this.virtualdata=[],this.virtualdata=i,this.infiniteFilterLength=this.virtualdata.length}""!==e.toString()&&this.settings.groupBy?(this.groupedData.filter((function(t){if(t.hasOwnProperty("grpTitle"))i.push(t);else for(var n in t)if(t[n].toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0){i.push(t);break}})),this.groupedData=[],this.groupedData=i,this.infiniteFilterLength=this.groupedData.length):""===e.toString()&&this.cachedItems.length>0&&(this.virtualdata=[],this.virtualdata=this.cachedItems,this.infiniteFilterLength=0),this.virtualScroller.refresh()},e.prototype.onScrollEnd=function(e){e.endIndex===this.data.length-1||e.startIndex,this.onScrollToEnd.emit(e)},e.prototype.selectGroup=function(e){var t=this;if(e[this.settings.disabledKey])return!1;e.selected?(e.selected=!1,e.list.forEach((function(e){t.removeSelected(e)})),this.onGroupDeSelect.emit(e),this.updateGroupInfo(e)):(e.selected=!0,e.list.forEach((function(e){t.isSelected(e)||t.addSelected(e)})),this.onGroupSelect.emit(e),this.updateGroupInfo(e))},e.prototype.addFilterNewItem=function(){this.onAddFilterNewItem.emit(this.filter),this.filterPipe=new ge(this.ds),this.filterPipe.transform(this.data,this.filter,this.settings.searchBy)},e.prototype.clearSelection=function(e){this.settings.groupBy&&this.groupCachedItems.forEach((function(e){e.selected=!1})),this.clearSearch(),this.selectedItems=[],this.isSelectAll=!1,this.settings.singleSelection?(this.onChangeCallback(null),this.onTouchedCallback(null)):(this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems)),this.onDeSelectAll.emit(this.selectedItems),e.stopPropagation()},e.prototype.getItemContext=function(e){return e},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe(),this.dropdownSubs.forEach((function(e){e.unsubscribe()}))},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:me},{type:t.Renderer2},{type:void 0,decorators:[{type:t.Optional},{type:t.Attribute,args:["multiple"]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Attribute,args:["simple"]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Attribute,args:["primaryKey"]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Attribute,args:["labelKey"]}]}]},b([t.Input()],e.prototype,"data",void 0),b([t.Input()],e.prototype,"settings",void 0),b([t.Input()],e.prototype,"loading",void 0),b([t.Input()],e.prototype,"multiple",void 0),b([t.Output("onSelect")],e.prototype,"onSelect",void 0),b([t.Output("onDeSelect")],e.prototype,"onDeSelect",void 0),b([t.Output("onSelectAll")],e.prototype,"onSelectAll",void 0),b([t.Output("onDeSelectAll")],e.prototype,"onDeSelectAll",void 0),b([t.Output("onOpen")],e.prototype,"onOpen",void 0),b([t.Output("onClose")],e.prototype,"onClose",void 0),b([t.Output("onScrollToEnd")],e.prototype,"onScrollToEnd",void 0),b([t.Output("onFilterSelectAll")],e.prototype,"onFilterSelectAll",void 0),b([t.Output("onFilterDeSelectAll")],e.prototype,"onFilterDeSelectAll",void 0),b([t.Output("onAddFilterNewItem")],e.prototype,"onAddFilterNewItem",void 0),b([t.Output("onGroupSelect")],e.prototype,"onGroupSelect",void 0),b([t.Output("onGroupDeSelect")],e.prototype,"onGroupDeSelect",void 0),b([t.ContentChild(ve,{static:!0})],e.prototype,"itemTempl",void 0),b([t.ContentChild(ye,{static:!0})],e.prototype,"badgeTempl",void 0),b([t.ContentChild(be,{static:!0})],e.prototype,"searchTempl",void 0),b([t.ViewChild("searchInput")],e.prototype,"searchInput",void 0),b([t.ViewChild("selectedList")],e.prototype,"selectedListElem",void 0),b([t.ViewChild("dropdownList")],e.prototype,"dropdownListElem",void 0),b([t.HostBinding("class.disabled")],e.prototype,"isDisabled",void 0),b([t.HostBinding("class.active")],e.prototype,"isActive",void 0),b([t.HostBinding("class.multiple")],e.prototype,"multipleClass",void 0),b([t.ViewChild(we,{static:!1})],e.prototype,"virtualScroller",void 0),e=n=b([t.Component({selector:"ser-select",template:'<div class="selected-list" #selectedList (click)="toggleDropdown($event)" [attr.tabindex]="0">\r\n\r\n    <div class="values">\r\n\r\n        <ng-container *ngIf="settings.singleSelection && hasValue(selectedItems)">\r\n\r\n            <ng-container *ngIf="!hasValue(badgeTempl)">\r\n                {{ selectedItems[0][settings.labelKey] }}\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf="hasValue(badgeTempl)">\r\n                <ng-container *ngTemplateOutlet="badgeTempl.template; context:{item: selectedItems[0]}"></ng-container>\r\n            </ng-container>\r\n\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf="!settings.singleSelection && hasValue(selectedItems)">\r\n\r\n            <div class="token-list">\r\n                <ng-container *ngFor="let item of selectedItems;trackBy: trackByFn.bind(this);let k = index">\r\n\r\n                    <div *ngIf="k < (settings.badgeShowLimit - 1)" class="token">\r\n                        <span *ngIf="!hasValue(badgeTempl)" class="label">{{ item[settings.labelKey] }}</span>\r\n                        <span *ngIf="hasValue(badgeTempl)" class="label">\r\n                            <ng-container *ngTemplateOutlet="badgeTempl.template; context:{item: item}"></ng-container>\r\n                        </span>\r\n\r\n                        <span class="remove" (click)="onItemClick(item, k, $event);$event.stopPropagation()">\r\n                            <span class="material-icons">close</span>\r\n                        </span>\r\n                    </div>\r\n\r\n                </ng-container>\r\n            </div>\r\n\r\n        </ng-container>\r\n    </div>\r\n\r\n    <div class="controls">\r\n        <span class="countplaceholder" *ngIf="selectedItems?.length > settings.badgeShowLimit">+{{ selectedItems?.length - settings.badgeShowLimit }}</span>\r\n\r\n        <button type="button" *ngIf="settings.clearAll && !isDisabled && selectedItems?.length > 0" class="clear-all" (click)="clearSelection($event);">\r\n            <span class="material-icons">close</span>\r\n        </button>\r\n\r\n        <span class="material-icons chevron" [ngClass]="{\'rotate\': isActive}">keyboard_arrow_down</span>\r\n    </div>\r\n</div>\r\n\r\n<div #dropdownList class="dropdown-list" [ngClass]="{\'single-select-mode\': settings.singleSelection }">\r\n    <div class="pure-checkbox select-all" *ngIf="settings.enableCheckAll && !settings.singleSelection && !settings.limitSelection && data?.length > 0 && !isDisabledItemPresent" (click)="toggleSelectAll()">\r\n\r\n        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelectAll" [disabled]="settings.limitSelection == selectedItems?.length" id="selectAll"/>\r\n\r\n        <label for="selectAll">\r\n            <span [hidden]="isSelectAll">{{ settings.selectAllText }}</span>\r\n            <span [hidden]="!isSelectAll">{{ settings.unSelectAllText }}</span>\r\n        </label>\r\n    </div>\r\n\r\n    <img class="loading-icon" *ngIf="loading" src="assets/img/loading.gif" />\r\n\r\n    <div class="list-filter" *ngIf="settings.enableSearchFilter && hasValue(data)">\r\n\r\n        <span class="material-icons icon-search">search</span>\r\n\r\n        <ng-content *ngIf="searchTempl then searchTemplate;else searchDefault"></ng-content>\r\n\r\n        <ng-template #searchTemplate>\r\n            <ng-container *ngTemplateOutlet="searchTempl.template; context:{item: item}"></ng-container>\r\n        </ng-template>\r\n\r\n        <ng-template #searchDefault>\r\n            <input #searchInput class="c-input not-styled" type="text" [placeholder]="settings.searchPlaceholderText" [(ngModel)]="filter" (keyup)="filterFn($event.target.value)">\r\n        </ng-template>\r\n\r\n\r\n        <span [hidden]="!hasValue(filter)" (click)="clearSearch()" class="material-icons icon-clear">cancel</span>\r\n\r\n    </div>\r\n\r\n    <div class="filter-select-all" *ngIf="!settings.lazyLoading && settings.enableFilterSelectAll && !isDisabledItemPresent">\r\n\r\n        <div class="pure-checkbox select-all" *ngIf="!settings.groupBy && filter?.length > 0 && filterLength > 0" (click)="toggleFilterSelectAll()">\r\n            <input type="checkbox" [checked]="isFilterSelectAll" [disabled]="settings.limitSelection == selectedItems?.length" aria-labelledby="optionName" />\r\n            <label>\r\n                <span [hidden]="isFilterSelectAll">{{settings.filterSelectAllText}}</span>\r\n                <span [hidden]="!isFilterSelectAll">{{settings.filterUnSelectAllText}}</span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class="pure-checkbox select-all" *ngIf="settings.groupBy && filter?.length > 0 && groupedData?.length > 0" (click)="toggleFilterSelectAll()">\r\n            <input type="checkbox" [checked]="isFilterSelectAll && filter?.length > 0" [disabled]="settings.limitSelection == selectedItems?.length" />\r\n            <label>\r\n                <span [hidden]="isFilterSelectAll">{{settings.filterSelectAllText}}</span>\r\n                <span [hidden]="!isFilterSelectAll">{{settings.filterUnSelectAllText}}</span>\r\n            </label>\r\n        </div>\r\n\r\n        \x3c!-- <label class="nodata-label" *ngIf="!settings.groupBy && filterLength == 0" [hidden]="filter == undefined || filter?.length == 0">{{settings.noDataLabel}}</label>\r\n        <label class="nodata-label" *ngIf="settings.groupBy && groupedData?.length == 0" [hidden]="filter == undefined || filter?.length == 0">{{settings.noDataLabel}}</label> --\x3e\r\n\r\n        <div class="btn-container" *ngIf="settings.addNewItemOnFilter && filterLength == 0" [hidden]="filter == undefined || filter?.length == 0">\r\n            <button class="d-btn btn-iceblue" (click)="addFilterNewItem()">{{settings.addNewButtonText}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="filter-select-all" *ngIf="settings.lazyLoading && settings.enableFilterSelectAll && !isDisabledItemPresent">\r\n        <div class="pure-checkbox select-all" *ngIf="filter?.length > 0 && infiniteFilterLength > 0" (click)="toggleInfiniteFilterSelectAll()">\r\n            <input type="checkbox" [checked]="isInfiniteFilterSelectAll" [disabled]="settings.limitSelection == selectedItems?.length" />\r\n            <label>\r\n                <span [hidden]="isInfiniteFilterSelectAll">{{ settings.filterSelectAllText }}</span>\r\n                <span [hidden]="!isInfiniteFilterSelectAll">{{ settings.filterUnSelectAllText }}</span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="!settings.groupBy && !settings.lazyLoading && !hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <ul class="lazyContainer">\r\n            <li *ngFor="let item of data | serSelectListFilter:filter : settings.searchBy; let i = index;" (click)="onItemClick(item,i,$event)" class="pure-checkbox" [ngClass]="{\'selected-item\': isSelected(item) }">\r\n                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                <label>{{ item[settings.labelKey] }}</label>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div *ngIf="!settings.groupBy && settings.lazyLoading && !hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <ul virtualScroller #scroll [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)" (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}" class="lazyContainer">\r\n            <li *ngFor="let item of scroll.viewPortItems; let i = index;" (click)="onItemClick(item,i,$event)" class="pure-checkbox" [ngClass]="{\'selected-item\': isSelected(item) }">\r\n                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                <label>{{item[settings.labelKey]}}</label>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div *ngIf="!settings.groupBy && !settings.lazyLoading && hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <ul class="lazyContainer">\r\n            <li *ngFor="let item of data | serSelectListFilter:filter : settings.searchBy; let i = index;" (click)="onItemClick(item,i,$event)" class="pure-checkbox" [ngClass]="{\'selected-item\': isSelected(item) }">\r\n                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                <label></label>\r\n                <ng-container *ngTemplateOutlet="itemTempl.template; context:{item: item}"></ng-container>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div *ngIf="!settings.groupBy && settings.lazyLoading && hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <ul virtualScroller #scroll2 [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)"\r\n            (vsEnd)="onScrollEnd($event)" class="lazyContainer" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}">\r\n            <li *ngFor="let item of scroll2.viewPortItems; let i = index;" (click)="onItemClick(item,i,$event)" class="pure-checkbox" [ngClass]="{\'selected-item\': isSelected(item) }">\r\n                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]"  />\r\n                <label></label>\r\n                <ng-container *ngTemplateOutlet="itemTempl.template; context:{item: item}"></ng-container>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div *ngIf="settings.groupBy && settings.lazyLoading && hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <ul virtualScroller #scroll3 [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)" (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}" class="lazyContainer">\r\n            <span *ngFor="let item of scroll3.viewPortItems; let i = index;">\r\n                <li (click)="onItemClick(item,i,$event)" *ngIf="!item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}"\r\n                    class="pure-checkbox">\r\n                    <input *ngIf="settings.showCheckbox && !settings.singleSelection" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                    <label></label>\r\n                    <ng-container *ngTemplateOutlet="itemTempl.template; context:{item: item}"></ng-container>\r\n                </li>\r\n                <li *ngIf="item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}"\r\n                    class="pure-checkbox">\r\n                    <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                    <label></label>\r\n                    <ng-container *ngTemplateOutlet="itemTempl.template; context:{item: item}"></ng-container>\r\n                </li>\r\n            </span>\r\n        </ul>\r\n    </div>\r\n\r\n    <div *ngIf="settings.groupBy && !settings.lazyLoading && hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'"  style="overflow: auto;">\r\n        <ul class="lazyContainer">\r\n            <span *ngFor="let item of groupedData; let i = index;">\r\n                <li (click)="selectGroup(item)" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}" class="pure-checkbox">\r\n                    <input *ngIf="settings.showCheckbox && !settings.singleSelection" type="checkbox" [checked]="item.selected" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                    <label>{{item[settings.labelKey]}}</label>\r\n                    <ul class="lazyContainer">\r\n                        <span *ngFor="let val of item.list ; let j = index;">\r\n                            <li (click)="onItemClick(val,j,$event); $event.stopPropagation()" [ngClass]="{\'grp-title\': val.grpTitle,\'grp-item\': !val.grpTitle && !settings.singleSelection}"\r\n                                class="pure-checkbox">\r\n                                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(val)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(val)) || val[settings.disabledKey]"\r\n                                />\r\n                                <label></label>\r\n                                <ng-container *ngTemplateOutlet="itemTempl.template; context:{item: val}"></ng-container>\r\n                            </li>\r\n                        </span>\r\n                    </ul>\r\n\r\n                </li>\r\n            </span>\r\n        </ul>\r\n    </div>\r\n\r\n    <div *ngIf="settings.groupBy && settings.lazyLoading && !hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <virtual-scroller [items]="groupedData" (vsUpdate)="viewPortItems = $event" (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}">\r\n            <ul virtualScroller #scroll4 [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)"\r\n                (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}" class="lazyContainer">\r\n                <span *ngFor="let item of scroll4.viewPortItems; let i = index;">\r\n                    <li *ngIf="item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection, \'selected-item\': isSelected(item) }"\r\n                        class="pure-checkbox">\r\n                        <input *ngIf="settings.showCheckbox && !item.grpTitle && !settings.singleSelection" type="checkbox" [checked]="isSelected(item)"\r\n                            [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                        <label>{{item[settings.labelKey]}}</label>\r\n                    </li>\r\n                    <li (click)="onItemClick(item,i,$event)" *ngIf="!item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection, \'selected-item\': isSelected(item) }"\r\n                        class="pure-checkbox">\r\n                        <input *ngIf="settings.showCheckbox && !item.grpTitle" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]"\r\n                        />\r\n                        <label>{{item[settings.labelKey]}}</label>\r\n                    </li>\r\n                </span>\r\n            </ul>\r\n        </virtual-scroller>\r\n    </div>\r\n\r\n    <div *ngIf="settings.groupBy && !settings.lazyLoading && !hasValue(itemTempl)" [style.maxHeight]="settings.maxHeight+\'px\'" style="overflow: auto;">\r\n        <ul class="lazyContainer">\r\n            <span *ngFor="let item of groupedData ; let i = index;">\r\n                <li (click)="selectGroup(item)" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}" class="pure-checkbox">\r\n                    <input *ngIf="settings.showCheckbox && !settings.singleSelection" type="checkbox" [checked]="item.selected" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item[settings.disabledKey]" />\r\n                    <label>{{ item[settings.labelKey] }}</label>\r\n                    <ul class="lazyContainer">\r\n                        <span *ngFor="let val of item.list ; let j = index;">\r\n                            <li (click)="onItemClick(val,j,$event); $event.stopPropagation()" [ngClass]="{\'selected-item\': isSelected(val) == true,\'grp-title\': val.grpTitle,\'grp-item\': !val.grpTitle && !settings.singleSelection}" class="pure-checkbox">\r\n                                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(val)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(val)) || val[settings.disabledKey]" />\r\n                                <label>{{val[settings.labelKey]}}</label>\r\n                            </li>\r\n                        </span>\r\n                    </ul>\r\n                </li>\r\n            </span>\r\n            \x3c!-- <span *ngFor="let item of groupedData ; let i = index;">\r\n            <li (click)="onItemClick(item,i,$event)" *ngIf="!item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle}" class="pure-checkbox">\r\n            <input *ngIf="settings.showCheckbox && !item.grpTitle" type="checkbox" [checked]="isSelected(item)" [disabled]="settings.limitSelection == selectedItems?.length && !isSelected(item)"\r\n            />\r\n            <label>{{item[settings.labelKey]}}</label>\r\n        </li>\r\n        <li *ngIf="item.grpTitle && !settings.selectGroup" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle}" class="pure-checkbox">\r\n            <input *ngIf="settings.showCheckbox && settings.selectGroup" type="checkbox" [checked]="isSelected(item)" [disabled]="settings.limitSelection == selectedItems?.length && !isSelected(item)"\r\n            />\r\n            <label>{{item[settings.labelKey]}}</label>\r\n        </li>\r\n         <li  (click)="selectGroup(item)" *ngIf="item.grpTitle && settings.selectGroup" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle}" class="pure-checkbox">\r\n            <input *ngIf="settings.showCheckbox && settings.selectGroup" type="checkbox" [checked]="item.selected" [disabled]="settings.limitSelection == selectedItems?.length && !isSelected(item)"\r\n            />\r\n            <label>{{item[settings.labelKey]}}</label>\r\n        </li>\r\n        </span> --\x3e\r\n        </ul>\r\n    </div>\r\n\r\n    <h5 class="list-message" *ngIf="!hasValue(data)">{{ settings.noDataLabel }}</h5>\r\n\r\n</div>\r\n',host:{"[class]":"defaultSettings.classes"},providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return n})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:t.forwardRef((function(){return n})),multi:!0}],encapsulation:t.ViewEncapsulation.None}),S(4,t.Optional()),S(4,t.Attribute("multiple")),S(5,t.Optional()),S(5,t.Attribute("simple")),S(6,t.Optional()),S(6,t.Attribute("primaryKey")),S(7,t.Optional()),S(7,t.Attribute("labelKey"))],e)}(),ke=[Ee,ge,ve,ye,be],Te=function(){function e(){}return e=b([t.NgModule({imports:[g.CommonModule,v.BrowserModule,a.FormsModule,Ce],declarations:E(ke),exports:E(ke),providers:[me]})],e)}(),Ae=function(){function e(e,t,i){this._fb=e,this._renderer=t,this._elementRef=i,this.class=!0,this.modelForm=this._fb.group({via:["",[a.Validators.required]],address1:["",[a.Validators.required,a.Validators.maxLength(50)]],address2:["",a.Validators.maxLength(50)],address3:["",a.Validators.maxLength(50)]}),this.viaOptionsSubs=[],this.viaRegex=/^Autopista|Avenida Calle|Avenida Carrera|Avenida|Calle|Carrera|Circunvalar|Circular|Diagonal|Kilometro|Manzana|Transversal$/i,this.viaOptions=["Autopista","Avenida","Avenida Calle","Avenida Carrera","Calle","Carrera","Circunvalar","Circular","Diagonal","Kilometro","Manzana","Transversal","Via"],this.viaOptionsOriginal=["Autopista","Avenida","Avenida Calle","Avenida Carrera","Calle","Carrera","Circunvalar","Circular","Diagonal","Kilometro","Manzana","Transversal","Via"]}var n;return n=e,e.prototype.writeValue=function(e){var t=this;if(O(e)){var i=void 0,n=void 0,r=void 0;e=e.trim().replace(/\s+/g," "),/(\s?-\s?)+/.test(e)?(r=e.split(/(\s?-\s?)+/),this.modelForm.get("address3").setValue(r[r.length-1].trim().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")),n=r[0].trim()):n=e,/(\s?[#]\s?)+/.test(n)?(n=n.split(/(\s?[#]\s?)+/),this.modelForm.get("address2").setValue(n[n.length-1].trim().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")),i=n[0].trim()):i=e,this.viaRegex.test(i)&&(i=i.split(this.viaRegex),this.modelForm.get("address1").setValue(i[i.length-1].trim().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")),setTimeout((function(){t.setVia(t.viaRegex.exec(e)[0].split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "))})))}},e.prototype.generateValue=function(){var e,t,i;return this.modelForm.get("via").value+" "+(null===(e=this.modelForm.get("address1").value)||void 0===e?void 0:e.trim().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "))+" # "+(null===(t=this.modelForm.get("address2").value)||void 0===t?void 0:t.trim().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "))+" - "+(null===(i=this.modelForm.get("address3").value)||void 0===i?void 0:i.trim().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" "))},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.onChange=function(e){},e.prototype.registerOnTouched=function(e){this.onTouch=e},e.prototype.onTouch=function(){},e.prototype.ngOnInit=function(){var e=this;this.modelSub=this.modelForm.valueChanges.subscribe((function(){e.modelForm.valid?e.onChange(e.generateValue()):e.onChange(null)}))},e.prototype.ngAfterViewInit=function(){var e=this;this._renderer.removeChild(this.viaElCont.nativeElement,this.viaOptionsEl.nativeElement),setTimeout((function(){O(e.viaElHint.nativeElement.value)||(e.viaElHint.nativeElement.value="Calle")}))},e.prototype.openViaOptions=function(){var e=this;this.viaOptionsSubs.push(i.fromEvent(window,"click").pipe(l.filter((function(t){return!e.viaElCont.nativeElement.contains(t.target)}))).subscribe((function(){e.setVia(e.viaOptions[0])}))),this.viaOptionsSubs.push(i.fromEvent(window,"keyup").pipe(l.filter((function(e){return H(e.key.toLowerCase(),["arrowright","escape","enter"])}))).subscribe((function(){e.setVia(e.viaOptions[0])}))),this.filterViaOptions(this.modelForm.get("via").value),this.setPositionDropdown(),this._renderer.appendChild(this.viaElCont.nativeElement,this.viaOptionsEl.nativeElement)},e.prototype.closeDropdown=function(){this.viaOptionsSubs.forEach((function(e){return e.unsubscribe()})),this.viaOptionsSubs=[],this._renderer.removeChild(this.viaElCont.nativeElement,this.viaOptionsEl.nativeElement),this.address1.nativeElement.focus()},e.prototype.setPositionDropdown=function(){var e=this;setTimeout((function(){var t=e.viaOptionsEl.nativeElement,i=e.viaEl.nativeElement,n=document.documentElement.offsetHeight-(t.offsetHeight+i.getBoundingClientRect().top+i.offsetHeight);e._renderer.setStyle(t,"left",i.getBoundingClientRect().left-6+"px"),n>0?(e._renderer.removeClass(i,"ontop"),e._renderer.removeClass(t,"ontop"),e._elementRef.nativeElement.style.removeProperty("bottom"),e._renderer.setStyle(t,"top",i.getBoundingClientRect().bottom+"px")):(e._renderer.addClass(i,"ontop"),e._renderer.addClass(t,"ontop"),e._elementRef.nativeElement.style.removeProperty("top"),e._renderer.setStyle(t,"bottom",document.documentElement.offsetHeight-i.getBoundingClientRect().top+"px"))}))},e.prototype.filterViaOptions=function(e){var t,i=this;O(e)?(this.viaOptions=this.viaOptionsOriginal.filter((function(t){var i;return t.slice(0,e.length).toLowerCase()===(null===(i=e)||void 0===i?void 0:i.toLowerCase())})),O(this.viaOptions)?(this.viaElHint.nativeElement.value=this.viaOptions[0],this.viaEl.nativeElement.value=null===(t=this.viaEl.nativeElement.value)||void 0===t?void 0:t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")):this.viaElHint.nativeElement.value="",setTimeout((function(){i.setPositionDropdown()}))):this.viaOptions=this.viaOptionsOriginal},e.prototype.viaBlur=function(){O(this.modelForm.get("via").value)||this.setVia(this.viaOptions[0])},e.prototype.setVia=function(e){O(e)?(this.modelForm.get("via").setValue(e),this.viaEl.nativeElement.value=e,this.viaElHint.nativeElement.value=e):(this.viaEl.nativeElement.value="",this.viaElHint.nativeElement.value=""),this.closeDropdown()},e.prototype.ngOnDestroy=function(){var e;this.modelSub.unsubscribe(),null===(e=this.viaOptionsSubs)||void 0===e||e.forEach((function(e){var t;return null===(t=e)||void 0===t?void 0:t.unsubscribe()}))},e.ctorParameters=function(){return[{type:a.FormBuilder},{type:t.Renderer2},{type:t.ElementRef}]},b([t.HostBinding("class.address-input")],e.prototype,"class",void 0),b([t.ViewChild("viaOptionsEl")],e.prototype,"viaOptionsEl",void 0),b([t.ViewChild("viaElCont")],e.prototype,"viaElCont",void 0),b([t.ViewChild("viaEl")],e.prototype,"viaEl",void 0),b([t.ViewChild("viaElHint")],e.prototype,"viaElHint",void 0),b([t.ViewChild("address1")],e.prototype,"address1",void 0),e=n=b([t.Component({selector:"address-col-input",template:'<ng-container [formGroup]="modelForm">\n\n    <div class="via" #viaElCont>\n        <input type="text" class="not-styled via-input" [size]="viaElHint?.value ? viaElHint?.value?.length : 1" #viaEl (focus)="openViaOptions()" (input)="filterViaOptions(viaEl.value)" autocomplete="off" spellcheck="false" >\n        <input type="text" #viaElHint class="not-styled hint" [size]="viaElHint?.value ? viaElHint?.value?.length : 1" />\n\n        <div class="via-options" #viaOptionsEl>\n            <div class="via-item" *ngFor="let item of viaOptions" (click)="setVia(item)">{{ item }}</div>\n        </div>\n    </div>\n\n    <input class="not-styled address1" #address1 placeholder="" formControlName="address1"  [size]="address1?.value ? address1?.value?.length : 1" />\n\n    <span class="separator s1">#</span>\n\n    <input class="not-styled address2" #address2 placeholder="" formControlName="address2"  [size]="address2?.value ? address2?.value?.length : 1" />\n\n    <span class="separator s2">-</span>\n\n    <input class="not-styled address3" #address3 placeholder="" formControlName="address3"  [size]="address3?.value ? address3?.value?.length : 1" />\n\n</ng-container>\n',providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return n})),multi:!0}],encapsulation:t.ViewEncapsulation.None})],e)}(),Oe=function(){function e(){}return e.prototype.transform=function(e,t,i){var n=this;if(!O(e)||!O(t))return e;var r=e.filter((function(e){return n.applyFilter(e,t,i)}));return O(r)?r:[]},e.prototype.applyFilter=function(e,t,i){var n=!1;if(i.length>0)if(e.grpTitle)n=!0;else for(var r=0;r<i.length;r++)t&&e[i[r]]&&""!==e[i[r]]&&e[i[r]].toString().toLowerCase().indexOf(t.toLowerCase())>=0&&(n=!0);else if(e.grpTitle)n=!0;else for(var o in e)t&&e[o]&&e[o].toString().toLowerCase().indexOf(t.toLowerCase())>=0&&(n=!0);return n},e=b([t.Pipe({name:"serFilterListFilter",pure:!0})],e)}(),De=function(){},Pe=function(){function e(e,n,r,o,s){this._elementRef=e,this.cdr=n,this._renderer=r,this.data=[],this.onSelect=new t.EventEmitter,this.onDeSelect=new t.EventEmitter,this.onSelectAll=new t.EventEmitter,this.onDeSelectAll=new t.EventEmitter,this.onOpen=new t.EventEmitter,this.onClose=new t.EventEmitter,this.onScrollToEnd=new t.EventEmitter,this.onFilterSelectAll=new t.EventEmitter,this.onFilterDeSelectAll=new t.EventEmitter,this.onAddFilterNewItem=new t.EventEmitter,this.onGroupSelect=new t.EventEmitter,this.onGroupDeSelect=new t.EventEmitter,this.isDisabled=!1,this.isActive=!1,this.searchTerm$=new i.Subject,this.selectedItems=[],this.isSelectAll=!1,this.isFilterSelectAll=!1,this.chunkIndex=[],this.cachedItems=[],this.groupCachedItems=[],this.itemHeight=41.6,this.filterLength=0,this.labelActive=!1,this.dropdownSubs=[],this.defaultSettings={enableCheckAll:!0,selectAllText:"Seleccionar todo",unSelectAllText:"Deseleccionar todo",filterSelectAllText:"Seleccionar todos los resultados filtrados",filterUnSelectAllText:"Deseleccionar todos los resultados filtrados",searchBy:["name"],maxHeight:300,classes:"",searchPlaceholderText:"Filtrar",noDataLabel:"Sin datos disponibles",labelKey:"name",primaryKey:"id",disabledKey:"disabled",enableFilterSelectAll:!0,clearAll:!0},this.randomSize=!0,this.filteredList=[],this.isDisabledItemPresent=!1,this.hasValue=O,this.onChangeCallback=De,this.onTouchedCallback=De,null!==o&&(this.defaultSettings.primaryKey=o),null!==s&&(this.defaultSettings.labelKey=s)}var n;return n=e,e.prototype.ngOnInit=function(){this.settings=Object.assign(this.defaultSettings,this.settings),this.cachedItems=this.cloneArray(this.data)},e.prototype.ngOnChanges=function(e){e.data&&!e.data.firstChange&&(this.cachedItems=this.cloneArray(this.data)),e.settings&&!e.settings.firstChange&&(this.settings=Object.assign(this.defaultSettings,this.settings)),e.loading},e.prototype.ngAfterViewInit=function(){this._renderer.removeChild(this._elementRef.nativeElement,this.dropdownListElem.nativeElement)},e.prototype.onItemClick=function(e,t,i){if(this.isDisabled||e[this.settings.disabledKey])return!1;this.isSelected(e)?(this.removeSelected(e),this.onDeSelect.emit(e)):(this.addSelected(e),this.onSelect.emit(e)),(this.isSelectAll||this.data.length>this.selectedItems.length)&&(this.isSelectAll=!1),this.data.length===this.selectedItems.length&&(this.isSelectAll=!0)},e.prototype.validate=function(e){return null},e.prototype.writeValue=function(e){var t,i=this;if(O(e)){if(!Array.isArray(e))throw Error('Single value detected as input, please set "singleSelection" setting in true or remove "multiple" attribute in the select if you added');var n=null===(t=this.data)||void 0===t?void 0:t.filter((function(t){return H(t[i.settings.primaryKey],e)}));if(!O(n))throw this.selectedItems=[],Error('No primaryKey finded in options, please set "primaryKey" setting with the correct value');this.selectedItems=n,this.selectedItems.length===this.data.length&&this.data.length>0&&(this.isSelectAll=!0)}else this.selectedItems=[]},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.isDisabled=e},e.prototype.trackByFn=function(e){return e[this.settings.primaryKey]},e.prototype.isSelected=function(e){var t,i;if(e[this.settings.disabledKey])return!1;var n=!1;if(O(this.selectedItems))try{for(var r=I(this.selectedItems),o=r.next();!o.done;o=r.next()){var s=o.value;if(e[this.settings.primaryKey]===s[this.settings.primaryKey]){n=!0;break}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},e.prototype.addSelected=function(e){var t=this;this.selectedItems.push(e);var i=this.selectedItems.map((function(e){return e[t.settings.primaryKey]}));this.onChangeCallback(i),this.onTouchedCallback(i)},e.prototype.removeSelected=function(e){var t=this;O(this.selectedItems)&&this.selectedItems.forEach((function(i,n){e[t.settings.primaryKey]===i[t.settings.primaryKey]&&t.selectedItems.splice(n,1)})),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems)},e.prototype.toggleDropdown=function(e){if(this.isDisabled)return!1;this.isActive=!this.isActive,this.isActive?this.openDropdown():this.closeDropdown(),e.preventDefault()},e.prototype.openDropdown=function(){var e=this;if(this.isDisabled)return!1;this.isActive=!0,this.labelActive=!0,this.dropdownSubs.push(i.fromEvent(window,"click").pipe(l.filter((function(t){return!e._elementRef.nativeElement.contains(t.target)}))).subscribe((function(){return e.closeDropdown()}))),this.dropdownSubs.push(i.fromEvent(window,"keyup").pipe(l.filter((function(e){return"escape"===e.key.toLowerCase()}))).subscribe((function(){return e.closeDropdown()}))),this.dropdownSubs.push(i.fromEvent(this._elementRef.nativeElement,"scroll").subscribe((function(){return console.log("scroll")}))),this.dropdownSubs.push(i.fromEvent(window,"resize").subscribe((function(){return e.setPositionDropdown()}))),this.setPositionDropdown(),this._renderer.appendChild(this._elementRef.nativeElement,this.dropdownListElem.nativeElement),setTimeout((function(){var t;null===(t=e.searchInput)||void 0===t||t.nativeElement.focus()}),0),this.onOpen.emit(!0)},e.prototype.closeDropdown=function(){this.searchInput&&(this.searchInput.nativeElement.value=""),this.clearSearch(),this.isActive=!1,this.labelActive=!1,this.dropdownSubs.forEach((function(e){return e.unsubscribe()})),this.dropdownSubs=[],this.onClose.emit(!1),this._renderer.removeChild(this._elementRef.nativeElement,this.dropdownListElem.nativeElement)},e.prototype.setPositionDropdown=function(){var e=this;setTimeout((function(){var t=e.dropdownListElem.nativeElement,i=e.searchInput.nativeElement,n=document.documentElement.offsetHeight-(t.offsetHeight+i.getBoundingClientRect().top+i.offsetHeight);e._renderer.setStyle(t,"width",i.offsetWidth+"px"),e._renderer.setStyle(t,"left",i.getBoundingClientRect().left+"px"),n>0?(e._renderer.removeClass(i,"ontop"),e._renderer.removeClass(t,"ontop"),e._elementRef.nativeElement.style.removeProperty("bottom"),e._renderer.setStyle(t,"top",i.getBoundingClientRect().bottom+"px")):(e._renderer.addClass(i,"ontop"),e._renderer.addClass(t,"ontop"),e._elementRef.nativeElement.style.removeProperty("top"),e._renderer.setStyle(t,"bottom",document.documentElement.offsetHeight-i.getBoundingClientRect().top+"px"))}))},e.prototype.toggleSelectAll=function(){var e=this;if(this.isSelectAll)this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems);else{this.selectedItems=[],this.selectedItems=this.data.filter((function(t){return!t[e.settings.disabledKey]}));var t=this.selectedItems.map((function(t){return t[e.settings.primaryKey]}));this.isSelectAll=!0,this.onChangeCallback(t),this.onTouchedCallback(t),this.onSelectAll.emit(this.selectedItems)}this.closeDropdown()},e.prototype.toggleFilterSelectAll=function(){if(this.isFilterSelectAll){this.isFilterSelectAll=!1,this.onFilterDeSelectAll.emit([])}else{this.isFilterSelectAll=!0,this.onFilterSelectAll.emit([])}this.closeDropdown()},e.prototype.clearSearch=function(){var e=this;this.filter="",this.isFilterSelectAll=!1,setTimeout((function(){var t;null===(t=e.searchInput)||void 0===t||t.nativeElement.focus()}),0)},e.prototype.onFilterChange=function(e){var t=this;(this.filter&&""===this.filter||0===e.length)&&(this.isFilterSelectAll=!1);var i=0;e.forEach((function(e){!e.hasOwnProperty("grpTitle")&&t.isSelected(e)&&i++})),i>0&&this.filterLength===i?this.isFilterSelectAll=!0:i>0&&this.filterLength!==i&&(this.isFilterSelectAll=!1),this.cdr.detectChanges()},e.prototype.cloneArray=function(e){if(Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"==typeof e)throw Error("Cannot clone array containing an object!");return e},e.prototype.onScrollEnd=function(e){e.endIndex===this.data.length-1||e.startIndex,this.onScrollToEnd.emit(e)},e.prototype.clearSelection=function(e){this.clearSearch(),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems),e.stopPropagation()},e.prototype.getItemContext=function(e){return e},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe(),this.dropdownSubs.forEach((function(e){e.unsubscribe()}))},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:t.Renderer2},{type:void 0,decorators:[{type:t.Optional},{type:t.Attribute,args:["primaryKey"]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Attribute,args:["labelKey"]}]}]},b([t.Input()],e.prototype,"data",void 0),b([t.Input()],e.prototype,"settings",void 0),b([t.Input()],e.prototype,"loading",void 0),b([t.Input()],e.prototype,"multiple",void 0),b([t.Input()],e.prototype,"label",void 0),b([t.Output("onSelect")],e.prototype,"onSelect",void 0),b([t.Output("onDeSelect")],e.prototype,"onDeSelect",void 0),b([t.Output("onSelectAll")],e.prototype,"onSelectAll",void 0),b([t.Output("onDeSelectAll")],e.prototype,"onDeSelectAll",void 0),b([t.Output("onOpen")],e.prototype,"onOpen",void 0),b([t.Output("onClose")],e.prototype,"onClose",void 0),b([t.Output("onScrollToEnd")],e.prototype,"onScrollToEnd",void 0),b([t.Output("onFilterSelectAll")],e.prototype,"onFilterSelectAll",void 0),b([t.Output("onFilterDeSelectAll")],e.prototype,"onFilterDeSelectAll",void 0),b([t.Output("onAddFilterNewItem")],e.prototype,"onAddFilterNewItem",void 0),b([t.Output("onGroupSelect")],e.prototype,"onGroupSelect",void 0),b([t.Output("onGroupDeSelect")],e.prototype,"onGroupDeSelect",void 0),b([t.ContentChild(ve,{static:!0})],e.prototype,"itemTempl",void 0),b([t.ContentChild(ye,{static:!0})],e.prototype,"badgeTempl",void 0),b([t.ViewChild("searchInput")],e.prototype,"searchInput",void 0),b([t.ViewChild("selectedList")],e.prototype,"selectedListElem",void 0),b([t.ViewChild("dropdownList")],e.prototype,"dropdownListElem",void 0),b([t.HostBinding("class.disabled")],e.prototype,"isDisabled",void 0),b([t.HostBinding("class.active")],e.prototype,"isActive",void 0),e=n=b([t.Component({selector:"ser-filter",template:'<div class="list-filter" #searchInput (click)="toggleDropdown($event)">\r\n\r\n    <span class="material-icons icon-search">search</span>\r\n\r\n    <div class="label" [ngClass]="{active: labelActive}">{{ label }}</div>\r\n\r\n    <input class="c-input not-styled" type="text" [(ngModel)]="filter">\r\n\r\n    <span [hidden]="!hasValue(filter)" (click)="clearSearch()" class="material-icons icon-clear">cancel</span>\r\n\r\n    <div class="controls">\r\n\r\n        \x3c!-- <button type="button" *ngIf="settings.clearAll && !isDisabled && selectedItems?.length > 0" class="clear-all" (click)="clearSelection($event);">\r\n            <span class="material-icons">close</span>\r\n        </button> --\x3e\r\n\r\n        <span class="material-icons chevron" [ngClass]="{\'rotate\': isActive}">keyboard_arrow_down</span>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="selected-list" #selectedList [attr.tabindex]="0">\r\n\r\n    <div class="values">\r\n\r\n        <ng-container *ngIf="hasValue(selectedItems)">\r\n\r\n            <div class="token-list">\r\n                <div class="token" *ngFor="let item of selectedItems;trackBy: trackByFn.bind(this);let k = index">\r\n                    <ng-container>\r\n\r\n                        <span *ngIf="!hasValue(badgeTempl)" class="label">{{ item[settings.labelKey] }}</span>\r\n                        <span *ngIf="hasValue(badgeTempl)" class="label">\r\n                            <ng-container *ngTemplateOutlet="badgeTempl.template; context:{item: item}"></ng-container>\r\n                        </span>\r\n\r\n                        <span class="remove" (click)="onItemClick(item, k, $event);$event.stopPropagation()">\r\n                            <span class="material-icons">close</span>\r\n                        </span>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n\r\n        </ng-container>\r\n    </div>\r\n</div>\r\n\r\n<div #dropdownList class="dropdown-list">\r\n\r\n    <div class="pure-checkbox select-all" *ngIf="settings.enableCheckAll && data?.length > 0 && !isDisabledItemPresent" (click)="toggleSelectAll()">\r\n        <input type="checkbox" [checked]="isSelectAll" />\r\n        <label>\r\n            <span [hidden]="isSelectAll">{{ settings.selectAllText }}</span>\r\n            <span [hidden]="!isSelectAll">{{ settings.unSelectAllText }}</span>\r\n        </label>\r\n    </div>\r\n\r\n    <div class="filter-select-all" *ngIf="settings.enableFilterSelectAll && !isDisabledItemPresent">\r\n\r\n        <div class="pure-checkbox select-all" *ngIf="filter?.length > 0 && filterLength > 0" (click)="toggleFilterSelectAll()">\r\n            <input type="checkbox" [checked]="isFilterSelectAll" />\r\n            <label>\r\n                <span [hidden]="isFilterSelectAll">{{settings.filterSelectAllText}}</span>\r\n                <span [hidden]="!isFilterSelectAll">{{settings.filterUnSelectAllText}}</span>\r\n            </label>\r\n        </div>\r\n\r\n        \x3c!-- <div class="nodata-label" *ngIf="filterLength == 0" [hidden]="filter == undefined || filter?.length == 0">{{ settings.noDataLabel }}</div> --\x3e\r\n\r\n    </div>\r\n\r\n    <div *ngIf="!hasValue(itemTempl)" class="list lazyContainer" [style.maxHeight]="settings.maxHeight+\'px\'">\r\n        <ng-container *ngFor="let item of data | serFilterListFilter:filter : settings.searchBy; let i = index;">\r\n            <div class="item pure-checkbox"  *ngIf="!isSelected(item)" (click)="onItemClick(item, i, $event)">\r\n                {{ item[settings.labelKey] }}\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n\r\n    <div *ngIf="hasValue(itemTempl)" class="list lazyContainer" [style.maxHeight]="settings.maxHeight+\'px\'">\r\n        <ng-container *ngFor="let item of data | serFilterListFilter:filter : settings.searchBy; let i = index;">\r\n            <div class="item pure-checkbox" *ngIf="!isSelected(item)" (click)="onItemClick(item, i, $event)">\r\n                <ng-container *ngTemplateOutlet="itemTempl.template; context:{item: item}"></ng-container>\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n\r\n    <h5 class="list-message" *ngIf="!hasValue(data)">{{ settings.noDataLabel }}</h5>\r\n\r\n</div>\r\n',host:{"[class]":"defaultSettings.classes"},providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return n})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:t.forwardRef((function(){return n})),multi:!0}],encapsulation:t.ViewEncapsulation.None}),S(3,t.Optional()),S(3,t.Attribute("primaryKey")),S(4,t.Optional()),S(4,t.Attribute("labelKey"))],e)}(),_e=[Pe,Oe],Le=function(){function e(){}return e=b([t.NgModule({imports:[g.CommonModule,v.BrowserModule,a.FormsModule],declarations:E(_e),exports:E(_e),providers:[]})],e)}(),Fe=[de,he,ue,pe,fe,Ae],Me=function(){function e(){}return e=b([t.NgModule({imports:[g.CommonModule,v.BrowserModule,a.ReactiveFormsModule],declarations:E(Fe),exports:E(Fe,[Te,Le])})],e)}(),ze=function(){function e(e,i){var n=this;this._elementRef=e,this.callback=new t.EventEmitter,this.listener=i.listen(this._elementRef.nativeElement,"scroll",(function(e){e.target.scrollTop+e.target.offsetHeight>=e.target.scrollHeight&&n.callback.emit()}))}return e.prototype.ngOnDestroy=function(){this.listener()},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},b([t.Output()],e.prototype,"callback",void 0),e=b([t.Directive({selector:"[whenScrolled]"})],e)}(),Re=function(){function e(e,i){var n=this;this._elementRef=e,this.callback=new t.EventEmitter,this.listener=i.listen(this._elementRef.nativeElement,"keyup",(function(){n.inputChangedPromise&&clearTimeout(n.inputChangedPromise),n.inputChangedPromise=setTimeout((function(){n.callback.emit()}),500)}))}return e.prototype.ngOnDestroy=function(){this.listener()},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},b([t.Output()],e.prototype,"callback",void 0),e=b([t.Directive({selector:"[finishTyping]"})],e)}(),Be=function(){function e(){this.valToCopy="",this.copied=new t.EventEmitter}return e.prototype.onClick=function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.zIndex="-1000",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=this.valToCopy,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.copied.emit(this.valToCopy)},b([t.Input("copyToClipboard")],e.prototype,"valToCopy",void 0),b([t.Output()],e.prototype,"copied",void 0),b([t.HostListener("click",["$event"])],e.prototype,"onClick",null),e=b([t.Directive({selector:"[copyToClipboard]"})],e)}(),je=function(){function e(e,t,i){this.el=e,this.rendered=t,this.aws=i,this.imageRegex=/(image\/(jpe?g|png|gif|bmp))/i}return e.prototype.ngOnChanges=function(){var e=this;O(this.image.file)&&this.image.file instanceof File&&this.imageRegex.test(this.image.file.type)?X(this.image.file).pipe(l.take(1)).subscribe((function(t){e.rendered.setStyle(e.el.nativeElement,"background-image","url("+t+")")})):O(this.image.url)?this.rendered.setStyle(this.el.nativeElement,"background-image",this.aws.getS3BgUrl(this.image.url)):this.rendered.removeStyle(this.el.nativeElement,"background-image")},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:P}]},b([t.Input("bgImage")],e.prototype,"image",void 0),e=b([t.Directive({selector:"[bgImage]"})],e)}(),Ve=[ze,Re,je,Be],Ge=function(){function e(){}return e=b([t.NgModule({declarations:E(Ve),exports:E(Ve)})],e)}();e.AWS_CONFIG=D,e.AddressColComponent=Ae,e.AwsModule=_,e.AwsService=P,e.ClaimsService=W,e.CookiesService=k,e.CopyToClipboardDirective=Be,e.CustomValidators=ce,e.DataService=me,e.ExternalScriptService=T,e.FacebookSDKConfig=B,e.FacebookSDKModule=G,e.FacebookSDKService=V,e.FinishTypingDirective=Re,e.GoogleClientConfig=F,e.GoogleSDKConfig=L,e.GoogleSDKModule=R,e.GoogleSDKService=z,e.KEYBOARD_KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9},e.LEAFLET_MAP_LAYERS=Z,e.LeafletMap=J,e.MapService=$,e.NG_FSDK_CONFIG=j,e.NG_GAPI_CONFIG=M,e.PinInputComponent=fe,e.PrefersColorSchemeService=A,e.SDBadgeDirective=ye,e.SDItemDirective=ve,e.SDSearchDirective=be,e.SerControlDirective=he,e.SerErrorDirective=pe,e.SerErrorsDirective=ue,e.SerFilterComponent=Pe,e.SerFilterListFilterPipe=Oe,e.SerFilterModule=Le,e.SerFormElementComponent=de,e.SerFormModule=Me,e.SerSelectComponent=Ee,e.SerSelectListFilterPipe=ge,e.SerSelectModule=Te,e.SerUiModule=Ge,e.VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY=Se,e.VirtualScrollerComponent=we,e.VirtualScrollerModule=Ce,e.WhenScrolledDirective=ze,e.arrayGroupBy=function(e,t){for(var i={},n=0;n<e.length;++n)void 0===i[e[n][t]]&&(i[e[n][t]]=[]),i[e[n][t]].push(e[n]);return i},e.browserWidth=function(){return 0<window.innerWidth?window.innerWidth:screen.width},e.generatePassword=function(e){var t,i,n,r,o={length:8,numbers:!0,specialChars:!1,lettersLowerCase:!0,lettersUpperCase:!0};N(o,e);var s="";(null===(t=o)||void 0===t?void 0:t.numbers)&&(s+="0123456789"),(null===(i=o)||void 0===i?void 0:i.lettersLowerCase)&&(s+="abcdefghijklmnopqrstuvwxyz"),(null===(n=o)||void 0===n?void 0:n.lettersUpperCase)&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),(null===(r=o)||void 0===r?void 0:r.specialChars)&&(s+="!#$%&()*+,-./:;<=>?@^[\\]^_`{|}~");for(var l="",a=0,c=s.length;a<o.length;++a)l+=s.charAt(Math.floor(Math.random()*c));return l},e.getFileType=Q,e.getObjIndexByValue=function(e,t,i){for(var n=0;n<e.length;n++)if(e[n].hasOwnProperty(t)){if(e[n][t]===i)return n;for(var r in e[n][t])if(e[n][t][r]===i)return n}},e.getObjectByValue=function(e,t,i){for(var n=0;n<e.length;n++)if(e[n].hasOwnProperty(t)){if(e[n][t]===i)return e[n];for(var r in e[n][t])if(e[n][t][r]===i)return e[n]}},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.getStyles=function(e){return e instanceof HTMLElement?e.ownerDocument&&e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e):window.getComputedStyle(e):{}},e.guid=function(){return U()+U()+"-"+U()+"-"+U()+"-"+U()+"-"+U()+U()+U()},e.hasPdfViewer=function(){for(var e=0;e<window.navigator.plugins.length;e++)if(window.navigator.plugins[e].name.toLowerCase().indexOf("pdf")>-1)return!0;return!1},e.hasValue=O,e.inArray=H,e.mergeObjs=N,e.notInArray=function(e,t){return!!t&&-1===t.indexOf(e)},e.objHasValue=function(e){return Object.keys(e).length>0},e.objectToGraphParams=function(e){var t,i,n="";try{for(var r=I(Object.entries(e)),o=r.next();!o.done;o=r.next()){var s=x(o.value,2),l=s[0],a=s[1];O(a)&&(n+=l+": ",n+="string"==typeof a?'"'+a+'"':a,n+=",")}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return O(n)&&(n=n.substring(0,n.length-1)),n},e.readAsArrayBuffer=Y,e.readAsDataURL=X,e.setBowserClasses=function(e,t){t.addClass(document.body,"bos-"+e.getOSName().replace(/ +/g,"-")),t.addClass(document.body,"bosv-"+e.getOSVersion().replace(/ +/g,"-")),t.addClass(document.body,"bn-"+e.getBrowserName().replace(/ +/g,"-")),t.addClass(document.body,"bv-"+e.getBrowserVersion().replace(/ +/g,"-"))},e.toArray=K,e.uniqueId=function(){var e=new Date;return U()+U()+U()+U()+U()+U()+U()+U()+Math.floor(e.getTime()*Math.random())},e.ɵ0=xe,e.ɵa=re,e.ɵb=ee,e.ɵc=te,e.ɵd=ie,e.ɵe=ne,e.ɵf=oe,e.ɵg=se,e.ɵh=le,e.ɵi=ae,e.ɵk=je,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sersol-ngx.umd.min.js.map