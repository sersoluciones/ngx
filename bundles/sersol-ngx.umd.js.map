{"version":3,"file":"sersol-ngx.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","ng://@sersol/ngx/cookie/cookies.service.ts","ng://@sersol/ngx/external-script/external-script.service.ts","ng://@sersol/ngx/prefers-color-scheme/prefers-color-scheme.service.ts","ng://@sersol/ngx/utils/check.ts","ng://@sersol/ngx/aws/aws.service.ts","ng://@sersol/ngx/aws/aws.module.ts","ng://@sersol/ngx/google/config/google-sdk.config.ts","ng://@sersol/ngx/google/Igoogle.ts","ng://@sersol/ngx/google/google-sdk.service.ts","ng://@sersol/ngx/google/google-sdk.module.ts","ng://@sersol/ngx/facebook/config/facebook-sdk.config.ts","ng://@sersol/ngx/facebook/facebook-sdk.service.ts","ng://@sersol/ngx/facebook/facebook-sdk.module.ts","ng://@sersol/ngx/utils/array.ts","ng://@sersol/ngx/open-id/claims.service.ts","ng://@sersol/ngx/graphql/utils.ts","ng://@sersol/ngx/utils/object.ts","ng://@sersol/ngx/utils/bowser.ts","ng://@sersol/ngx/utils/navigator.ts","ng://@sersol/ngx/utils/random.ts","ng://@sersol/ngx/utils/keyboard-keys.ts","ng://@sersol/ngx/utils/patterns.ts","ng://@sersol/ngx/map/map.service.ts","ng://@sersol/ngx/map/leaflet/providers.ts","ng://@sersol/ngx/map/leaflet/main.ts","ng://@sersol/ngx/file/read.ts","ng://@sersol/ngx/form/validations/comparison.ts","ng://@sersol/ngx/form/validations/match.ts","ng://@sersol/ngx/form/validations/file.ts","ng://@sersol/ngx/form/validations/remote.ts","ng://@sersol/ngx/form/validations/custom-validators.ts","ng://@sersol/ngx/form/ser-form-element/ser-control.directive.ts","ng://@sersol/ngx/form/ser-form-element/ser-form-element.component.ts","ng://@sersol/ngx/form/ser-errors/ser-errors.directive.ts","ng://@sersol/ngx/form/ser-errors/ser-error.directive.ts","ng://@sersol/ngx/form/pin/pin-input.component.ts","ng://@sersol/ngx/form/select/ser-select.service.ts","ng://@sersol/ngx/form/select/ser-select-list-filter.pipe.ts","ng://@sersol/ngx/form/select/ser-select-menu-item.directive.ts","ng://@sersol/ngx/form/select/virtual-scroll/virtual-scroll.ts","ng://@sersol/ngx/form/select/ser-select.component.ts","ng://@sersol/ngx/form/select/ser-select.module.ts","ng://@sersol/ngx/form/address/address-col/address-col.component.ts","ng://@sersol/ngx/form/filter/ser-filter-list-filter.pipe.ts","ng://@sersol/ngx/form/filter/ser-filter.component.ts","ng://@sersol/ngx/form/filter/ser-filter.module.ts","ng://@sersol/ngx/form/ser-form.module.ts","ng://@sersol/ngx/ui/when-scrolled.directive.ts","ng://@sersol/ngx/ui/finish-typing.directive.ts","ng://@sersol/ngx/ui/copy-to-clipboard.directive.ts","ng://@sersol/ngx/ui/bg-image.directive.ts","ng://@sersol/ngx/ui/ser-ui.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Servicio para obtener, actualizar y borrar cookies en el navegador web\r\n * @example\r\n * constructor(cookiesService: CookiesService) { }\r\n *\r\n * this.cookiesService.get('Test'); // Obtiene el valor de una cookie\r\n * this.cookiesService.set('Test', '123'); // Setea valor de una cookie\r\n * this.cookiesService.delete('Test'); // Elimina una cookie\r\n * this.cookiesService.deleteAll(); // Elimina todas las cookies\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CookiesService {\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * @description\r\n   * Obtiene todas las cookies\r\n   * @returns {}\r\n   */\r\n  public getAll(): {} {\r\n\r\n    const cookies: {} = {};\r\n\r\n    if (document.cookie && document.cookie !== '') {\r\n      const split: string[] = document.cookie.split('; ');\r\n\r\n      for (let i = 0; i < split.length; i += 1) {\r\n        const cookie = split[i].split('=');\r\n        const currentCookie: string = decodeURIComponent(cookie[0].trim());\r\n        const currentValue: any = decodeURIComponent(cookie.slice(1, split[i].length - 1).join('='));\r\n\r\n        // Intenta convertir a tipos de dato diferentes a 'string'\r\n        if (currentValue === 'true') {\r\n          cookies[currentCookie] = true;\r\n        } else if (currentValue === 'false') {\r\n          cookies[currentCookie] = false;\r\n\r\n        } else {\r\n          try {\r\n            cookies[currentCookie] = JSON.parse(currentValue);\r\n          } catch {\r\n            cookies[currentCookie] = currentValue;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    return cookies;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Obtiene el valor de una cookie\r\n   * @param {string} name - Nombre de la cookie\r\n   * @returns {any} Valor de la cookie\r\n   */\r\n  public get(name: string): any {\r\n\r\n    const cookies = this.getAll();\r\n\r\n    if (cookies.hasOwnProperty(name)) {\r\n      return cookies[name];\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  /**\r\n   * @param name     Nombre\r\n   * @param value    valor\r\n   * @param expires  Unix Timestamp en que será vigente la cookie o un objeto `Date`\r\n   * @param path     Ruta\r\n   * @param domain   Dominio\r\n   * @param secure   Cookie segura\r\n   * @param sameSite OWASP samesite token `Lax` ó `Strict`\r\n   */\r\n  public set(\r\n    name: string,\r\n    value: any,\r\n    expires?: number | Date,\r\n    path?: string,\r\n    domain?: string,\r\n    secure?: boolean,\r\n    sameSite?: 'Lax' | 'Strict'\r\n  ): void {\r\n\r\n    if (typeof value === 'object') {\r\n      value = JSON.stringify(value);\r\n    }\r\n\r\n    let cookieString: string = encodeURIComponent(name) + '=' + encodeURIComponent(value) + ';';\r\n\r\n    if (expires) {\r\n      if (typeof expires === 'number') {\r\n        const dateExpires: Date = new Date(expires * 1000);\r\n\r\n        cookieString += 'expires=' + dateExpires.toUTCString() + ';';\r\n      } else {\r\n        cookieString += 'expires=' + expires.toUTCString() + ';';\r\n      }\r\n    }\r\n\r\n    if (path) {\r\n      cookieString += 'path=' + path + ';';\r\n    }\r\n\r\n    if (domain) {\r\n      cookieString += 'domain=' + domain + ';';\r\n    }\r\n\r\n    if (secure) {\r\n      cookieString += 'secure;';\r\n    }\r\n\r\n    if (sameSite) {\r\n      cookieString += 'sameSite=' + sameSite + ';';\r\n    }\r\n\r\n    document.cookie = cookieString;\r\n  }\r\n\r\n\r\n  /**\r\n  * @param name   Nombre\r\n  * @param path   Ruta\r\n  * @param domain Dominio\r\n  */\r\n  public delete(name: string, path?: string, domain?: string): void {\r\n\r\n    this.set(name, '', new Date('Thu, 01 Jan 1970 00:00:01 GMT'), path, domain);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * elimina todas las cookes\r\n   */\r\n  public deleteAll() {\r\n    const cookies = document.cookie.split(';');\r\n\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i];\r\n      const eqPos = cookie.indexOf('=');\r\n      const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Función para insertar scritps externos (ejem: gapi, facebook sdk)\r\n * @example\r\n * constructor(private externalScriptService: ExternalScriptService) { }\r\n *\r\n * this.externalScriptService.insert('google-jssdk', 'https://apis.google.com/js/platform.js?onload=googleSDKLoaded');\r\n * @param {string} id - Id para la etiqueta script\r\n * @param {string} src - url para la etiqueta script\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExternalScriptService {\r\n\r\n  constructor() { }\r\n\r\n  insert(id: string, src: string) {\r\n    const fjs = document.getElementsByTagName('script')[0];\r\n    if (document.getElementById(id)) { return; }\r\n    const js = document.createElement('script') as HTMLScriptElement;\r\n    js.id = id;\r\n    js.src = src;\r\n    fjs.parentNode.insertBefore(js, fjs);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Clase para obtener, observar y cambiar el esquema de color claro/oscuro\r\n * @example\r\n * constructor(prefersColorSchemeService: PrefersColorSchemeService) { }\r\n *\r\n * this.prefersColorSchemeService.init(); // Setea el esquema inicial\r\n * this.prefersColorSchemeService.watch(); // Observa cambio de esquema en OS\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PrefersColorSchemeService {\r\n  private _Scheme: MediaQueryList;\r\n  public get Scheme(): MediaQueryList {\r\n    return this._Scheme;\r\n  }\r\n  public set Scheme(value: MediaQueryList) {\r\n    this._Scheme = value;\r\n  }\r\n\r\n  private _SchemeLightClassName = 'scheme-light';\r\n  public get SchemeLightClassName() {\r\n    return this._SchemeLightClassName;\r\n  }\r\n  public set SchemeLightClassName(value) {\r\n    this._SchemeLightClassName = value;\r\n  }\r\n\r\n  private _SchemeDarkClassName = 'scheme-dark';\r\n  public get SchemeDarkClassName() {\r\n    return this._SchemeDarkClassName;\r\n  }\r\n  public set SchemeDarkClassName(value) {\r\n    this._SchemeDarkClassName = value;\r\n  }\r\n\r\n  constructor() {\r\n    this.Scheme = window.matchMedia('(prefers-color-scheme: dark)');\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Inicializar el esquema de color\r\n   * @usageNotes\r\n   * Usarse unicamente si se desea aplicar el esquema de color acorde al esquema de color del sistema operativo\r\n   */\r\n  init() {\r\n    if (this.Scheme.matches) {\r\n      this.enableDark();\r\n    } else {\r\n      this.enableLight();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Obtener el esquema de color actual del SO\r\n   * @returns {string} Esquema de color\r\n   */\r\n  get(): string {\r\n    if (this.Scheme.matches) {\r\n      return 'dark';\r\n    } else {\r\n      return 'light';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Agrega SchemeDarkClassName y remueve SchemeLightClassName a la etiqueta body\r\n   */\r\n  enableDark() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    if (body.classList.contains(this.SchemeLightClassName)) {\r\n      body.classList.remove(this.SchemeLightClassName);\r\n    }\r\n\r\n    body.classList.add(this.SchemeDarkClassName);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Agrega SchemeLightClassName y remueve SchemeDarkClassName a la etiqueta body\r\n   */\r\n  enableLight() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    if (body.classList.contains(this.SchemeDarkClassName)) {\r\n      body.classList.remove(this.SchemeDarkClassName);\r\n    }\r\n\r\n    body.classList.add(this.SchemeLightClassName);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Habilita el cambio automatico de esquema de color según el cambio de esquema de color del SO\r\n   */\r\n  watch() {\r\n\r\n    const setScheme = (ev: MediaQueryListEvent) => {\r\n      if (ev.matches) {\r\n        console.log('Changed to dark mode');\r\n        this.enableDark();\r\n      } else {\r\n        console.log('Changed to light mode');\r\n        this.enableLight();\r\n      }\r\n    };\r\n\r\n    if (typeof this.Scheme.onchange === 'function') {\r\n\r\n      this.Scheme.onchange  = setScheme;\r\n\r\n    } else if (typeof this.Scheme.addEventListener === 'function') {\r\n\r\n      this.Scheme.addEventListener('change', setScheme);\r\n\r\n    // tslint:disable-next-line: deprecation\r\n    } else if (typeof this.Scheme.addListener === 'function') {\r\n\r\n      // tslint:disable-next-line: deprecation\r\n      this.Scheme.addListener(setScheme);\r\n\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @description\r\n * Función para verificar si una variable cumple con los siguiente:\r\n * - Si es un arreglo, verifica si tiene un tamaño mayor a cero\r\n * - No tiene ninguno de estos valores: '', null, undefined, NaN\r\n * @param {any | any[]} variable Variable a verificar\r\n * @returns {boolean}\r\n */\r\nexport function hasValue(variable: any | any[]): boolean {\r\n  if (Array.isArray(variable)) {\r\n    return 0 < variable.length;\r\n  } else {\r\n    return ['', null, undefined, NaN].indexOf(variable) === -1;\r\n  }\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para verificar si un objeto no esta vacío\r\n * @param {any} value Objeto a verificar\r\n * @returns {boolean}\r\n */\r\nexport function objHasValue(value: any): boolean {\r\n  return Object.keys(value).length > 0;\r\n}\r\n","import { AwsData } from './Iaws';\r\nimport { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport { hasValue } from '../utils/check';\r\n\r\nexport let AWS_CONFIG: InjectionToken<AwsData> = new InjectionToken<AwsData>('aws.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para verificar si es usuario tiene o no permisos para realizar ciertas acciones\r\n * @example\r\n * constructor(private claimsService: ClaimsService) { }\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AwsService {\r\n\r\n    private _awsData: AwsData;\r\n    public get awsData(): AwsData {\r\n        return this._awsData;\r\n    }\r\n    public set awsData(value: AwsData) {\r\n        this._awsData = value;\r\n    }\r\n\r\n    constructor(@Inject(AWS_CONFIG) config: AwsData) {\r\n        this.awsData = config;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método obtener url de assets en S3\r\n     * @param {string} key - Ruta del objeto en el bucket (Sin '/' al principio)\r\n     * @example\r\n     * this.awsService.getS3Url('assets/file.png');\r\n     * @returns {string}\r\n     */\r\n    public getS3Url(key: string): string {\r\n        if (hasValue(key)) {\r\n            return `https://${this.awsData.s3.bucket}.s3.amazonaws.com/${key}`;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método obtener url de assets en S3\r\n     * @param {string} key - Ruta del objeto en el bucket (Sin '/' al principio)\r\n     * @example\r\n     * this.awsService.getS3Url('assets/file.png');\r\n     * @returns {string}\r\n     */\r\n    public getS3BgUrl(key: string): string {\r\n        if (hasValue(key)) {\r\n            return `url(https://${this.awsData.s3.bucket}.s3.amazonaws.com/${key})`;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { AwsService } from './aws.service';\r\n\r\n/**\r\n * @description\r\n * Módulo para inicializar el servicio AwsService\r\n * @example\r\n * import { AWS_CONFIG, AwsModule } from '@sersol/ngx';\r\n *\r\n * @NgModule({\r\n    imports: [\r\n      ...,\r\n      AwsModule.forRoot({\r\n          provide: AWS_CONFIG,\r\n          useValue: {\r\n              s3: {\r\n                bucket: 'ser-app'\r\n              }\r\n          }\r\n      }),\r\n      ...\r\n    ],\r\n    declarations: [...],\r\n    schemas: [...],\r\n    providers: [...],\r\n    bootstrap: [...]\r\n})\r\nexport class AppModule { }\r\n */\r\n@NgModule()\r\nexport class AwsModule {\r\n  static forRoot(ConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: AwsModule,\r\n      providers: [\r\n        ConfigProvider,\r\n        AwsService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","\r\n\r\nexport class GoogleSDKConfig {\r\n  private _clientConfig: gapi.auth2.ClientConfig;\r\n  public get clientConfig(): gapi.auth2.ClientConfig {\r\n    return this._clientConfig;\r\n  }\r\n  public set clientConfig(value: gapi.auth2.ClientConfig) {\r\n    this._clientConfig = value;\r\n  }\r\n\r\n  constructor(clientConfig: gapi.auth2.ClientConfig) {\r\n    this.clientConfig = clientConfig;\r\n  }\r\n}\r\n","// Type definitions for Google API Client\r\n// Project: https://github.com/google/google-api-javascript-client\r\n// Definitions by: Frank M <https://github.com/sgtfrankieboy>, grant <https://github.com/grant>\r\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\r\n// TypeScript Version: 2.3\r\n\r\nexport interface GoogleUserProfile {\r\n  id: string;\r\n  id_token: string;\r\n  first_name: string;\r\n  last_name?: string;\r\n  email?: string;\r\n  picture?: string;\r\n}\r\n\r\nexport class GoogleClientConfig implements gapi.auth2.ClientConfig { }\r\n","/// <reference types=\"gapi\" />\r\n/// <reference types=\"gapi.auth2\" />\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { Inject, Injectable, InjectionToken, Output, EventEmitter } from '@angular/core';\r\nimport { Observer } from 'rxjs';\r\nimport { GoogleSDKConfig } from './config/google-sdk.config';\r\nimport { GoogleUserProfile, GoogleClientConfig } from './Igoogle';\r\n\r\nexport let NG_GAPI_CONFIG: InjectionToken<GoogleClientConfig> = new InjectionToken<GoogleClientConfig>('google.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para interactuar con la API de Google\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GoogleSDKService {\r\n  private readonly gapiUrl: string = 'https://apis.google.com/js/api.js';\r\n\r\n  @Output() onload: EventEmitter<void> = new EventEmitter();\r\n\r\n  private _config: GoogleSDKConfig;\r\n  public get config(): GoogleSDKConfig {\r\n    return this._config;\r\n  }\r\n  public set config(value: GoogleSDKConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  private _GoogleAuth: gapi.auth2.GoogleAuth;\r\n  public get GoogleAuth(): gapi.auth2.GoogleAuth {\r\n    return this._GoogleAuth;\r\n  }\r\n  public set GoogleAuth(value: gapi.auth2.GoogleAuth) {\r\n    this._GoogleAuth = value;\r\n  }\r\n\r\n  constructor(@Inject(NG_GAPI_CONFIG) config: GoogleClientConfig) {\r\n    this.config = new GoogleSDKConfig(config);\r\n    this.loadSDK().subscribe(() => {\r\n      console.log('Google: SDK loaded');\r\n      this.onload.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Método para obtener un token de inicio de sesión junto con la información de perfil\r\n   * @returns {Observable<GoogleUserProfile>}\r\n   */\r\n  public login(): Observable<GoogleUserProfile> {\r\n    return new Observable((observer: Observer<GoogleUserProfile>) => {\r\n\r\n      this.GoogleAuth.signIn().then((res: gapi.auth2.GoogleUser) => {\r\n\r\n        const profile = res.getBasicProfile();\r\n\r\n        const googleProfile: GoogleUserProfile = {\r\n          id: profile.getId(),\r\n          id_token: res.getAuthResponse().id_token,\r\n          first_name: profile.getGivenName(),\r\n          last_name: profile.getFamilyName(),\r\n          email: profile.getEmail(),\r\n          picture: profile.getImageUrl().replace('=s96-', '=-')\r\n        };\r\n\r\n        observer.next(googleProfile);\r\n        observer.complete();\r\n\r\n      }, (err: any) => {\r\n          return observer.error(err);\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Metodo privado que carga la libreria de Google, al cargarse correctamente, se emite el evento 'onload'\r\n   */\r\n  private loadSDK(): Observable<void> {\r\n    return new Observable((observer: Observer<void>) => {\r\n\r\n      if ((window as any).gapi == null) {\r\n\r\n        const node = document.createElement('script');\r\n        node.src = this.gapiUrl;\r\n        node.type = 'text/javascript';\r\n        node.async = true;\r\n        node.defer = true;\r\n        node.id = 'google-api';\r\n        document.getElementsByTagName('head')[0].appendChild(node);\r\n        node.onload = () => {\r\n          gapi.load('auth2', () => {\r\n            gapi.auth2.init(this.config.clientConfig).then((auth: gapi.auth2.GoogleAuth) => {\r\n              this.GoogleAuth = auth;\r\n              observer.next();\r\n              observer.complete();\r\n            }).catch((err: any) => observer.error(err));\r\n          });\r\n        };\r\n\r\n      } else {\r\n        observer.next();\r\n        observer.complete();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { GoogleSDKService } from './google-sdk.service';\r\n\r\n/**\r\n * @description\r\n * Módulo para parametrizar la autenticación con Google\r\n * @example\r\n * import { NG_GAPI_CONFIG, GoogleSDKModule } from '@sersol/ngx';\r\n * @NgModule({\r\n *  imports: [\r\n *    ...,\r\n *    GoogleSDKModule.forRoot({\r\n *        provide: NG_GAPI_CONFIG,\r\n *        useValue: {\r\n *            client_id: GOOGLE_CLIENT_ID,\r\n *            scope: 'profile email'\r\n *        }\r\n *    }),\r\n *    ...\r\n *  ],\r\n *  declarations: [...],\r\n *  schemas: [...],\r\n *  providers: [...],\r\n *  bootstrap: [...]\r\n * })\r\n * export class AppModule { }\r\n */\r\n@NgModule()\r\nexport class GoogleSDKModule {\r\n  static forRoot(gapiConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: GoogleSDKModule,\r\n      providers: [\r\n        gapiConfigProvider,\r\n        GoogleSDKService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import ClientConfig = facebook.InitParams;\r\n\r\nexport class FacebookSDKConfig {\r\n  private _clientConfig: ClientConfig;\r\n  public get clientConfig(): ClientConfig {\r\n    return this._clientConfig;\r\n  }\r\n  public set clientConfig(value: ClientConfig) {\r\n    this._clientConfig = value;\r\n  }\r\n\r\n  constructor(clientConfig: ClientConfig) {\r\n    this.clientConfig = clientConfig;\r\n  }\r\n}\r\n","/// <reference types=\"facebook-js-sdk\" />\r\n\r\nimport { FacebookUserProfile } from './Ifacebook';\r\nimport { Observable } from 'rxjs';\r\nimport { Inject, Injectable, InjectionToken, Output, EventEmitter } from '@angular/core';\r\nimport { FacebookSDKConfig } from './config/facebook-sdk.config';\r\nimport { Observer } from 'rxjs';\r\n\r\nexport let NG_FSDK_CONFIG: InjectionToken<facebook.InitParams> = new InjectionToken<facebook.InitParams>('facebook.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para interacturar con el SDK de Facebook\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FacebookSDKService {\r\n  private readonly fsdkUrl: string = 'https://connect.facebook.net/en_US/sdk.js';\r\n  private _config: FacebookSDKConfig;\r\n  public get config(): FacebookSDKConfig {\r\n    return this._config;\r\n  }\r\n  public set config(value: FacebookSDKConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  @Output() onload: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(@Inject(NG_FSDK_CONFIG) config: facebook.InitParams) {\r\n    this.config = new FacebookSDKConfig(config);\r\n    this.loadSDK().subscribe(() => {\r\n      console.log('Facebook: SDK loaded');\r\n      this.onload.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Método para obtener un token de inicio de sesión junto con la información de perfil\r\n   * @returns {Observable<FacebookUserProfile>}\r\n   */\r\n  public login(): Observable<FacebookUserProfile> {\r\n    return new Observable((observer: Observer<FacebookUserProfile>) => {\r\n\r\n      FB.login((response: any) => {\r\n        if (response.status === 'connected') {\r\n          FB.api('/me', { fields: 'first_name,last_name,email' }, (res: any) => {\r\n\r\n            FB.api('/me/picture', {\r\n              width: 300,\r\n              redirect: 'false'\r\n            }, (pic: any) => {\r\n\r\n              const facebookProfile: FacebookUserProfile = {\r\n                id: res.id,\r\n                access_token: response.authResponse.accessToken,\r\n                first_name: res.first_name,\r\n                last_name: res.last_name,\r\n                email: res.email,\r\n              };\r\n\r\n              if (pic?.data?.url) {\r\n                facebookProfile.picture = pic.data.url;\r\n              }\r\n\r\n              observer.next(facebookProfile);\r\n              observer.complete();\r\n\r\n            });\r\n\r\n          });\r\n\r\n        } else {\r\n          console.warn('Facebook: Popup closed by user');\r\n        }\r\n      }, { scope: 'public_profile,email' });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Metodo privado que carga la libreria de Facebook, al cargarse correctamente, se emite el evento 'onload'\r\n   */\r\n  public loadSDK(): Observable<boolean> {\r\n    return new Observable((observer: Observer<boolean>) => {\r\n\r\n      if ((window as any).FB == null) {\r\n\r\n        const node = document.createElement('script');\r\n        node.src = this.fsdkUrl;\r\n        node.type = 'text/javascript';\r\n        node.async = true;\r\n        node.defer = true;\r\n        node.id = 'facebook-sdk';\r\n        document.getElementsByTagName('head')[0].appendChild(node);\r\n        node.onload = () => {\r\n          FB.init(this.config.clientConfig);\r\n          FB.AppEvents.logPageView();\r\n\r\n          observer.next(true);\r\n          observer.complete();\r\n        };\r\n\r\n      } else {\r\n        observer.next(true);\r\n        observer.complete();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { FacebookSDKService } from './facebook-sdk.service';\r\n\r\n/**\r\n * @description\r\n * Módulo para parametrizar la autenticación con Facebook\r\n * @example\r\n * import { NG_FSDK_CONFIG, FacebookSDKModule } from '@sersol/ngx';\r\n * @NgModule({\r\n    imports: [\r\n      ...,\r\n      FacebookSDKModule.forRoot({\r\n          provide: NG_FSDK_CONFIG,\r\n          useValue: {\r\n              appId: FACEBOOK_CLIENT_ID,\r\n              cookie: true,\r\n              xfbml: true,\r\n              version: 'v6.0'\r\n          }\r\n      }),\r\n      ...\r\n    ],\r\n    declarations: [...],\r\n    schemas: [...],\r\n    providers: [...],\r\n    bootstrap: [...]\r\n})\r\nexport class AppModule { }\r\n */\r\n@NgModule()\r\nexport class FacebookSDKModule {\r\n  static forRoot(fsdkConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: FacebookSDKModule,\r\n      providers: [\r\n        fsdkConfigProvider,\r\n        FacebookSDKService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","/**\r\n * @description\r\n * Función para verificar si un valor existe en un arreglo\r\n * @param {any} value Valor a encontrar\r\n * @param {any[]} array Arreglo objetivo de la busqueda\r\n * @returns {boolean}\r\n */\r\nexport function inArray(value: any, array: any[]): boolean {\r\n  return array ? array.indexOf(value) !== -1 : false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para verificar si un valor NO existe en un arreglo\r\n * @param {any} value Valor a encontrar\r\n * @param {any[]} array Arreglo objetivo de la busqueda\r\n * @returns {boolean}\r\n */\r\nexport function notInArray(value: any, array: any[]): boolean {\r\n  return array ? array.indexOf(value) === -1 : false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para convertir un string en string[]\r\n * @param value Valor a convertir\r\n */\r\nexport const toArray = (value: any): string[] => Array.isArray(value) ? value : [value];\r\n\r\n/**\r\n * @description\r\n * Función para crear un objeto con los datos agrupado de un arreglo por un valor dado\r\n * @param {any[]} array Arreglo para agrupar\r\n * @param {string | number} field Campo para agrupar\r\n * @returns {boolean}\r\n */\r\nexport function arrayGroupBy(array: any[], field: string | number): object {\r\n\r\n  const array_group_by = {};\r\n\r\n  for (let index = 0; index < array.length; ++index) {\r\n\r\n    if (array_group_by[array[index][field]] === undefined) {\r\n      array_group_by[array[index][field]] = [];\r\n    }\r\n\r\n    array_group_by[array[index][field]].push(array[index]);\r\n  }\r\n\r\n  return array_group_by;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener un objeto contenido en un arreglo usando una pareja clave-valor para su busqueda\r\n * @param {any[]} array Arreglo de objetos\r\n * @param {string | number} field Campo de busqueda\r\n * @param {any} value Valor del campo de busqueda\r\n * @returns {object}\r\n */\r\nexport function getObjectByValue(array: any[], field: string | number, value: any): {} {\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    if (array[i].hasOwnProperty(field)) {\r\n\r\n      if (array[i][field] === value) {\r\n\r\n        return array[i];\r\n\r\n      } else {\r\n\r\n        for (const prop in array[i][field]) {\r\n\r\n          if (array[i][field][prop] === value) {\r\n\r\n            return array[i];\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener el índice de un objeto contenido en un arreglo usando una pareja clave-valor para su busqueda\r\n * @param {any[]} array Arreglo de objetos\r\n * @param {string | number} field Campo de busqueda\r\n * @param {any} value Valor del campo de busqueda\r\n * @returns {number}\r\n */\r\nexport function getObjIndexByValue(array: any[], field: string | number, value: any): number {\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    if (array[i].hasOwnProperty(field)) {\r\n\r\n      if (array[i][field] === value) {\r\n\r\n        return i;\r\n\r\n      } else {\r\n\r\n        for (const prop in array[i][field]) {\r\n\r\n          if (array[i][field][prop] === value) {\r\n\r\n            return i;\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n","import { OpenIdData } from './Iopen-id-client';\r\nimport { Injectable } from '@angular/core';\r\nimport { inArray } from '../utils/array';\r\n\r\n/**\r\n * @description\r\n * Servicio para verificar si es usuario tiene o no permisos para realizar ciertas acciones\r\n * @example\r\n * constructor(private claimsService: ClaimsService) { }\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ClaimsService {\r\n\r\n    private _openIdData: OpenIdData;\r\n    public get openIdData(): OpenIdData {\r\n        return this._openIdData;\r\n    }\r\n    public set openIdData(value: OpenIdData) {\r\n        this._openIdData = value;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método para verificar si el usuario tiene un permiso\r\n     * @param {string} requiredPermission - Nombre del permiso a consultar\r\n     * @example\r\n     * this.claimsService.hasPermission('users.view');\r\n     * @returns {boolean}\r\n     */\r\n    public hasPermission(requiredPermission: string): boolean {\r\n        return this.openIdData.claims.indexOf(requiredPermission) !== -1;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método para verificar si el usuario tiene un al menos un permiso del listado consultado\r\n     * @param {string[]} requiredPermissions - Arreglo de permisos a consultar\r\n     * @example\r\n     * this.claimsService.atLeastPermissions(['users.view', 'users.update', 'users.add']);\r\n     * @returns {boolean}\r\n     */\r\n    public atLeastPermissions(requiredPermissions: string[]): boolean {\r\n        for (let index = 0; index < requiredPermissions.length; index++) {\r\n\r\n            if (inArray(requiredPermissions[index], this.openIdData.claims)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método para verificar si el usuario tiene todos los permisos consultados\r\n     * @param {string[]} requiredPermissions - Arreglo de permisos a consultar\r\n     * @example\r\n     * this.claimsService.hasPermissions(['users.view', 'users.update', 'users.add']);\r\n     * @returns {boolean}\r\n     */\r\n    public hasPermissions(requiredPermissions: string[]): boolean {\r\n\r\n        for (let index = 0; index < requiredPermissions.length; index++) {\r\n\r\n            if (!inArray(requiredPermissions[index], this.openIdData.claims)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { hasValue } from '../utils/check';\r\n\r\n/**\r\n * @description\r\n * Función para transformar un objeto en un string apto para filtrar resultados GraphQL\r\n * @param {any} obj Objeto a convertir\r\n * @returns {string}\r\n */\r\nexport function objectToGraphParams(obj: any): string {\r\n\r\n  let graph_params = '';\r\n\r\n  for (const [key, value] of Object.entries(obj)) {\r\n      if (hasValue(value)) {\r\n          graph_params += key + ': ';\r\n\r\n          if (typeof (value) === 'string') {\r\n              graph_params += '\"' + value + '\"';\r\n          } else {\r\n              graph_params += value;\r\n          }\r\n\r\n          graph_params += ',';\r\n      }\r\n  }\r\n\r\n  if (hasValue(graph_params)) {\r\n      graph_params = graph_params.substring(0, graph_params.length - 1);\r\n  }\r\n\r\n  return graph_params;\r\n}\r\n","/**\r\n * Deep merge source object into target object\r\n * @param target Target object\r\n * @param source Source object\r\n */\r\nexport function mergeObjs(target: any, source: any) {\r\n    const isObject = (obj: any) => obj && typeof obj === 'object';\r\n\r\n    if (!isObject(target) || !isObject(source)) {\r\n        return source;\r\n    }\r\n\r\n    Object.keys(source).forEach(key => {\r\n        const targetValue = target[key];\r\n        const sourceValue = source[key];\r\n\r\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\r\n            target[key] = targetValue.concat(sourceValue);\r\n        } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n            target[key] = mergeObjs(Object.assign({}, targetValue), sourceValue);\r\n        } else {\r\n            target[key] = sourceValue;\r\n        }\r\n    });\r\n\r\n    return target;\r\n}\r\n","import { Renderer2 } from '@angular/core';\r\nimport { Parser } from 'bowser';\r\n\r\n/**\r\n * @description Agrega 4 clases css a un elemento HTML\r\n * @example <body class=\"bos-macOS bosv-10.15.4 bn-Chrome bv-81.0.4044.129\">\r\n * @param {Parser.Parser} bowserInstance Objeto Bowser parseado\r\n * @param {Renderer2} renderer Elemento a modificar\r\n */\r\nexport function setBowserClasses(bowserInstance: Parser.Parser, renderer: Renderer2) {\r\n    renderer.addClass(document.body, 'bos-' + bowserInstance.getOSName().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bosv-' + bowserInstance.getOSVersion().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bn-' + bowserInstance.getBrowserName().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bv-' + bowserInstance.getBrowserVersion().replace(/ +/g, '-'));\r\n}\r\n","\r\n/**\r\n * @description\r\n * Función para verificar si el navegador dispone de lector PDF\r\n * @returns {boolean}\r\n */\r\nexport function hasPdfViewer() {\r\n  for (let index = 0; index < window.navigator.plugins.length; index++) {\r\n      if (window.navigator.plugins[index].name.toLowerCase().indexOf('pdf') > -1) {\r\n          return true;\r\n      }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para extraer todas las reglas CSS aplicadas a un elemento DOM\r\n * @param {Element} element Elemento DOM\r\n * @returns {CSSStyleDeclaration}\r\n */\r\nexport function getStyles(element: Element) {\r\n  return !(element instanceof HTMLElement) ? {} :\r\n      element.ownerDocument && element.ownerDocument.defaultView.opener\r\n          ? element.ownerDocument.defaultView.getComputedStyle(element)\r\n          : window.getComputedStyle(element);\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener el ancho de la ventana o pestaña de la página\r\n * @returns {number}\r\n */\r\nexport function browserWidth(): number {\r\n  return 0 < window.innerWidth ? window.innerWidth : screen.width;\r\n}\r\n\r\n/* if (bowser) {\r\n  $('body').addClass('bos-' + bowser.osname.replace(/ /g, \"\") + ' bosv-' + bowser.osversion.replace(/ /g, \"\")\r\n  + ' bn-' + bowser.name.replace(/ /g, \"\") + ' bv-' + bowser.version.replace(/ /g, \"\"));\r\n} */\r\n","import { mergeObjs } from './object';\r\n\r\n/**\r\n * @description\r\n * Función para generar un código GUID aleatorio\r\n * @returns {string}\r\n */\r\nexport function guid(): string {\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para generar un código alfanúmerico único\r\n * @returns {string}\r\n */\r\nexport function uniqueId(): string {\r\n  const today = new Date();\r\n  return s4() + s4() + s4() + s4() + s4() + s4() + s4() + s4() + Math.floor((today.getTime() * Math.random()));\r\n}\r\n\r\nfunction s4(): string {\r\n  return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener un número aleatorio\r\n * @param {number} min Número mínimo\r\n * @param {number} max Número máximo\r\n * @returns {number}\r\n */\r\nexport function getRandomInt(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n\r\nexport interface RandomPasswordOps {\r\n    /**\r\n     * Tamaño de la contraseña\r\n     */\r\n    length?: number;\r\n\r\n    /***\r\n     * Habilita si se incluyen números\r\n     */\r\n    numbers?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen caracteres especiales\r\n     */\r\n    specialChars?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen letras en mayúsculas\r\n     */\r\n    lettersUpperCase?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen letras en minúsculas\r\n     */\r\n    lettersLowerCase?: boolean;\r\n}\r\n\r\n/**\r\n * Función para generar contraseñas aleatorias\r\n * @param options Parametros de contraseña\r\n */\r\nexport function generatePassword(options?: RandomPasswordOps) {\r\n\r\n    const defaultOptions: RandomPasswordOps = {\r\n        length: 8,\r\n        numbers: true,\r\n        specialChars: false,\r\n        lettersLowerCase: true,\r\n        lettersUpperCase: true\r\n    };\r\n\r\n    mergeObjs(defaultOptions, options);\r\n\r\n    let charset = '';\r\n\r\n    if (defaultOptions?.numbers) {\r\n        charset += '0123456789';\r\n    }\r\n\r\n    if (defaultOptions?.lettersLowerCase) {\r\n        charset += 'abcdefghijklmnopqrstuvwxyz';\r\n    }\r\n\r\n    if (defaultOptions?.lettersUpperCase) {\r\n        charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    }\r\n\r\n    if (defaultOptions?.specialChars) {\r\n        charset += '!#$%&\\()*+,-./:;<=>?@^[\\\\]^_`{|}~';\r\n    }\r\n\r\n    let retVal = '';\r\n\r\n    for (let i = 0, n = charset.length; i < defaultOptions.length; ++i) {\r\n        retVal += charset.charAt(Math.floor(Math.random() * n));\r\n    }\r\n\r\n    return retVal;\r\n}\r\n","/**\r\n * @description\r\n * Mapeo de teclas con su respectivo código númerico\r\n */\r\nexport const KEYBOARD_KEYS = {\r\n  up: 38,\r\n  down: 40,\r\n  left: 37,\r\n  right: 39,\r\n  escape: 27,\r\n  enter: 13,\r\n  backspace: 8,\r\n  delete: 46,\r\n  shift: 16,\r\n  leftCmd: 91,\r\n  rightCmd: 93,\r\n  ctrl: 17,\r\n  alt: 18,\r\n  tab: 9\r\n};\r\n","/**\r\n * @description Colección de Regex comunes\r\n */\r\nexport module Patterns {\r\n  export const PASSWORD = /^((?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])).{6,}$/;\r\n  export const DOMAIN = /^([a-zA-Z0-9\\_\\-\\.]{2,63})\\.([a-zA-Z0-9]{2,})$/;\r\n  export const EMAIL = /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/;\r\n  export const IMAGE = /^image\\/([a-zA-Z].*)$/;\r\n  export const NUMBER = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n  export const CC = /((\\d{8})|(\\d{10})|(\\d{11})|(\\d{6}-\\d{5}))?/g;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { LatLng2LatLngOptions } from './types';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class MapService {\r\n\r\n    /**\r\n     * Metodo para obtener la posisión GPS actual usando Observable\r\n     * @example\r\n     * this.mapService.getCurrentPosition().pipe(take(1)).subscribe({\r\n     *      next(position) {\r\n     *        console.log('Current Position: ', position);\r\n     *      },\r\n     *      error(msg) {\r\n     *        console.log('Error Getting Location: ', msg);\r\n     *      }\r\n     *   });\r\n     */\r\n    getCurrentPosition(): Observable<Position> {\r\n\r\n        return new Observable((observer) => {\r\n\r\n            // Simple geolocation API check provides values to publish\r\n            if ('geolocation' in navigator) {\r\n                navigator.geolocation.getCurrentPosition((position: Position) => {\r\n                    observer.next(position);\r\n                }, (error: PositionError) => {\r\n                    observer.error(error);\r\n                });\r\n            } else {\r\n                observer.error('Geolocation not available');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Verifica si la latitud y longitud son válidas\r\n     * @param lat Latitud\r\n     * @param lng Longitud\r\n     */\r\n    checkLatLog(lat: number, lng: number) {\r\n        return (-90 <= lat) && (90 >= lat) && (-180 <= lng) && (180 >= lng);\r\n    }\r\n\r\n    /**\r\n     * Obtiene la distancia en km entre dos puntos LatLng\r\n     * @param lon1 Latitud\r\n     */\r\n    distancePoints(options: LatLng2LatLngOptions) {\r\n        // tslint:disable-next-line: max-line-length\r\n        const a = Math.sin(((options.to.lat - options.from.lat) * Math.PI / 180) / 2) * Math.sin(((options.to.lat - options.from.lat) * Math.PI / 180) / 2) + Math.cos(options.from.lat * Math.PI / 180) * Math.cos(options.to.lat * Math.PI / 180) * Math.sin(((options.to.lng - options.from.lng) * Math.PI / 180) / 2) * Math.sin(((options.to.lng - options.from.lng) * Math.PI / 180) / 2);\r\n        return (6371 * (2 * Math.asin(Math.sqrt(a)))) * 1.60934;\r\n    }\r\n\r\n    cutPrecision(obj: any, precision: number) {\r\n        if ('number' === typeof obj[0]) {\r\n            for (let i = 0; i < obj.length; i++) { obj[i] = Math.round(obj[i] * precision) / precision; }\r\n        } else {\r\n            const arr = obj.features || obj.geometries || obj.coordinates || obj;\r\n            for (let i = 0; i < arr.length; i++) { this.cutPrecision(arr[i], precision); }\r\n        }\r\n    }\r\n\r\n    middlePoint(options: LatLng2LatLngOptions) {\r\n\r\n        if ((options.from.lng !== options.to.lng) || (options.from.lat !== options.to.lat)) {\r\n\r\n            const lat1 = options.from.lat * Math.PI / 180;\r\n            const lat2 = options.to.lat * Math.PI / 180;\r\n            const lon1 = options.from.lng * Math.PI / 180;\r\n            const lon2 = options.to.lng * Math.PI / 180;\r\n            const dLon = lon2 - lon1;\r\n            const x = Math.cos(lat2) * Math.cos(dLon);\r\n            const y = Math.cos(lat2) * Math.sin(dLon);\r\n            let lat3 = Math.atan2(Math.sin(lat1) + Math.sin(lat2), Math.sqrt((Math.cos(lat1) + x) * (Math.cos(lat1) + x) + y * y));\r\n            let lon3 = lon1 + Math.atan2(y, Math.cos(lat1) + x);\r\n            lat3 *= 180 / Math.PI;\r\n            lon3 *= 180 / Math.PI;\r\n            const deltaY = options.to.lng - options.from.lng;\r\n            const deltaX = options.to.lat - options.from.lat;\r\n            const angleInDegrees = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\r\n            return {\r\n                longitude: lon3,\r\n                Latitude: lat3,\r\n                angle: angleInDegrees,\r\n                distance: this.distancePoints(options)\r\n            };\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n}\r\n","import * as L from 'leaflet';\r\n\r\n// Layers Maps for Leaflet\r\nexport const LEAFLET_MAP_LAYERS = {\r\n    'OpenStreetMap Street': L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }),\r\n    'Mapbox Street': L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n        maxZoom: 18,\r\n        id: 'mapbox/streets-v11',\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken: (window as any).mapbox_access_token\r\n    })\r\n};\r\n","import * as L from 'leaflet';\r\nimport 'leaflet.markercluster';\r\nimport '@sersol/leaflet-plugins/leaflet-fullscreen';\r\nimport '@sersol/leaflet-plugins/leaflet-mouseposition';\r\nimport { mergeObjs } from '../../utils/object';\r\nimport { hasValue } from '../../utils/check';\r\nimport { LeafletMapOptions, LeafletPadding } from './types';\r\nimport { CenterPoint, LatLng } from '../types';\r\nimport { LEAFLET_MAP_LAYERS } from './providers';\r\n\r\nexport class LeafletMap {\r\n    map: L.Map;\r\n    markers: any = {};\r\n    markerCluster: L.MarkerClusterGroup;\r\n    layerControl: L.Control.Layers;\r\n    options: LeafletMapOptions = {\r\n        container: 'leaflet-map',\r\n        initialView: {\r\n            lat: 4.6288702,\r\n            lng: -74.1193724,\r\n            zoom: 11\r\n        },\r\n        clusterMarkers: {\r\n            enable: true,\r\n            config: {}\r\n        },\r\n        layers: LEAFLET_MAP_LAYERS,\r\n        mapOptions: {\r\n            positionControl: true,\r\n            layers: [LEAFLET_MAP_LAYERS['Mapbox Street']],\r\n            zoomControl: false\r\n        },\r\n        layersOptions: {\r\n            position: 'topright'\r\n        }\r\n    };\r\n\r\n    constructor(options: LeafletMapOptions) {\r\n\r\n        mergeObjs(this.options, options);\r\n\r\n        this.map = new L.Map(this.options.container, this.options.mapOptions);\r\n\r\n        this.layerControl = new L.Control.Layers(this.options.layers, null, this.options.layersOptions);\r\n        this.map.addControl(new L.Control.MousePosition(this.options.mousePositionOptions));\r\n        this.map.addControl(this.layerControl);\r\n        this.map.addControl(new L.Control.Fullscreen(this.options.fullscreen));\r\n        this.map.addControl(new L.Control.Zoom(this.options.zoom));\r\n\r\n        this.map.setView([this.options.initialView.lat, this.options.initialView.lng], this.options.initialView.zoom);\r\n\r\n        // Create cluster and scope\r\n        if (this.options.clusterMarkers.enable) {\r\n            this.initMarkerCluster();\r\n        }\r\n\r\n    }\r\n\r\n    initMarkerCluster() {\r\n        if (L.MarkerClusterGroup) {\r\n            this.markerCluster = new L.MarkerClusterGroup([], this.options.clusterMarkers.config);\r\n            this.map.addLayer(this.markerCluster);\r\n        }\r\n    }\r\n\r\n    fitMarkersBounds(padding?: LeafletPadding, flyTo?: boolean) {\r\n\r\n        if (hasValue(this.markers)) {\r\n\r\n            const groupWrapper = [];\r\n\r\n            // tslint:disable-next-line: forin\r\n            for (const key in this.markers) {\r\n                groupWrapper.push(this.markers[key]);\r\n            }\r\n\r\n            if (hasValue(groupWrapper)) {\r\n\r\n                const pad: LeafletPadding = {\r\n                    paddingTopLeft: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    paddingBottomRight: {\r\n                        x: 0,\r\n                        y: 0\r\n                    }\r\n                };\r\n\r\n                mergeObjs(pad, padding);\r\n\r\n                const group = L.featureGroup(groupWrapper);\r\n\r\n                if (flyTo) {\r\n                    this.map.flyToBounds(group.getBounds(), {\r\n                        duration: 0.5,\r\n                        paddingTopLeft: [pad.paddingTopLeft.x, pad.paddingTopLeft.y],\r\n                        paddingBottomRight: [pad.paddingBottomRight.x, pad.paddingBottomRight.y]\r\n                    });\r\n                } else {\r\n                    this.map.fitBounds(group.getBounds(), {\r\n                        paddingTopLeft: [pad.paddingTopLeft.x, pad.paddingTopLeft.y],\r\n                        paddingBottomRight: [pad.paddingBottomRight.x, pad.paddingBottomRight.y]\r\n                    });\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    addMarker(latLng: LatLng, id: any) {\r\n\r\n        this.markers[id] = L.marker([latLng.lat, latLng.lng]);\r\n\r\n        if (this.options.clusterMarkers.enable) {\r\n            this.markerCluster.addLayer(this.markers[id]);\r\n        } else {\r\n            this.markers[id].addTo(this.map);\r\n        }\r\n\r\n        return this.markers[id];\r\n    }\r\n\r\n    panTo(latlng: L.LatLng, offset?: L.PointExpression, options?: L.ZoomPanOptions) {\r\n\r\n        if (hasValue(offset)) {\r\n            const x = this.map.latLngToContainerPoint(latlng).x - offset[0];\r\n            const y = this.map.latLngToContainerPoint(latlng).y - offset[1];\r\n            const point = this.map.containerPointToLatLng([x, y]);\r\n            return this.map.setView(point, this.map.getZoom(), options);\r\n        } else {\r\n            return this.map.setView(latlng, this.map.getZoom(), options);\r\n        }\r\n    }\r\n\r\n    setView(latlng: L.LatLng, targetZoom: number, offset?: L.PointExpression, options?: L.ZoomPanOptions) {\r\n\r\n        if (hasValue(offset)) {\r\n            const targetPoint = this.map.project(latlng, targetZoom).subtract(offset);\r\n            const targetLatLng = this.map.unproject(targetPoint, targetZoom);\r\n            return this.map.setView(targetLatLng, targetZoom, options);\r\n        } else {\r\n            return this.map.setView(latlng, targetZoom, options);\r\n        }\r\n\r\n    }\r\n\r\n    centerPoint(options: CenterPoint) {\r\n        this.map.flyTo([options.lat, options.lng], options.preserve_zoom ? this.map.getZoom() : 19, {\r\n            duration: 0.5\r\n        });\r\n    }\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\n/**\r\n * Read the content of a File or Blob using the FileReader interface.\r\n * This is an async interface so it makes sense to handle it with Rx.\r\n * @param File | Blob\r\n */\r\nexport function readAsArrayBuffer(blob: Blob): Observable<any> {\r\n\r\n    return new Observable((obs: any): void => {\r\n        if (!(blob instanceof Blob)) {\r\n            obs.error(new Error('`blob` must be an instance of File or Blob.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onerror = err => obs.error(err);\r\n        reader.onabort = err => obs.error(err);\r\n        reader.onload = () => obs.next(reader.result);\r\n        reader.onloadend = () => obs.complete();\r\n\r\n        reader.readAsArrayBuffer(blob);\r\n    });\r\n}\r\n\r\n/**\r\n * Read the content of a File or Blob using the FileReader interface.\r\n * This is an async interface so it makes sense to handle it with Rx.\r\n * @param File | Blob\r\n */\r\nexport function readAsDataURL(blob: Blob): Observable<any> {\r\n\r\n    return new Observable((obs: any): void => {\r\n        if (!(blob instanceof Blob)) {\r\n            obs.error(new Error('`blob` must be an instance of File or Blob.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onerror = err => obs.error(err);\r\n        reader.onabort = err => obs.error(err);\r\n        reader.onload = () => obs.next(reader.result);\r\n        reader.onloadend = () => obs.complete();\r\n\r\n        reader.readAsDataURL(blob);\r\n    });\r\n}\r\n\r\n/**\r\n * @description Get file type based on header info\r\n * @param arrayBuffer Result of FileReader.readAsArrayBuffer()\r\n */\r\nexport function getFileType(arrayBuffer: ArrayBuffer) {\r\n\r\n    const arr = (new Uint8Array(arrayBuffer)).subarray(0, 4);\r\n\r\n    let header = '';\r\n    for (const i of arr) {\r\n        header += i.toString(16);\r\n    }\r\n\r\n    console.log('Header file: ', header);\r\n\r\n    switch (header) {\r\n        case '89504e47':\r\n            return 'png';\r\n\r\n        case '47494638':\r\n            return 'gif';\r\n\r\n        case 'ffd8ffe0':\r\n        case 'ffd8ffe1':\r\n        case 'ffd8ffe2':\r\n        case 'ffd8ffe3':\r\n        case 'ffd8ffe8':\r\n            return 'jpeg';\r\n\r\n        case '25504446':\r\n            return 'ia';\r\n\r\n        case '504b34':\r\n            return 'xlsx';\r\n\r\n        case '25504446':\r\n            return 'pdf';\r\n\r\n        default:\r\n            return 'unknown';\r\n    }\r\n}\r\n","import { FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function lowerThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value < target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.lowerThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.lowerThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    lowerThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n}\r\n\r\nexport function lowerOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value <= target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.lowerOrEqualThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.lowerOrEqualThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    lowerOrEqualThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function greaterThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value > target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.greaterThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.greaterThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    greaterThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function greaterOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value >= target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.greaterOrEqualThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.greaterOrEqualThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    greaterOrEqualThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n","import { FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function match(originalPathField: string, duplicatePathField: string): ValidatorFn {\r\n    const validation = (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const original = fg.get(originalPathField);\r\n        const duplicate = fg.get(duplicatePathField);\r\n\r\n        if (original.value === duplicate.value) {\r\n            if (hasValue(duplicate.errors)) {\r\n                delete duplicate.errors.match;\r\n\r\n                if (hasValue(duplicate.errors)) {\r\n                    duplicate.setErrors(duplicate.errors);\r\n                } else {\r\n                    duplicate.setErrors(null);\r\n                }\r\n            } else {\r\n                duplicate.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(duplicate.errors)) {\r\n                duplicate.errors.match = true;\r\n                duplicate.setErrors(duplicate.errors);\r\n            } else {\r\n                duplicate.setErrors({\r\n                    match: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    return validation;\r\n}\r\n","import { AsyncValidatorFn, FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { getFileType, readAsArrayBuffer } from '../../file/read';\r\nimport { inArray } from '../../utils/array';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function maxFileSize(size: string): ValidatorFn {\r\n    return (control: FormControl): ValidationErrors | null => {\r\n\r\n        const number = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n        const sizeNumber = size.match(number);\r\n        let multiplier = 1;\r\n\r\n        switch (true) {\r\n            case /[. 0-9]+(KB)/i.test(size):\r\n                multiplier = 1e3;\r\n                break;\r\n\r\n            case /[. 0-9]+(MB)/i.test(size):\r\n                multiplier = 1e6;\r\n                break;\r\n\r\n            case /[. 0-9]+(GB)/i.test(size):\r\n                multiplier = 1e9;\r\n                break;\r\n        }\r\n\r\n        if (hasValue(sizeNumber)) {\r\n            const sizeOnBytes = parseFloat(sizeNumber.join('')) * multiplier;\r\n\r\n            if (control.value) {\r\n\r\n                if (control.value.size >= sizeOnBytes) {\r\n                    return {\r\n                        maxFileSize: true\r\n                    };\r\n                }\r\n\r\n                return null;\r\n            }\r\n        } else {\r\n            console.error('maxFileSize validation: Size must have a number');\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\n\r\nexport function minFileSize(size: string): ValidatorFn {\r\n    return (control: FormControl): ValidationErrors | null => {\r\n\r\n        const number = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n        const sizeNumber = size.match(number);\r\n        let multiplier = 1;\r\n\r\n        switch (true) {\r\n            case /[. 0-9]+(KB)/i.test(size):\r\n                multiplier = 1e3;\r\n                break;\r\n\r\n            case /[. 0-9]+(MB)/i.test(size):\r\n                multiplier = 1e6;\r\n                break;\r\n\r\n            case /[. 0-9]+(GB)/i.test(size):\r\n                multiplier = 1e9;\r\n                break;\r\n        }\r\n\r\n        if (hasValue(sizeNumber)) {\r\n            const sizeOnBytes = parseFloat(sizeNumber.join('')) * multiplier;\r\n\r\n            if (control.value) {\r\n\r\n                if (control.value.size <= sizeOnBytes) {\r\n                    return {\r\n                        minFileSize: true\r\n                    };\r\n                }\r\n\r\n                return null;\r\n            }\r\n        } else {\r\n            console.error('minFileSize validation: Size must have a number');\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function requiredFileType(ext: string | string[]): AsyncValidatorFn {\r\n    return (control: FormControl): Observable<ValidationErrors | null> => {\r\n\r\n        const file = control.value;\r\n\r\n        if (file) {\r\n\r\n            if (!Array.isArray(ext)) {\r\n                ext = [ext];\r\n            }\r\n\r\n            const types = ext.map((type) => type.toLowerCase());\r\n\r\n            return readAsArrayBuffer(file)\r\n                .pipe(\r\n                    map((result: ArrayBuffer) => {\r\n\r\n                        if (inArray(getFileType(result), types)) {\r\n                            return null;\r\n                        } else {\r\n                            return {\r\n                                requiredFileType: true\r\n                            };\r\n                        }\r\n\r\n                    })\r\n                );\r\n        }\r\n\r\n        return of(null);\r\n    };\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { AsyncValidatorFn, FormControl, ValidationErrors } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, delay, map, switchMap } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport interface BaseValidationModel {\r\n    Model: string;\r\n    Field: string;\r\n    Id?: string | number;\r\n    Value?: any;\r\n}\r\n\r\nexport function alreadyExist(http: HttpClient, url: string, requestBody: BaseValidationModel): AsyncValidatorFn {\r\n    return (control: FormControl): Observable<ValidationErrors | null> => {\r\n\r\n        return of(control.value).pipe(\r\n            delay(1000),\r\n            switchMap((value) => {\r\n                if (hasValue(value)) {\r\n\r\n                    requestBody.Value = value;\r\n\r\n                    return http.post(url, requestBody).pipe(\r\n                      map(() => ({ alreadyExist: true })),\r\n                      catchError(() => of(null))\r\n                    );\r\n                }\r\n\r\n                return of(null);\r\n            }\r\n        ));\r\n    };\r\n}\r\n","import { ValidationErrors, ValidatorFn, FormGroup, FormControl, AsyncValidatorFn } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, delay, map, switchMap } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { greaterOrEqualThan, greaterThan, lowerOrEqualThan, lowerThan } from './comparison';\r\nimport { match } from './match';\r\nimport { maxFileSize, minFileSize, requiredFileType } from './file';\r\nimport { alreadyExist, BaseValidationModel } from './remote';\r\n\r\n// @dynamic\r\n/**\r\n * Validaciones adicionales para Form Control's\r\n */\r\nexport class CustomValidators {\r\n\r\n    /**\r\n     * Verifica si los campos proveidos son iguales\r\n     * @param originalPathField Path del campo original\r\n     * @param duplicatePathField Path del campo que deberia ser igual al original\r\n     */\r\n    static match(originalPathField: string, duplicatePathField: string): ValidatorFn {\r\n        return match(originalPathField, duplicatePathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es menor a otro\r\n     * @param BasePathField Path del campo que debe ser menor\r\n     * @param TargetPathField Path del campo que deberia ser mayor\r\n     */\r\n    static lowerThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return lowerThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es menor o igual a otro\r\n     * @param BasePathField Path del campo que debe ser menor o igual\r\n     * @param TargetPathField Path del campo que deberia ser mayor o igual\r\n     */\r\n    static lowerOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return lowerOrEqualThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es mayor a otro\r\n     * @param BasePathField Path del campo que debe ser mayor\r\n     * @param TargetPathField Path del campo que deberia ser menor\r\n     */\r\n    static greaterThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return greaterThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es mayor o igual a otro\r\n     * @param BasePathField Path del campo que debe ser mayor o igual\r\n     * @param TargetPathField Path del campo que deberia ser menor o igual\r\n     */\r\n    static greaterOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return greaterOrEqualThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el tamaño no excede el tamaño maximo indicado\r\n     * @param size Tamaño en KB, MG ó GB (ejem: 100MB)\r\n     */\r\n    static maxFileSize(size: string): ValidatorFn {\r\n        return maxFileSize(size);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el tamaño es mayor el tamaño mínimo indicado\r\n     * @param size Tamaño en KB, MG ó GB (ejem: 100MB)\r\n     */\r\n    static minFileSize(size: string): ValidatorFn {\r\n        return minFileSize(size);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el archivo tiene una extensión adminitida por medio de su cabecera\r\n     * @param ext Extensiones admitidas\r\n     */\r\n    static requiredFileType(ext: string | string[]): AsyncValidatorFn {\r\n        return requiredFileType(ext);\r\n    }\r\n\r\n    /**\r\n     * Verifica si existe dicho valor en la DB si coincide con el modelo y el nombre de campo\r\n     * @param http\r\n     * @param url\r\n     * @param requestBody propiedad Id opcional para excluir de la busqueda un registro\r\n     */\r\n    static alreadyExist(http: HttpClient, url: string, requestBody: BaseValidationModel): AsyncValidatorFn {\r\n        return alreadyExist(http, url, requestBody);\r\n    }\r\n\r\n}\r\n","import { Directive, HostListener, OnInit, OnDestroy } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serControl]'\r\n})\r\nexport class SerControlDirective implements OnInit, OnDestroy {\r\n    disabled = false;\r\n    focus = false;\r\n    dirty = false;\r\n    valid = false;\r\n    invalid = false;\r\n    pending = false;\r\n    hasValue = false;\r\n    observer: Subscription;\r\n\r\n    constructor(private _ngControl: NgControl) { }\r\n\r\n    @HostListener('focus')\r\n    onFocus() {\r\n        this.focus = true;\r\n    }\r\n\r\n    @HostListener('blur')\r\n    onBlur() {\r\n        this.focus = false;\r\n    }\r\n\r\n    onChangeValue(value: any) {\r\n        this.hasValue = hasValue(value);\r\n        this.valid = this._ngControl?.control?.valid;\r\n        this.invalid = this._ngControl?.control?.invalid;\r\n        this.dirty = this._ngControl?.control?.dirty;\r\n        this.disabled = this._ngControl?.control?.disabled;\r\n        this.pending = this._ngControl?.control?.pending;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.onChangeValue(this._ngControl?.control?.value);\r\n\r\n        this.observer = this._ngControl?.control?.valueChanges.subscribe((value: any) => {\r\n            this.onChangeValue(value);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.observer?.unsubscribe();\r\n    }\r\n\r\n}\r\n","// tslint:disable: component-selector\r\nimport { Subscription } from 'rxjs';\r\nimport { Component, ContentChild, ViewEncapsulation, HostBinding } from '@angular/core';\r\nimport { SerControlDirective } from './ser-control.directive';\r\n\r\n@Component({\r\n    selector: 'ser-form-element',\r\n    template: '<ng-content></ng-content>',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerFormElementComponent {\r\n\r\n    @ContentChild(SerControlDirective) formElement: SerControlDirective;\r\n    observer: Subscription;\r\n\r\n    @HostBinding('class.disabled')\r\n    get disabled() {\r\n        return this.formElement?.disabled;\r\n    }\r\n\r\n    @HostBinding('class.focus')\r\n    get focus() {\r\n        return this.formElement?.focus;\r\n    }\r\n\r\n    @HostBinding('class.active')\r\n    get active() {\r\n        return this.formElement?.hasValue;\r\n    }\r\n\r\n    @HostBinding('class.dirty')\r\n    get dirty() {\r\n        return this.formElement?.dirty;\r\n    }\r\n\r\n    @HostBinding('class.valid')\r\n    get valid() {\r\n        return this.formElement?.valid;\r\n    }\r\n\r\n    @HostBinding('class.invalid')\r\n    get invalid() {\r\n        return this.formElement?.invalid;\r\n    }\r\n\r\n    @HostBinding('class.pending')\r\n    get pending() {\r\n        return this.formElement?.pending;\r\n    }\r\n\r\n}\r\n","import { Directive, Input, OnChanges, OnDestroy, AfterViewInit, HostBinding } from '@angular/core';\r\nimport { FormGroupDirective, AbstractControl } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { ErrorDetails, ErrorOptions } from './ser-errors';\r\nimport { toArray } from '../../utils/array';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serErrors]',\r\n    exportAs: 'serErrors'\r\n})\r\nexport class SerErrorsDirective implements OnChanges, OnDestroy, AfterViewInit {\r\n\r\n    // tslint:disable-next-line: no-input-rename\r\n    @Input('serErrors')\r\n    controlName: string;\r\n\r\n    subject = new BehaviorSubject<ErrorDetails>(null);\r\n    control: AbstractControl;\r\n    ready = false;\r\n\r\n    constructor(private _form: FormGroupDirective) { }\r\n\r\n    get errors() {\r\n        if (!this.ready) { return; }\r\n        return this.control.errors;\r\n    }\r\n\r\n    get hasErrors() {\r\n        return !!this.errors;\r\n    }\r\n\r\n    hasError(name: string, conditions: ErrorOptions): boolean {\r\n        return this.checkPropState('invalid', name, conditions);\r\n    }\r\n\r\n    isValid(name: string, conditions: ErrorOptions): boolean {\r\n        return this.checkPropState('valid', name, conditions);\r\n    }\r\n\r\n    getError(name: string) {\r\n        if (!this.ready) { return; }\r\n        return this.control.getError(name);\r\n    }\r\n\r\n    private checkPropState(prop: string, name: string, conditions: ErrorOptions): boolean {\r\n\r\n        if (!this.ready) { return; }\r\n        const controlPropsState = (\r\n            !conditions || toArray(conditions).every((condition: string) => this.control[condition])\r\n        );\r\n\r\n        if (name.charAt(0) === '*') {\r\n            return this.control[prop] && controlPropsState;\r\n        }\r\n\r\n        return (\r\n            prop === 'valid' ? !this.control.hasError(name) : this.control.hasError(name) && controlPropsState\r\n        );\r\n    }\r\n\r\n    private checkStatus() {\r\n        const control = this.control;\r\n        const errors = control.errors;\r\n        this.ready = true;\r\n\r\n        if (!errors) {\r\n            return;\r\n        }\r\n\r\n        for (const errorName in errors) {\r\n            if (this.errors.hasOwnProperty(errorName)) {\r\n                this.subject.next({ control, errorName });\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges() {\r\n        this.control = this._form.control.get(this.controlName);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        setTimeout(() => {\r\n            this.checkStatus();\r\n            this.control.statusChanges.subscribe(this.checkStatus.bind(this));\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subject.unsubscribe();\r\n    }\r\n\r\n}\r\n","import { Directive, Input, OnInit, OnDestroy, DoCheck, Inject, HostBinding, forwardRef } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport 'rxjs/add/observable/combineLatest';\r\nimport { ErrorOptions } from './ser-errors';\r\nimport { SerErrorsDirective } from './ser-errors.directive';\r\nimport { toArray } from '../../utils/array';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serError]'\r\n})\r\nexport class SerErrorDirective implements OnInit, OnDestroy, DoCheck {\r\n\r\n    @Input() set serError(value: ErrorOptions) {\r\n        this.errorNames = toArray(value);\r\n    }\r\n\r\n    @Input() set when(value: ErrorOptions) {\r\n        this.rules = toArray(value);\r\n    }\r\n\r\n    @HostBinding('hidden')\r\n    hidden = true;\r\n\r\n    rules: string[] = [];\r\n    errorNames: string[] = [];\r\n    subscription: Subscription;\r\n    _states: Subject<string[]>;\r\n    states: Observable<string[]>;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => SerErrorsDirective)) private _serErrors: SerErrorsDirective\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this._states = new Subject<string[]>();\r\n        this.states = this._states.asObservable().distinctUntilChanged();\r\n\r\n        const errors = this._serErrors.subject\r\n            .filter(Boolean)\r\n            // tslint:disable-next-line: no-bitwise\r\n            .filter((obj: any) => !!~this.errorNames.indexOf(obj.errorName));\r\n\r\n        const states = this.states\r\n            // tslint:disable-next-line: no-bitwise\r\n            .map(states => this.rules.every(rule => !!~states.indexOf(rule)));\r\n\r\n        this.subscription = Observable.combineLatest([states, errors])\r\n            .subscribe(([states, errors]) => {\r\n                this.hidden = !(states && errors.control.hasError(errors.errorName));\r\n            });\r\n\r\n    }\r\n\r\n    ngDoCheck() {\r\n        this._states.next(\r\n            this.rules.filter((rule) => (this._serErrors.control as any)[rule])\r\n        );\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","// tslint:disable: component-selector\r\nimport { AfterViewInit, Component, ElementRef, forwardRef, HostBinding, Input, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n@Component({\r\n    selector: 'pin-input',\r\n    templateUrl: './pin-input.component.html',\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => PinInputComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class PinInputComponent implements AfterViewInit, OnInit, ControlValueAccessor {\r\n\r\n    @ViewChildren('input') inputsList: QueryList<ElementRef>;\r\n    @HostBinding('class.show') show = false;\r\n\r\n    private inputs: HTMLInputElement[] = [];\r\n\r\n    @Input() codeLength = 4;\r\n    @Input() onlyNumber = true;\r\n    @Input() isCodeHidden = false;\r\n\r\n    codeInputs: number[] | string[];\r\n    value = [];\r\n    type: string;\r\n    isDisabled = false;\r\n\r\n    writeValue(obj: any) {\r\n        if (hasValue(obj)) {\r\n            this.value = obj.toString().split('');\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.type = (this.isCodeHidden) ? 'password' : 'text';\r\n        this.codeInputs = Array(this.codeLength);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.inputsList.forEach((item, i) => {\r\n\r\n            if (hasValue(this.value[i])) {\r\n                (item.nativeElement as HTMLInputElement).value = this.value[i];\r\n            }\r\n\r\n            this.inputs.push(item.nativeElement);\r\n        });\r\n    }\r\n\r\n    private canInputValue(value: any): boolean {\r\n        if (!hasValue(value)) {\r\n            return true;\r\n        }\r\n\r\n        if (this.onlyNumber) {\r\n            return /^[0-9]+$/.test(value.toString());\r\n        } else {\r\n            return /^[0-9a-zA-Z]+$/.test(value.toString());\r\n        }\r\n    }\r\n\r\n    generateValue(): string | number {\r\n        const values: string[] = [];\r\n\r\n        this.inputs.forEach((input) => {\r\n\r\n            if (hasValue(input.value)) {\r\n                values.push(input.value.trim());\r\n            }\r\n\r\n        });\r\n\r\n        if (values.length === this.codeLength) {\r\n            return values.join('');\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    onInput(e: any, i: number) {\r\n        const next = i + 1;\r\n        const target = e.target;\r\n        const value = e.data || target.value;\r\n\r\n        this.onTouch();\r\n\r\n        if (!this.canInputValue(value)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n\r\n        if (next < this.codeLength && hasValue(value)) {\r\n            this.inputs[next].focus();\r\n        }\r\n\r\n        this.onChange(this.generateValue());\r\n\r\n    }\r\n\r\n    async onKeydown(e: KeyboardEvent, i: number) {\r\n        const prev = i - 1;\r\n        const next = i + 1;\r\n        const value = (e.target as HTMLInputElement).value;\r\n        const backspace = e.key.toLowerCase() === 'backspace';\r\n\r\n        if (backspace) {\r\n\r\n            if (prev >= 0) {\r\n\r\n                setTimeout(() => {\r\n                    this.inputs[prev].focus();\r\n                });\r\n            }\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        if (!this.canInputValue(e.key.toLowerCase())) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n\r\n        if (hasValue(value)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            if (next < this.codeLength) {\r\n                this.inputs[next].focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    onClick(e: any) {\r\n\r\n        let index = this.codeLength - 1;\r\n        e.target.setSelectionRange(e.target.value.length, e.target.value.length);\r\n\r\n        for (let i = 0; i < this.inputs.length; i++) {\r\n\r\n            if (!hasValue(this.inputs[i].value)) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (hasValue(index)) {\r\n            this.inputs[index].focus();\r\n        }\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    onChange(_: any) { }\r\n\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouch = fn;\r\n    }\r\n    onTouch() { }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n    filteredData: any = [];\r\n    private subject = new Subject<any>();\r\n\r\n    setData(data: any) {\r\n\r\n        this.filteredData = data;\r\n        this.subject.next(data);\r\n    }\r\n\r\n    getData(): Observable<any> {\r\n        return this.subject.asObservable();\r\n    }\r\n\r\n    getFilteredData() {\r\n        if (this.filteredData && this.filteredData.length > 0) {\r\n            return this.filteredData;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { hasValue } from '../../utils/check';\r\nimport { DataService } from './ser-select.service';\r\n\r\n\r\n@Pipe({\r\n    name: 'serSelectListFilter',\r\n    pure: true\r\n})\r\nexport class SerSelectListFilterPipe implements PipeTransform {\r\n\r\n    constructor(private ds: DataService) { }\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!hasValue(items) || !hasValue(filter)) {\r\n            // this.ds.setData(items);\r\n            return items;\r\n        }\r\n\r\n        const filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n        // this.ds.setData(filteredList);\r\n\r\n        if (hasValue(filteredList)) {\r\n            return filteredList;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (let t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] !== '') {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (const prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}\r\n","// tslint:disable: directive-class-suffix\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: directive-selector\r\nimport { TemplateRef, Directive } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[sd-item]'\r\n})\r\nexport class SDItemDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[sd-badge]'\r\n})\r\nexport class SDBadgeDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[sd-search]'\r\n})\r\nexport class SDSearchDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n","import {\r\n\tComponent,\r\n\tContentChild,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tInject,\r\n\tOptional,\r\n\tInput,\r\n\tNgModule,\r\n\tNgZone,\r\n\tOnChanges,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tOutput,\r\n\tRenderer2,\r\n\tViewChild,\r\n\tChangeDetectorRef,\r\n\tInjectionToken\r\n} from '@angular/core';\r\n\r\nimport { PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformServer } from '@angular/common';\r\n\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport * as tween from '@tweenjs/tween.js'\r\nimport { VirtualScrollerDefaultOptions } from './defaultoptions';\r\nimport { IPageInfo } from './ipageinfo';\r\nimport { IViewport } from './iviewport';\r\n\r\nimport { WrapGroupDimensions } from './wrapgroupdimensions';\r\nimport { WrapGroupDimension } from './wrapgroupdimension';\r\n\r\nimport { IDimensions } from './idimension';\r\n\r\n \r\n\r\n\r\n\r\nexport function VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY(): VirtualScrollerDefaultOptions {\r\n\treturn {\r\n\t\tscrollThrottlingTime: 0,\r\n\t\tscrollDebounceTime: 0,\r\n\t\tscrollAnimationTime: 750,\r\n\t\tcheckResizeInterval: 1000,\r\n\t\tresizeBypassRefreshThreshold: 5,\r\n\t\tmodifyOverflowStyleOfParentScroll: true,\r\n\t\tstripedTable: false\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Component({\r\n\tselector: 'virtual-scroller,[virtualScroller]',\r\n\texportAs: 'virtualScroller',\r\n\ttemplate: `\r\n    <div class=\"total-padding\" #invisiblePadding></div>\r\n    <div class=\"scrollable-content\" #content>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `,\r\n\thost: {\r\n\t\t'[class.horizontal]': \"horizontal\",\r\n\t\t'[class.vertical]': \"!horizontal\",\r\n\t\t'[class.selfScroll]': \"!parentScroll\"\r\n\t},\r\n\tstyles: [`\r\n    :host {\r\n      position: relative;\r\n\t  display: block;\r\n      -webkit-overflow-scrolling: touch;\r\n    }\r\n\t\r\n\t:host.horizontal.selfScroll {\r\n      overflow-y: visible;\r\n      overflow-x: auto;\r\n\t}\r\n\t:host.vertical.selfScroll {\r\n      overflow-y: auto;\r\n      overflow-x: visible;\r\n\t}\r\n\t\r\n    .scrollable-content {\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      max-width: 100vw;\r\n      max-height: 100vh;\r\n      position: absolute;\r\n    }\r\n\r\n\t.scrollable-content ::ng-deep > * {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t:host.horizontal {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content ::ng-deep > * {\r\n\t\tflex-shrink: 0;\r\n\t\tflex-grow: 0;\r\n\t\twhite-space: initial;\r\n\t}\r\n\t\r\n    .total-padding {\r\n      width: 1px;\r\n      opacity: 0;\r\n    }\r\n    \r\n    :host.horizontal .total-padding {\r\n      height: 100%;\r\n    }\r\n  `]\r\n})\r\nexport class VirtualScrollerComponent implements OnInit, OnChanges, OnDestroy {\r\n\tpublic viewPortItems: any[];\r\n\tpublic window = window;\r\n\r\n\tpublic get viewPortInfo(): IPageInfo {\r\n\t\tlet pageInfo: IViewport = this.previousViewPort || <any>{};\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex || 0,\r\n\t\t\tendIndex: pageInfo.endIndex || 0,\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition || 0,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition || 0,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition || 0,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer || 0,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer || 0\r\n\t\t};\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic executeRefreshOutsideAngularZone: boolean = false;\r\n\r\n\tprotected _enableUnequalChildrenSizes: boolean = false;\r\n\t@Input()\r\n\tpublic get enableUnequalChildrenSizes(): boolean {\r\n\t\treturn this._enableUnequalChildrenSizes;\r\n\t}\r\n\tpublic set enableUnequalChildrenSizes(value: boolean) {\r\n\t\tif (this._enableUnequalChildrenSizes === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._enableUnequalChildrenSizes = value;\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic useMarginInsteadOfTranslate: boolean = false;\r\n\r\n\t@Input()\r\n\tpublic modifyOverflowStyleOfParentScroll: boolean;\r\n\r\n\t@Input()\r\n\tpublic stripedTable: boolean;\r\n\r\n\t@Input()\r\n\tpublic scrollbarWidth: number;\r\n\r\n\t@Input()\r\n\tpublic scrollbarHeight: number;\r\n\r\n\t@Input()\r\n\tpublic childWidth: number;\r\n\r\n\t@Input()\r\n\tpublic childHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildWidth: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportWidth: number = 1920;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportHeight: number = 1080;\r\n\r\n\tprotected _bufferAmount: number = 0;\r\n\t@Input()\r\n\tpublic get bufferAmount(): number {\r\n\t\tif (typeof (this._bufferAmount) === 'number' && this._bufferAmount >= 0) {\r\n\t\t\treturn this._bufferAmount;\r\n\t\t} else {\r\n\t\t\treturn this.enableUnequalChildrenSizes ? 5 : 0;\t\r\n\t\t}\r\n\t}\r\n\tpublic set bufferAmount(value: number) {\r\n\t\tthis._bufferAmount = value;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic scrollAnimationTime: number;\r\n\r\n\t@Input()\r\n\tpublic resizeBypassRefreshThreshold: number;\r\n\r\n\tprotected _scrollThrottlingTime: number;\r\n\t@Input()\r\n\tpublic get scrollThrottlingTime(): number {\r\n\t\treturn this._scrollThrottlingTime;\r\n\t}\r\n\tpublic set scrollThrottlingTime(value: number) {\r\n\t\tthis._scrollThrottlingTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected _scrollDebounceTime: number;\r\n\t@Input()\r\n\tpublic get scrollDebounceTime(): number {\r\n\t\treturn this._scrollDebounceTime;\r\n\t}\r\n\tpublic set scrollDebounceTime(value: number) {\r\n\t\tthis._scrollDebounceTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected onScroll: () => void;\r\n\tprotected updateOnScrollFunction(): void {\r\n\t\tif (this.scrollDebounceTime) {\r\n\t\t\tthis.onScroll = <any>this.debounce(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollDebounceTime);\r\n\t\t}\r\n\t\telse if (this.scrollThrottlingTime) {\r\n\t\t\tthis.onScroll = <any>this.throttleTrailing(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollThrottlingTime);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.onScroll = () => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tprotected checkScrollElementResizedTimer: number;\r\n\tprotected _checkResizeInterval: number;\r\n\t@Input()\r\n\tpublic get checkResizeInterval(): number {\r\n\t\treturn this._checkResizeInterval;\r\n\t}\r\n\tpublic set checkResizeInterval(value: number) {\r\n\t\tif (this._checkResizeInterval === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._checkResizeInterval = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tprotected _items: any[] = [];\r\n\t@Input()\r\n\tpublic get items(): any[] {\r\n\t\treturn this._items;\r\n\t}\r\n\tpublic set items(value: any[]) {\r\n\t\tif (value === this._items) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._items = value || [];\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic compareItems: (item1: any, item2: any) => boolean = (item1: any, item2: any) => item1 === item2;\r\n\r\n\tprotected _horizontal: boolean;\r\n\t@Input()\r\n\tpublic get horizontal(): boolean {\r\n\t\treturn this._horizontal;\r\n\t}\r\n\tpublic set horizontal(value: boolean) {\r\n\t\tthis._horizontal = value;\r\n\t\tthis.updateDirection();\r\n\t}\r\n\r\n\tprotected revertParentOverscroll(): void {\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (scrollElement && this.oldParentScrollOverflow) {\r\n\t\t\tscrollElement.style['overflow-y'] = this.oldParentScrollOverflow.y;\r\n\t\t\tscrollElement.style['overflow-x'] = this.oldParentScrollOverflow.x;\r\n\t\t}\r\n\r\n\t\tthis.oldParentScrollOverflow = undefined;\r\n\t}\r\n\r\n\tprotected oldParentScrollOverflow: { x: string, y: string };\r\n\tprotected _parentScroll: Element | Window;\r\n\t@Input()\r\n\tpublic get parentScroll(): Element | Window {\r\n\t\treturn this._parentScroll;\r\n\t}\r\n\tpublic set parentScroll(value: Element | Window) {\r\n\t\tif (this._parentScroll === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.revertParentOverscroll();\r\n\t\tthis._parentScroll = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (this.modifyOverflowStyleOfParentScroll && scrollElement !== this.element.nativeElement) {\r\n\t\t\tthis.oldParentScrollOverflow = { x: scrollElement.style['overflow-x'], y: scrollElement.style['overflow-y'] };\r\n\t\t\tscrollElement.style['overflow-y'] = this.horizontal ? 'visible' : 'auto';\r\n\t\t\tscrollElement.style['overflow-x'] = this.horizontal ? 'auto' : 'visible';\r\n\t\t}\r\n\t}\r\n\r\n\t@Output()\r\n\tpublic vsUpdate: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n\r\n\t@Output()\r\n\tpublic vsChange: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsStart: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsEnd: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@ViewChild('content', { read: ElementRef, static: false })\r\n\tprotected contentElementRef: ElementRef;\r\n\r\n\t@ViewChild('invisiblePadding', { read: ElementRef, static: false })\r\n\tprotected invisiblePaddingElementRef: ElementRef;\r\n\r\n\t@ContentChild('header', { read: ElementRef, static: false })\r\n\tprotected headerElementRef: ElementRef;\r\n\r\n\t@ContentChild('container', { read: ElementRef, static: false })\r\n\tprotected containerElementRef: ElementRef;\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis.removeScrollEventHandlers();\r\n\t\tthis.revertParentOverscroll();\r\n\t}\r\n\r\n\tpublic ngOnChanges(changes: any): void {\r\n\t\tlet indexLengthChanged = this.cachedItemsLength !== this.items.length;\r\n\t\tthis.cachedItemsLength = this.items.length;\r\n\r\n\t\tconst firstRun: boolean = !changes.items || !changes.items.previousValue || changes.items.previousValue.length === 0;\r\n\t\tthis.refresh_internal(indexLengthChanged || firstRun);\r\n\t}\r\n\r\n\t\r\n\tpublic ngDoCheck(): void {\r\n\t\tif (this.cachedItemsLength !== this.items.length) {\r\n\t\t\tthis.cachedItemsLength = this.items.length;\r\n\t\t\tthis.refresh_internal(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.previousViewPort && this.viewPortItems && this.viewPortItems.length > 0) {\r\n\t\t\tlet itemsArrayChanged = false;\r\n\t\t\tfor (let i = 0; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\tif (!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer + i], this.viewPortItems[i])) {\r\n\t\t\t\t\titemsArrayChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (itemsArrayChanged) {\r\n\t\t\t\tthis.refresh_internal(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic refresh(): void {\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\tpublic invalidateAllCachedMeasurements(): void {\r\n\t\tthis.wrapGroupDimensions = {\r\n\t\t\tmaxChildSizePerWrapGroup: [],\r\n\t\t\tnumberOfKnownWrapGroupChildSizes: 0,\r\n\t\t\tsumOfKnownWrapGroupChildWidths: 0,\r\n\t\t\tsumOfKnownWrapGroupChildHeights: 0\r\n\t\t};\r\n\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementForItem(item: any): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet index = this.items && this.items.indexOf(item);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tthis.invalidateCachedMeasurementAtIndex(index);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementAtIndex(index: number): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet cachedMeasurement = this.wrapGroupDimensions.maxChildSizePerWrapGroup[index];\r\n\t\t\tif (cachedMeasurement) {\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[index] = undefined;\r\n\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= cachedMeasurement.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= cachedMeasurement.childHeight || 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic scrollInto(item: any, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet index: number = this.items.indexOf(item);\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.scrollToIndex(index, alignToBeginning, additionalOffset, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToIndex(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet maxRetries: number = 5;\r\n\r\n\t\tlet retryIfNeeded = () => {\r\n\t\t\t--maxRetries;\r\n\t\t\tif (maxRetries <= 0) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet dimensions = this.calculateDimensions();\r\n\t\t\tlet desiredStartIndex = Math.min(Math.max(index, 0), dimensions.itemCount - 1);\r\n\t\t\tif (this.previousViewPort.startIndex === desiredStartIndex) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, 0, retryIfNeeded);\r\n\t\t};\r\n\r\n\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, animationMilliseconds, retryIfNeeded);\r\n\t}\r\n\r\n\tprotected scrollToIndex_internal(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet scroll = this.calculatePadding(index, dimensions) + additionalOffset;\r\n\t\tif (!alignToBeginning) {\r\n\t\t\tscroll -= dimensions.wrapGroupsPerPage * dimensions[this._childScrollDim];\r\n\t\t}\r\n\r\n\t\tthis.scrollToPosition(scroll, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToPosition(scrollPosition: number, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tscrollPosition += this.getElementsOffset();\r\n\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tlet animationRequest: number;\r\n\r\n\t\tif (this.currentTween) {\r\n\t\t\tthis.currentTween.stop();\r\n\t\t\tthis.currentTween = undefined;\r\n\t\t}\r\n\r\n\t\tif (!animationMilliseconds) {\r\n\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, scrollPosition);\r\n\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tweenConfigObj = { scrollPosition: scrollElement[this._scrollType] };\r\n\r\n\t\tlet newTween = new tween.Tween(tweenConfigObj)\r\n\t\t\t.to({ scrollPosition }, animationMilliseconds)\r\n\t\t\t.easing(tween.Easing.Quadratic.Out)\r\n\t\t\t.onUpdate((data) => {\r\n\t\t\t\tif (isNaN(data.scrollPosition)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, data.scrollPosition);\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t})\r\n\t\t\t.onStop(() => {\r\n\t\t\t\tcancelAnimationFrame(animationRequest);\r\n\t\t\t})\r\n\t\t\t.start();\r\n\r\n\t\tconst animate = (time?: number) => {\r\n\t\t\tif (!newTween[\"isPlaying\"]()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnewTween.update(time);\r\n\t\t\tif (tweenConfigObj.scrollPosition === scrollPosition) {\r\n\t\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\t\tanimationRequest = requestAnimationFrame(animate);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tanimate();\r\n\t\tthis.currentTween = newTween;\r\n\t}\r\n\r\n\tprotected isAngularUniversalSSR: boolean;\r\n\r\n\tconstructor(protected readonly element: ElementRef,\r\n\t\tprotected readonly renderer: Renderer2,\r\n\t\tprotected readonly zone: NgZone,\r\n\t\tprotected changeDetectorRef: ChangeDetectorRef,\r\n\t\t@Inject(PLATFORM_ID) platformId: Object,\r\n\t\t@Optional() @Inject('virtual-scroller-default-options')\r\n\t\toptions: VirtualScrollerDefaultOptions) {\r\n\t\t\t\r\n\t\tthis.isAngularUniversalSSR = isPlatformServer(platformId);\r\n\r\n\t\tthis.scrollThrottlingTime = options.scrollThrottlingTime;\r\n\t\tthis.scrollDebounceTime = options.scrollDebounceTime;\r\n\t\tthis.scrollAnimationTime = options.scrollAnimationTime;\r\n\t\tthis.scrollbarWidth = options.scrollbarWidth;\r\n\t\tthis.scrollbarHeight = options.scrollbarHeight;\r\n\t\tthis.checkResizeInterval = options.checkResizeInterval;\r\n\t\tthis.resizeBypassRefreshThreshold = options.resizeBypassRefreshThreshold;\r\n\t\tthis.modifyOverflowStyleOfParentScroll = options.modifyOverflowStyleOfParentScroll;\r\n\t\tthis.stripedTable = options.stripedTable;\r\n\r\n\t\tthis.horizontal = false;\r\n\t\tthis.resetWrapGroupDimensions();\r\n\t}\r\n\t\r\n\tprotected getElementSize(element: HTMLElement) : ClientRect {\r\n\t\tlet result = element.getBoundingClientRect();\r\n\t\tlet styles = getComputedStyle(element);\r\n\t\tlet marginTop = parseInt(styles['margin-top'], 10) || 0;\r\n\t\tlet marginBottom = parseInt(styles['margin-bottom'], 10) || 0;\r\n\t\tlet marginLeft = parseInt(styles['margin-left'], 10) || 0;\r\n\t\tlet marginRight = parseInt(styles['margin-right'], 10) || 0;\r\n\t\t\r\n\t\treturn {\r\n\t\t\ttop: result.top + marginTop,\r\n\t\t\tbottom: result.bottom + marginBottom,\r\n\t\t\tleft: result.left + marginLeft,\r\n\t\t\tright: result.right + marginRight,\r\n\t\t\twidth: result.width + marginLeft + marginRight,\r\n\t\t\theight: result.height + marginTop + marginBottom\r\n\t\t};\r\n\t}\r\n\r\n\tprotected previousScrollBoundingRect: ClientRect;\r\n\tprotected checkScrollElementResized(): void {\r\n\t\tlet boundingRect = this.getElementSize(this.getScrollElement());\r\n\r\n\t\tlet sizeChanged: boolean;\r\n\t\tif (!this.previousScrollBoundingRect) {\r\n\t\t\tsizeChanged = true;\r\n\t\t} else {\r\n\t\t\tlet widthChange = Math.abs(boundingRect.width - this.previousScrollBoundingRect.width);\r\n\t\t\tlet heightChange = Math.abs(boundingRect.height - this.previousScrollBoundingRect.height);\r\n\t\t\tsizeChanged = widthChange > this.resizeBypassRefreshThreshold || heightChange > this.resizeBypassRefreshThreshold;\r\n\t\t}\r\n\r\n\t\tif (sizeChanged) {\r\n\t\t\tthis.previousScrollBoundingRect = boundingRect;\r\n\t\t\tif (boundingRect.width > 0 && boundingRect.height > 0) {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _invisiblePaddingProperty;\r\n\tprotected _offsetType;\r\n\tprotected _scrollType;\r\n\tprotected _pageOffsetType;\r\n\tprotected _childScrollDim;\r\n\tprotected _translateDir;\r\n\tprotected _marginDir;\r\n\tprotected updateDirection(): void {\r\n\t\tif (this.horizontal) {\r\n\t\t\tthis._invisiblePaddingProperty = 'width';\r\n\t\t\tthis._offsetType = 'offsetLeft';\r\n\t\t\tthis._pageOffsetType = 'pageXOffset';\r\n\t\t\tthis._childScrollDim = 'childWidth';\r\n\t\t\tthis._marginDir = 'margin-left';\r\n\t\t\tthis._translateDir = 'translateX';\r\n\t\t\tthis._scrollType = 'scrollLeft';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._invisiblePaddingProperty = 'height';\r\n\t\t\tthis._offsetType = 'offsetTop';\r\n\t\t\tthis._pageOffsetType = 'pageYOffset';\r\n\t\t\tthis._childScrollDim = 'childHeight';\r\n\t\t\tthis._marginDir = 'margin-top';\r\n\t\t\tthis._translateDir = 'translateY';\r\n\t\t\tthis._scrollType = 'scrollTop';\r\n\t\t}\r\n\t}\r\n\r\n\tprotected debounce(func: Function, wait: number): Function {\r\n\t\tconst throttled = this.throttleTrailing(func, wait);\r\n\t\tconst result = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t\tthrottled.apply(this, arguments);\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected throttleTrailing(func: Function, wait: number): Function {\r\n\t\tlet timeout = undefined;\r\n\t\tlet _arguments = arguments;\r\n\t\tconst result = function () {\r\n\t\t\tconst _this = this;\r\n\t\t\t_arguments = arguments\r\n\r\n\t\t\tif (timeout) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (wait <= 0) {\r\n\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t} else {\r\n\t\t\t\ttimeout = setTimeout(function () {\r\n\t\t\t\t\ttimeout = undefined;\r\n\t\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t\t}, wait);\r\n\t\t\t}\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = undefined;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatedScrollbarWidth: number = 0;\r\n\tprotected calculatedScrollbarHeight: number = 0;\r\n\r\n\tprotected padding: number = 0;\r\n\tprotected previousViewPort: IViewport = <any>{};\r\n\tprotected currentTween: tween.Tween;\r\n\tprotected cachedItemsLength: number;\r\n\r\n\tprotected disposeScrollHandler: () => void | undefined;\r\n\tprotected disposeResizeHandler: () => void | undefined;\r\n\r\n\tprotected refresh_internal(itemsArrayModified: boolean, refreshCompletedCallback: () => void = undefined, maxRunTimes: number = 2): void {\r\n\t\t//note: maxRunTimes is to force it to keep recalculating if the previous iteration caused a re-render (different sliced items in viewport or scrollPosition changed).\r\n\t\t//The default of 2x max will probably be accurate enough without causing too large a performance bottleneck\r\n\t\t//The code would typically quit out on the 2nd iteration anyways. The main time it'd think more than 2 runs would be necessary would be for vastly different sized child items or if this is the 1st time the items array was initialized.\r\n\t\t//Without maxRunTimes, If the user is actively scrolling this code would become an infinite loop until they stopped scrolling. This would be okay, except each scroll event would start an additional infinte loop. We want to short-circuit it to prevent this.\r\n\r\n\t\tif (itemsArrayModified && this.previousViewPort && this.previousViewPort.scrollStartPosition > 0) {\r\n\t\t//if items were prepended, scroll forward to keep same items visible\r\n\t\t\tlet oldViewPort = this.previousViewPort;\r\n\t\t\tlet oldViewPortItems = this.viewPortItems;\r\n\t\t\t\r\n\t\t\tlet oldRefreshCompletedCallback = refreshCompletedCallback;\r\n\t\t\trefreshCompletedCallback = () => {\r\n\t\t\t\tlet scrollLengthDelta = this.previousViewPort.scrollLength - oldViewPort.scrollLength;\r\n\t\t\t\tif (scrollLengthDelta > 0 && this.viewPortItems) {\r\n\t\t\t\t\tlet oldStartItem = oldViewPortItems[0];\r\n\t\t\t\t\tlet oldStartItemIndex = this.items.findIndex(x => this.compareItems(oldStartItem, x));\r\n\t\t\t\t\tif (oldStartItemIndex > this.previousViewPort.startIndexWithBuffer) {\r\n\t\t\t\t\t\tlet itemOrderChanged = false;\r\n\t\t\t\t\t\tfor (let i = 1; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\t\t\t\tif (!this.compareItems(this.items[oldStartItemIndex + i], oldViewPortItems[i])) {\r\n\t\t\t\t\t\t\t\titemOrderChanged = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!itemOrderChanged) {\r\n\t\t\t\t\t\t\tthis.scrollToPosition(this.previousViewPort.scrollStartPosition + scrollLengthDelta , 0, oldRefreshCompletedCallback);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (oldRefreshCompletedCallback) {\r\n\t\t\t\t\toldRefreshCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\t\t\t\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\trequestAnimationFrame(() => {\r\n\r\n\t\t\t\tif (itemsArrayModified) {\r\n\t\t\t\t\tthis.resetWrapGroupDimensions();\r\n\t\t\t\t}\r\n\t\t\t\tlet viewport = this.calculateViewport();\r\n\r\n\t\t\t\tlet startChanged = itemsArrayModified || viewport.startIndex !== this.previousViewPort.startIndex;\r\n\t\t\t\tlet endChanged = itemsArrayModified || viewport.endIndex !== this.previousViewPort.endIndex;\r\n\t\t\t\tlet scrollLengthChanged = viewport.scrollLength !== this.previousViewPort.scrollLength;\r\n\t\t\t\tlet paddingChanged = viewport.padding !== this.previousViewPort.padding;\r\n\t\t\t\tlet scrollPositionChanged = viewport.scrollStartPosition !== this.previousViewPort.scrollStartPosition || viewport.scrollEndPosition !== this.previousViewPort.scrollEndPosition || viewport.maxScrollPosition !== this.previousViewPort.maxScrollPosition;\r\n\r\n\t\t\t\tthis.previousViewPort = viewport;\r\n\r\n\t\t\t\tif (scrollLengthChanged) {\r\n\t\t\t\t\tthis.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement, this._invisiblePaddingProperty, `${viewport.scrollLength}px`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (paddingChanged) {\r\n\t\t\t\t\tif (this.useMarginInsteadOfTranslate) {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, this._marginDir, `${viewport.padding}px`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'transform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.headerElementRef) {\r\n\t\t\t\t\tlet scrollPosition = this.getScrollElement()[this._scrollType];\r\n\t\t\t\t\tlet containerOffset = this.getElementsOffset();\r\n\t\t\t\t\tlet offset = Math.max(scrollPosition - viewport.padding - containerOffset + this.headerElementRef.nativeElement.clientHeight, 0);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'transform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst changeEventArg: IPageInfo = (startChanged || endChanged) ? {\r\n\t\t\t\t\tstartIndex: viewport.startIndex,\r\n\t\t\t\t\tendIndex: viewport.endIndex,\r\n\t\t\t\t\tscrollStartPosition: viewport.scrollStartPosition,\r\n\t\t\t\t\tscrollEndPosition: viewport.scrollEndPosition,\r\n\t\t\t\t\tstartIndexWithBuffer: viewport.startIndexWithBuffer,\r\n\t\t\t\t\tendIndexWithBuffer: viewport.endIndexWithBuffer,\r\n\t\t\t\t\tmaxScrollPosition: viewport.maxScrollPosition\r\n\t\t\t\t} : undefined;\r\n\r\n\r\n\t\t\t\tif (startChanged || endChanged || scrollPositionChanged) {\r\n\t\t\t\t\tconst handleChanged = () => {\r\n\t\t\t\t\t\t// update the scroll list to trigger re-render of components in viewport\r\n\t\t\t\t\t\tthis.viewPortItems = viewport.startIndexWithBuffer >= 0 && viewport.endIndexWithBuffer >= 0 ? this.items.slice(viewport.startIndexWithBuffer, viewport.endIndexWithBuffer + 1) : [];\r\n\t\t\t\t\t\tthis.vsUpdate.emit(this.viewPortItems);\r\n\r\n\t\t\t\t\t\tif (startChanged) {\r\n\t\t\t\t\t\t\tthis.vsStart.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (endChanged) {\r\n\t\t\t\t\t\t\tthis.vsEnd.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (startChanged || endChanged) {\r\n\t\t\t\t\t\t\tthis.changeDetectorRef.markForCheck();\r\n\t\t\t\t\t\t\tthis.vsChange.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (maxRunTimes > 0) {\r\n\t\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tif (this.executeRefreshOutsideAngularZone) {\r\n\t\t\t\t\t\thandleChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.zone.run(handleChanged);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (maxRunTimes > 0 && (scrollLengthChanged || paddingChanged)) {\r\n\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprotected getScrollElement(): HTMLElement {\r\n\t\treturn this.parentScroll instanceof Window ? document.scrollingElement || document.documentElement || document.body : this.parentScroll || this.element.nativeElement;\r\n\t}\r\n\r\n\tprotected addScrollEventHandlers(): void {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tthis.removeScrollEventHandlers();\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen('window', 'scroll', this.onScroll);\r\n\t\t\t\tthis.disposeResizeHandler = this.renderer.listen('window', 'resize', this.onScroll);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen(scrollElement, 'scroll', this.onScroll);\r\n\t\t\t\tif (this._checkResizeInterval > 0) {\r\n\t\t\t\t\tthis.checkScrollElementResizedTimer = <any>setInterval(() => { this.checkScrollElementResized(); }, this._checkResizeInterval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprotected removeScrollEventHandlers(): void {\r\n\t\tif (this.checkScrollElementResizedTimer) {\r\n\t\t\tclearInterval(this.checkScrollElementResizedTimer);\r\n\t\t}\r\n\r\n\t\tif (this.disposeScrollHandler) {\r\n\t\t\tthis.disposeScrollHandler();\r\n\t\t\tthis.disposeScrollHandler = undefined;\r\n\t\t}\r\n\r\n\t\tif (this.disposeResizeHandler) {\r\n\t\t\tthis.disposeResizeHandler();\r\n\t\t\tthis.disposeResizeHandler = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getElementsOffset(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet offset = 0;\r\n\r\n\t\tif (this.containerElementRef && this.containerElementRef.nativeElement) {\r\n\t\t\toffset += this.containerElementRef.nativeElement[this._offsetType];\r\n\t\t}\r\n\r\n\t\tif (this.parentScroll) {\r\n\t\t\tlet scrollElement = this.getScrollElement();\r\n\t\t\tlet elementClientRect = this.getElementSize(this.element.nativeElement);\r\n\t\t\tlet scrollClientRect = this.getElementSize(scrollElement);\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\toffset += elementClientRect.left - scrollClientRect.left;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\toffset += elementClientRect.top - scrollClientRect.top;\r\n\t\t\t}\r\n\r\n\t\t\tif (!(this.parentScroll instanceof Window)) {\r\n\t\t\t\toffset += scrollElement[this._scrollType];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn offset;\r\n\t}\r\n\r\n\tprotected countItemsPerWrapGroup(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn Math.round(this.horizontal ? this.ssrViewportHeight / this.ssrChildHeight : this.ssrViewportWidth / this.ssrChildWidth);\r\n\t\t}\r\n\r\n\t\tlet propertyName = this.horizontal ? 'offsetLeft' : 'offsetTop';\r\n\t\tlet children = ((this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement).children;\r\n\r\n\t\tlet childrenLength = children ? children.length : 0;\r\n\t\tif (childrenLength === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tlet firstOffset = children[0][propertyName];\r\n\t\tlet result = 1;\r\n\t\twhile (result < childrenLength && firstOffset === children[result][propertyName]) {\r\n\t\t\t++result;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getScrollStartPosition(): number {\r\n\t\tlet windowScrollValue = undefined;\r\n\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\twindowScrollValue = window[this._pageOffsetType];\r\n\t\t}\r\n\r\n\t\treturn windowScrollValue || this.getScrollElement()[this._scrollType] || 0;\r\n\t}\r\n\r\n\tprotected minMeasuredChildWidth: number;\r\n\tprotected minMeasuredChildHeight: number;\r\n\r\n\tprotected wrapGroupDimensions: WrapGroupDimensions;\r\n\r\n\tprotected resetWrapGroupDimensions(): void {\r\n\t\tconst oldWrapGroupDimensions = this.wrapGroupDimensions;\r\n\t\tthis.invalidateAllCachedMeasurements();\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes || !oldWrapGroupDimensions || oldWrapGroupDimensions.numberOfKnownWrapGroupChildSizes === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst itemsPerWrapGroup: number = this.countItemsPerWrapGroup();\r\n\t\tfor (let wrapGroupIndex = 0; wrapGroupIndex < oldWrapGroupDimensions.maxChildSizePerWrapGroup.length; ++wrapGroupIndex) {\r\n\t\t\tconst oldWrapGroupDimension: WrapGroupDimension = oldWrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\tif (!oldWrapGroupDimension || !oldWrapGroupDimension.items || !oldWrapGroupDimension.items.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (oldWrapGroupDimension.items.length !== itemsPerWrapGroup) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet itemsChanged = false;\r\n\t\t\tlet arrayStartIndex = itemsPerWrapGroup * wrapGroupIndex;\r\n\t\t\tfor (let i = 0; i < itemsPerWrapGroup; ++i) {\r\n\t\t\t\tif (!this.compareItems(oldWrapGroupDimension.items[i], this.items[arrayStartIndex + i])) {\r\n\t\t\t\t\titemsChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!itemsChanged) {\r\n\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += oldWrapGroupDimension.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += oldWrapGroupDimension.childHeight || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = oldWrapGroupDimension;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected calculateDimensions(): IDimensions {\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tconst maxCalculatedScrollBarSize: number = 25; // Note: Formula to auto-calculate doesn't work for ParentScroll, so we default to this if not set by consuming application\r\n\t\tthis.calculatedScrollbarHeight = Math.max(Math.min(scrollElement.offsetHeight - scrollElement.clientHeight, maxCalculatedScrollBarSize), this.calculatedScrollbarHeight);\r\n\t\tthis.calculatedScrollbarWidth = Math.max(Math.min(scrollElement.offsetWidth - scrollElement.clientWidth, maxCalculatedScrollBarSize), this.calculatedScrollbarWidth);\r\n\r\n\t\tlet viewportWidth = scrollElement.offsetWidth - (this.scrollbarWidth || this.calculatedScrollbarWidth || (this.horizontal ? 0 : maxCalculatedScrollBarSize));\r\n\t\tlet viewportHeight = scrollElement.offsetHeight - (this.scrollbarHeight || this.calculatedScrollbarHeight || (this.horizontal ? maxCalculatedScrollBarSize : 0));\r\n\r\n\t\tlet content = (this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement;\r\n\r\n\t\tlet itemsPerWrapGroup = this.countItemsPerWrapGroup();\r\n\t\tlet wrapGroupsPerPage;\r\n\r\n\t\tlet defaultChildWidth;\r\n\t\tlet defaultChildHeight;\r\n\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\tviewportWidth = this.ssrViewportWidth;\r\n\t\t\tviewportHeight = this.ssrViewportHeight;\r\n\t\t\tdefaultChildWidth = this.ssrChildWidth;\r\n\t\t\tdefaultChildHeight = this.ssrChildHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t}\r\n\t\telse if (!this.enableUnequalChildrenSizes) {\r\n\t\t\tif (content.children.length > 0) {\r\n\t\t\t\tif (!this.childWidth || !this.childHeight) {\r\n\t\t\t\t\tif (!this.minMeasuredChildWidth && viewportWidth > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildWidth = viewportWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.minMeasuredChildHeight && viewportHeight > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildHeight = viewportHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet child = content.children[0];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\t\t\t\tthis.minMeasuredChildWidth = Math.min(this.minMeasuredChildWidth, clientRect.width);\r\n\t\t\t\tthis.minMeasuredChildHeight = Math.min(this.minMeasuredChildHeight, clientRect.height);\r\n\t\t\t}\r\n\r\n\t\t\tdefaultChildWidth = this.childWidth || this.minMeasuredChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || this.minMeasuredChildHeight || viewportHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t} else {\r\n\t\t\tlet scrollOffset = scrollElement[this._scrollType] - (this.previousViewPort ? this.previousViewPort.padding : 0);\r\n\r\n\t\t\tlet arrayStartIndex = this.previousViewPort.startIndexWithBuffer || 0;\r\n\t\t\tlet wrapGroupIndex = Math.ceil(arrayStartIndex / itemsPerWrapGroup);\r\n\r\n\t\t\tlet maxWidthForWrapGroup = 0;\r\n\t\t\tlet maxHeightForWrapGroup = 0;\r\n\t\t\tlet sumOfVisibleMaxWidths = 0;\r\n\t\t\tlet sumOfVisibleMaxHeights = 0;\r\n\t\t\twrapGroupsPerPage = 0;\r\n\r\n\t\t\tfor (let i = 0; i < content.children.length; ++i) {\r\n\t\t\t\t++arrayStartIndex;\r\n\t\t\t\tlet child = content.children[i];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\r\n\t\t\t\tmaxWidthForWrapGroup = Math.max(maxWidthForWrapGroup, clientRect.width);\r\n\t\t\t\tmaxHeightForWrapGroup = Math.max(maxHeightForWrapGroup, clientRect.height);\r\n\r\n\t\t\t\tif (arrayStartIndex % itemsPerWrapGroup === 0) {\r\n\t\t\t\t\tlet oldValue = this.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\t\t\tif (oldValue) {\r\n\t\t\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= oldValue.childWidth || 0;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= oldValue.childHeight || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\tconst items = this.items.slice(arrayStartIndex - itemsPerWrapGroup, arrayStartIndex);\r\n\t\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = {\r\n\t\t\t\t\t\tchildWidth: maxWidthForWrapGroup,\r\n\t\t\t\t\t\tchildHeight: maxHeightForWrapGroup,\r\n\t\t\t\t\t\titems: items\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += maxWidthForWrapGroup;\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += maxHeightForWrapGroup;\r\n\r\n\t\t\t\t\tif (this.horizontal) {\r\n\t\t\t\t\t\tlet maxVisibleWidthForWrapGroup = Math.min(maxWidthForWrapGroup, Math.max(viewportWidth - sumOfVisibleMaxWidths, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleWidthForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleWidthForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxWidths += maxVisibleWidthForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleWidthForWrapGroup > 0 && viewportWidth >= sumOfVisibleMaxWidths) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet maxVisibleHeightForWrapGroup = Math.min(maxHeightForWrapGroup, Math.max(viewportHeight - sumOfVisibleMaxHeights, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleHeightForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleHeightForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxHeights += maxVisibleHeightForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleHeightForWrapGroup > 0 && viewportHeight >= sumOfVisibleMaxHeights) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++wrapGroupIndex;\r\n\r\n\t\t\t\t\tmaxWidthForWrapGroup = 0;\r\n\t\t\t\t\tmaxHeightForWrapGroup = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet averageChildWidth = this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tlet averageChildHeight = this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tdefaultChildWidth = this.childWidth || averageChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || averageChildHeight || viewportHeight;\r\n\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\tif (viewportWidth > sumOfVisibleMaxWidths) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportWidth - sumOfVisibleMaxWidths) / defaultChildWidth);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (viewportHeight > sumOfVisibleMaxHeights) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportHeight - sumOfVisibleMaxHeights) / defaultChildHeight);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet itemCount = this.items.length;\r\n\t\tlet itemsPerPage = itemsPerWrapGroup * wrapGroupsPerPage;\r\n\t\tlet pageCount_fractional = itemCount / itemsPerPage;\r\n\t\tlet numberOfWrapGroups = Math.ceil(itemCount / itemsPerWrapGroup);\r\n\r\n\t\tlet scrollLength = 0;\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = this.horizontal ? defaultChildWidth : defaultChildHeight;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet numUnknownChildSizes = 0;\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\tscrollLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscrollLength += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\t\t} else {\r\n\t\t\tscrollLength = numberOfWrapGroups * defaultScrollLengthPerWrapGroup;\r\n\t\t}\r\n\r\n\t\tif (this.headerElementRef) {\r\n\t\t\tscrollLength += this.headerElementRef.nativeElement.clientHeight;\r\n\t\t}\r\n\r\n\t\tlet viewportLength = this.horizontal ? viewportWidth : viewportHeight;\r\n\t\tlet maxScrollPosition = Math.max(scrollLength - viewportLength, 0);\r\n\r\n\t\treturn {\r\n\t\t\titemCount: itemCount,\r\n\t\t\titemsPerWrapGroup: itemsPerWrapGroup,\r\n\t\t\twrapGroupsPerPage: wrapGroupsPerPage,\r\n\t\t\titemsPerPage: itemsPerPage,\r\n\t\t\tpageCount_fractional: pageCount_fractional,\r\n\t\t\tchildWidth: defaultChildWidth,\r\n\t\t\tchildHeight: defaultChildHeight,\r\n\t\t\tscrollLength: scrollLength,\r\n\t\t\tviewportLength: viewportLength,\r\n\t\t\tmaxScrollPosition: maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected cachedPageSize: number = 0;\r\n\tprotected previousScrollNumberElements: number = 0;\r\n\r\n\tprotected calculatePadding(arrayStartIndexWithBuffer: number, dimensions: IDimensions): number {\r\n\t\tif (dimensions.itemCount === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\tlet startingWrapGroupIndex = Math.floor(arrayStartIndexWithBuffer / dimensions.itemsPerWrapGroup) || 0;\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes) {\r\n\t\t\treturn defaultScrollLengthPerWrapGroup * startingWrapGroupIndex;\r\n\t\t}\r\n\r\n\t\tlet numUnknownChildSizes = 0;\r\n\t\tlet result = 0;\r\n\t\tfor (let i = 0; i < startingWrapGroupIndex; ++i) {\r\n\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\tif (childSize) {\r\n\t\t\t\tresult += childSize;\r\n\t\t\t} else {\r\n\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatePageInfo(scrollPosition: number, dimensions: IDimensions): IPageInfo {\r\n\t\tlet scrollPercentage = 0;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tconst numberOfWrapGroups = Math.ceil(dimensions.itemCount / dimensions.itemsPerWrapGroup);\r\n\t\t\tlet totalScrolledLength = 0;\r\n\t\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\ttotalScrolledLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotalScrolledLength += defaultScrollLengthPerWrapGroup;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollPosition < totalScrolledLength) {\r\n\t\t\t\t\tscrollPercentage = i / numberOfWrapGroups;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tscrollPercentage = scrollPosition / dimensions.scrollLength;\r\n\t\t}\r\n\r\n\t\tlet startingArrayIndex_fractional = Math.min(Math.max(scrollPercentage * dimensions.pageCount_fractional, 0), dimensions.pageCount_fractional) * dimensions.itemsPerPage;\r\n\r\n\t\tlet maxStart = dimensions.itemCount - dimensions.itemsPerPage - 1;\r\n\t\tlet arrayStartIndex = Math.min(Math.floor(startingArrayIndex_fractional), maxStart);\r\n\t\tarrayStartIndex -= arrayStartIndex % dimensions.itemsPerWrapGroup; // round down to start of wrapGroup\r\n\r\n\t\tif (this.stripedTable) {\r\n\t\t\tlet bufferBoundary = 2 * dimensions.itemsPerWrapGroup;\r\n\t\t\tif (arrayStartIndex % bufferBoundary !== 0) {\r\n\t\t\t\tarrayStartIndex = Math.max(arrayStartIndex - arrayStartIndex % bufferBoundary, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet arrayEndIndex = Math.ceil(startingArrayIndex_fractional) + dimensions.itemsPerPage - 1;\r\n\t\tlet endIndexWithinWrapGroup = (arrayEndIndex + 1) % dimensions.itemsPerWrapGroup;\r\n\t\tif (endIndexWithinWrapGroup > 0) {\r\n\t\t\tarrayEndIndex += dimensions.itemsPerWrapGroup - endIndexWithinWrapGroup; // round up to end of wrapGroup\r\n\t\t}\r\n\r\n\t\tif (isNaN(arrayStartIndex)) {\r\n\t\t\tarrayStartIndex = 0;\r\n\t\t}\r\n\t\tif (isNaN(arrayEndIndex)) {\r\n\t\t\tarrayEndIndex = 0;\r\n\t\t}\r\n\r\n\t\tarrayStartIndex = Math.min(Math.max(arrayStartIndex, 0), dimensions.itemCount - 1);\r\n\t\tarrayEndIndex = Math.min(Math.max(arrayEndIndex, 0), dimensions.itemCount - 1);\r\n\r\n\t\tlet bufferSize = this.bufferAmount * dimensions.itemsPerWrapGroup;\r\n\t\tlet startIndexWithBuffer = Math.min(Math.max(arrayStartIndex - bufferSize, 0), dimensions.itemCount - 1);\r\n\t\tlet endIndexWithBuffer = Math.min(Math.max(arrayEndIndex + bufferSize, 0), dimensions.itemCount - 1);\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: arrayStartIndex,\r\n\t\t\tendIndex: arrayEndIndex,\r\n\t\t\tstartIndexWithBuffer: startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: endIndexWithBuffer,\r\n\t\t\tscrollStartPosition: scrollPosition,\r\n\t\t\tscrollEndPosition: scrollPosition + dimensions.viewportLength,\r\n\t\t\tmaxScrollPosition: dimensions.maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected calculateViewport(): IViewport {\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet offset = this.getElementsOffset();\r\n\r\n\t\tlet scrollStartPosition = this.getScrollStartPosition();\r\n\t\tif (scrollStartPosition > (dimensions.scrollLength + offset) && !(this.parentScroll instanceof Window)) {\r\n\t\t\tscrollStartPosition = dimensions.scrollLength;\r\n\t\t} else {\r\n\t\t\tscrollStartPosition -= offset;\r\n\t\t}\r\n\t\tscrollStartPosition = Math.max(0, scrollStartPosition);\r\n\r\n\t\tlet pageInfo = this.calculatePageInfo(scrollStartPosition, dimensions);\r\n\t\tlet newPadding = this.calculatePadding(pageInfo.startIndexWithBuffer, dimensions);\r\n\t\tlet newScrollLength = dimensions.scrollLength;\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex,\r\n\t\t\tendIndex: pageInfo.endIndex,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer,\r\n\t\t\tpadding: Math.round(newPadding),\r\n\t\t\tscrollLength: Math.round(newScrollLength),\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\texports: [VirtualScrollerComponent],\r\n\tdeclarations: [VirtualScrollerComponent],\r\n\timports: [CommonModule],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: 'virtual-scroller-default-options',\r\n\t\t\tuseFactory: VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY\r\n\t\t}\r\n\t]\r\n})\r\nexport class VirtualScrollerModule { }","// tslint:disable: no-use-before-declare\r\n// tslint:disable: no-host-metadata-property\r\n// tslint:disable: max-line-length\r\n// tslint:disable: no-output-rename\r\n// tslint:disable: no-output-on-prefix\r\n// tslint:disable: prefer-const\r\n// tslint:disable: no-conflicting-lifecycle\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: component-selector\r\n\r\nimport { Attribute, HostBinding, Optional, Renderer2 } from '@angular/core';\r\nimport { Component, OnInit, OnDestroy, SimpleChanges, OnChanges, ChangeDetectorRef, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { DropdownSettings } from './ser-select.interface';\r\nimport { SerSelectListFilterPipe } from './ser-select-list-filter.pipe';\r\nimport { SDItemDirective, SDBadgeDirective, SDSearchDirective } from './ser-select-menu-item.directive';\r\nimport { DataService } from './ser-select.service';\r\nimport { Subscription, Subject, fromEvent } from 'rxjs';\r\nimport { VirtualScrollerComponent } from './virtual-scroll/virtual-scroll';\r\nimport { debounceTime, distinctUntilChanged, tap, filter } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\nimport { inArray } from '../../utils/array';\r\n\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'ser-select',\r\n    templateUrl: './ser-select.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => SerSelectComponent),\r\n            multi: true\r\n        },\r\n        {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => SerSelectComponent),\r\n            multi: true,\r\n        }\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerSelectComponent implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewInit, OnDestroy {\r\n\r\n    @Input() data = [];\r\n\r\n    @Input() settings: DropdownSettings;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(SDItemDirective, { static: true }) itemTempl: SDItemDirective;\r\n    @ContentChild(SDBadgeDirective, { static: true }) badgeTempl: SDBadgeDirective;\r\n    @ContentChild(SDSearchDirective, { static: true }) searchTempl: SDSearchDirective;\r\n\r\n\r\n    @ViewChild('searchInput') searchInput: ElementRef;\r\n    @ViewChild('selectedList') selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\r\n\r\n    @HostBinding('class.disabled') isDisabled = false;\r\n    @HostBinding('class.active') isActive = false;\r\n    @HostBinding('class.multiple') multipleClass = false;\r\n\r\n    virtualdata: any = [];\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: SerSelectListFilterPipe;\r\n    selectedItems: any[] = [];\r\n    isSelectAll = false;\r\n    isFilterSelectAll = false;\r\n    isInfiniteFilterSelectAll = false;\r\n    groupedData: any[];\r\n    filter: any;\r\n    chunkArray: any[];\r\n    scrollTop: any;\r\n    chunkIndex: any[] = [];\r\n    cachedItems: any[] = [];\r\n    groupCachedItems: any[] = [];\r\n    totalRows: any;\r\n    itemHeight: any = 41.6;\r\n    screenItemsLen: any;\r\n    cachedItemsLen: any;\r\n    totalHeight: any;\r\n    scroller: any;\r\n    maxBuffer: any;\r\n    lastScrolled: any;\r\n    lastRepaintY: any;\r\n    selectedListHeight: any;\r\n    filterLength: any = 0;\r\n    infiniteFilterLength: any = 0;\r\n    viewPortItems: any;\r\n    item: any;\r\n\r\n    private dropdownSubs: Subscription[] = [];\r\n    private subscription: Subscription;\r\n    defaultSettings: DropdownSettings = {\r\n        singleSelection: true,\r\n        enableCheckAll: true,\r\n        selectAllText: 'Seleccionar todo',\r\n        unSelectAllText: 'Deseleccionar todo',\r\n        filterSelectAllText: 'Seleccionar todos los resultados filtrados',\r\n        filterUnSelectAllText: 'Deseleccionar todos los resultados filtrados',\r\n        enableSearchFilter: true,\r\n        searchBy: ['name'],\r\n        maxHeight: 300,\r\n        badgeShowLimit: 999999999999,\r\n        classes: '',\r\n        searchPlaceholderText: 'Buscar',\r\n        showCheckbox: true,\r\n        noDataLabel: 'Sin datos disponibles',\r\n        lazyLoading: false,\r\n        labelKey: 'name',\r\n        primaryKey: 'id',\r\n        disabledKey: 'disabled',\r\n        enableFilterSelectAll: true,\r\n        selectGroup: false,\r\n        addNewItemOnFilter: false,\r\n        addNewButtonText: 'Agregar',\r\n        escapeToClose: true,\r\n        clearAll: true\r\n    };\r\n\r\n    randomSize = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    virtualScroollInit = false;\r\n    @ViewChild(VirtualScrollerComponent, { static: false })\r\n    private virtualScroller: VirtualScrollerComponent;\r\n    public isDisabledItemPresent = false;\r\n\r\n    hasValue = hasValue;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private ds: DataService, private _renderer: Renderer2, @Optional() @Attribute('multiple') multipleAttr: any,\r\n                @Optional() @Attribute('simple') simple: any, @Optional() @Attribute('primaryKey') primaryKey: any, @Optional() @Attribute('labelKey') labelKey: any) {\r\n\r\n        this.multiple = multipleAttr !== null;\r\n\r\n        if (this.multiple) {\r\n            this.defaultSettings.singleSelection = false;\r\n        }\r\n\r\n        if (simple !== null) {\r\n            this.defaultSettings.enableSearchFilter = false;\r\n            this.defaultSettings.clearAll = false;\r\n        }\r\n\r\n        if (primaryKey !== null) {\r\n            this.defaultSettings.primaryKey = primaryKey;\r\n        }\r\n\r\n        if (labelKey !== null) {\r\n            this.defaultSettings.labelKey = labelKey;\r\n        }\r\n\r\n        this.searchTerm$.asObservable().pipe(\r\n            debounceTime(1000),\r\n            distinctUntilChanged(),\r\n            tap(term => term)\r\n        ).subscribe(val => {\r\n            this.filterInfiniteList(val);\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n\r\n        this.multipleClass = !this.settings.singleSelection;\r\n\r\n        this.cachedItems = this.cloneArray(this.data);\r\n\r\n        this.subscription = this.ds.getData().subscribe(data => {\r\n            if (data) {\r\n                let len = 0;\r\n                data.forEach((obj: any) => {\r\n                    if (obj[this.settings.disabledKey]) {\r\n                        this.isDisabledItemPresent = true;\r\n                    }\r\n                    if (!obj.hasOwnProperty('grpTitle')) {\r\n                        len++;\r\n                    }\r\n                });\r\n                this.filterLength = len;\r\n                this.onFilterChange(data);\r\n            }\r\n\r\n        });\r\n\r\n        this.virtualScroollInit = false;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes.data && !changes.data.firstChange) {\r\n\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n\r\n                if (this.data.length === 0) {\r\n                    this.selectedItems = [];\r\n                }\r\n\r\n                this.groupCachedItems = this.cloneArray(this.groupedData);\r\n            }\r\n\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n\r\n        if (changes.loading) {\r\n        }\r\n\r\n        if (this.settings?.lazyLoading && this.virtualScroollInit && changes.data) {\r\n            this.virtualdata = changes.data.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    onItemClick(item: any, k: number, e: any) {\r\n\r\n        if (this.isDisabled || item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n        let limit = this.selectedItems.length < this.settings.limitSelection ? true : false;\r\n\r\n        if (!found) {\r\n            if (this.settings.limitSelection) {\r\n                if (limit) {\r\n                    this.addSelected(item);\r\n                    this.onSelect.emit(item);\r\n                }\r\n            } else {\r\n                this.addSelected(item);\r\n                this.onSelect.emit(item);\r\n            }\r\n\r\n        } else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length === this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n        if (this.settings.groupBy) {\r\n            this.updateGroupInfo(item);\r\n        }\r\n    }\r\n\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n\r\n    writeValue(value: any) {\r\n\r\n        if (hasValue(value)) {\r\n            if (this.settings.singleSelection) {\r\n\r\n                if (Array.isArray(value)) {\r\n                    throw Error('Array detected as input, please add \"multiple\" attribute in the select or set \"singleSelection\" setting in false');\r\n                }\r\n\r\n                const selectedObject = this.data?.find(item => {\r\n                    return item[this.settings.primaryKey] === value;\r\n                });\r\n\r\n                if (hasValue(selectedObject)) {\r\n                    this.selectedItems = [selectedObject];\r\n                } else {\r\n                    this.selectedItems = [];\r\n                    throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n                }\r\n\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n\r\n            } else {\r\n\r\n                if (!Array.isArray(value)) {\r\n                    throw Error('Single value detected as input, please set \"singleSelection\" setting in true or remove \"multiple\" attribute in the select if you added');\r\n                }\r\n\r\n                const selectedObjects = this.data?.filter(item => {\r\n                    return inArray(item[this.settings.primaryKey], value);\r\n                });\r\n\r\n                if (hasValue(selectedObjects)) {\r\n                    if (this.settings.limitSelection) {\r\n                        this.selectedItems = selectedObjects.slice(0, this.settings.limitSelection);\r\n                    } else {\r\n                        this.selectedItems = selectedObjects;\r\n                    }\r\n                } else {\r\n                    this.selectedItems = [];\r\n                    throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n                }\r\n\r\n                if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                    this.isSelectAll = true;\r\n                }\r\n\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n\r\n    trackByFn(item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n\r\n    isSelected(clickedItem: any) {\r\n\r\n        if (clickedItem[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = false;\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            for (const item of this.selectedItems) {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    addSelected(item: any) {\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.selectedItems = [item];\r\n            this.onChangeCallback(item[this.settings.primaryKey]);\r\n            this.onTouchedCallback(item[this.settings.primaryKey]);\r\n            this.closeDropdown();\r\n        } else {\r\n            this.selectedItems.push(item);\r\n            const items = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n            this.onChangeCallback(items);\r\n            this.onTouchedCallback(items);\r\n        }\r\n    }\r\n\r\n    removeSelected(clickedItem: any) {\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            this.selectedItems.forEach((item, index) => {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    this.selectedItems.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.onChangeCallback(null);\r\n            this.onTouchedCallback(null);\r\n        } else {\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    //#region dropdown status\r\n\r\n    toggleDropdown(evt: any) {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = !this.isActive;\r\n\r\n        if (this.isActive) {\r\n            this.openDropdown();\r\n        } else {\r\n            this.closeDropdown();\r\n        }\r\n\r\n        if (this.settings.lazyLoading) {\r\n            this.virtualdata = this.data;\r\n            this.virtualScroollInit = true;\r\n        }\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    public openDropdown() {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = true;\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'click')\r\n            .pipe(filter((e: MouseEvent) => !this._elementRef.nativeElement.contains(e.target) ))\r\n            .subscribe(() => this.closeDropdown())\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'keyup')\r\n            .pipe(filter((e: KeyboardEvent) => e.key.toLowerCase() === 'escape' && this.settings.escapeToClose ))\r\n            .subscribe(() => this.closeDropdown() )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(this._elementRef.nativeElement, 'scroll').subscribe(() => console.log('scroll') )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'resize').subscribe(() => this.setPositionDropdown() )\r\n        );\r\n\r\n        this.setPositionDropdown();\r\n\r\n        this._renderer.appendChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n\r\n        if (this.settings.enableSearchFilter && !this.searchTempl) {\r\n            setTimeout(() => {\r\n                this.searchInput?.nativeElement.focus();\r\n            }, 0);\r\n        }\r\n\r\n        this.onOpen.emit(true);\r\n    }\r\n\r\n    public closeDropdown() {\r\n\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = '';\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.isActive = false;\r\n\r\n        this.dropdownSubs.forEach(s => s.unsubscribe() );\r\n        this.dropdownSubs = [];\r\n\r\n        this.onClose.emit(false);\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    setPositionDropdown() {\r\n\r\n        setTimeout(() => {\r\n\r\n            const dropdown = (this.dropdownListElem.nativeElement as HTMLDivElement);\r\n            const el = (this._elementRef.nativeElement as HTMLElement);\r\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\r\n\r\n            this._renderer.setStyle(dropdown, 'width', (el.offsetWidth) + 'px');\r\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left) + 'px');\r\n\r\n            if (remainingHeight > 0) {\r\n                this._renderer.removeClass(el, 'ontop');\r\n                this._renderer.removeClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('bottom');\r\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\r\n            } else {\r\n                this._renderer.addClass(el, 'ontop');\r\n                this._renderer.addClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('top');\r\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = !obj[this.settings.disabledKey];\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = !obj[this.settings.disabledKey];\r\n                });\r\n            }\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData[this.settings.disabledKey]);\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        } else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n            }\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    filterFn(value: any) {\r\n\r\n        if (this.settings.groupBy && !this.settings.lazyLoading) {\r\n            this.filterGroupedList();\r\n        } else if (this.settings.lazyLoading) {\r\n            this.searchTerm$.next(value);\r\n        }\r\n\r\n    }\r\n\r\n    filterGroupedList() {\r\n        if (this.filter === '' || this.filter == null) {\r\n            this.clearSearch();\r\n            return;\r\n        }\r\n\r\n        this.groupedData = this.cloneArray(this.groupCachedItems);\r\n        this.groupedData = this.groupedData.filter(obj => {\r\n            let arr = [];\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                arr = obj.list;\r\n            } else {\r\n                arr = obj.list.filter(t => {\r\n                    return t[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                });\r\n            }\r\n\r\n            obj.list = arr;\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                return arr;\r\n            } else {\r\n                return arr.some(cat => {\r\n                    return cat[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                }\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (!this.isSelected(el)) {\r\n                                                this.addSelected(el);\r\n                                                added.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    this.updateGroupInfo(item);\r\n\r\n                                }); */\r\n\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (!this.isSelected(el) && !el.hasOwnProperty('grpTitle')) {\r\n                        this.addSelected(el);\r\n                        added.push(el);\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (!this.isSelected(item)) {\r\n                        this.addSelected(item);\r\n                        added.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        } else {\r\n            let removed = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (this.isSelected(el)) {\r\n                                                this.removeSelected(el);\r\n                                                removed.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }); */\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (this.isSelected(el)) {\r\n                        this.removeSelected(el);\r\n                        removed.push(el);\r\n                    }\r\n                });\r\n            } else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (this.isSelected(item)) {\r\n                        this.removeSelected(item);\r\n                        removed.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n    }\r\n\r\n    toggleInfiniteFilterSelectAll() {\r\n        if (!this.isInfiniteFilterSelectAll) {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (!this.isSelected(item)) {\r\n                    this.addSelected(item);\r\n                }\r\n            });\r\n            this.isInfiniteFilterSelectAll = true;\r\n        } else {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (this.isSelected(item)) {\r\n                    this.removeSelected(item);\r\n                }\r\n\r\n            });\r\n            this.isInfiniteFilterSelectAll = false;\r\n        }\r\n    }\r\n\r\n    clearSearch() {\r\n\r\n        this.filter = '';\r\n\r\n        if (this.settings.lazyLoading) {\r\n\r\n            this.isInfiniteFilterSelectAll = false;\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.groupedData = this.groupCachedItems;\r\n            this.infiniteFilterLength = 0;\r\n\r\n        } else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = [];\r\n                this.groupedData = this.cloneArray(this.groupCachedItems);\r\n            }\r\n\r\n            this.isFilterSelectAll = false;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n    }\r\n\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter === '' || data.length === 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength === cnt) {\r\n            this.isFilterSelectAll = true;\r\n        } else if (cnt > 0 && this.filterLength !== cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    cloneArray(arr: any) {\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw 'Cannot clone array containing an object!';\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    updateGroupInfo(item: any) {\r\n        if (item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n        let key = this.settings.groupBy;\r\n        this.groupedData.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] === obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = true;\r\n            } else if (obj.list && (cnt !== obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n        this.groupCachedItems.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] === obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = true;\r\n            } else if (obj.list && (cnt !== obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    transformData(arr: Array<any>, field: any): Array<any> {\r\n        const groupedObj: any = arr.reduce((prev: any, cur: any) => {\r\n            if (!prev[cur[field]]) {\r\n                prev[cur[field]] = [cur];\r\n            } else {\r\n                prev[cur[field]].push(cur);\r\n            }\r\n            return prev;\r\n        }, {});\r\n        const tempArr: any = [];\r\n        Object.keys(groupedObj).map((x: any) => {\r\n            let obj: any = {};\r\n            let disabledChildrens = [];\r\n            obj.grpTitle = true;\r\n            obj[this.settings.labelKey] = x;\r\n            obj[this.settings.groupBy] = x;\r\n            obj.selected = false;\r\n            obj.list = [];\r\n            let cnt = 0;\r\n            groupedObj[x].forEach((item: any) => {\r\n                item.list = [];\r\n                if (item[this.settings.disabledKey]) {\r\n                    this.isDisabledItemPresent = true;\r\n                    disabledChildrens.push(item);\r\n                }\r\n                obj.list.push(item);\r\n                if (this.isSelected(item)) {\r\n                    cnt++;\r\n                }\r\n            });\r\n            if (cnt === obj.list.length) {\r\n                obj.selected = true;\r\n            } else {\r\n                obj.selected = false;\r\n            }\r\n\r\n            // Check if current group item's all childrens are disabled or not\r\n            obj[this.settings.disabledKey] = disabledChildrens.length === groupedObj[x].length;\r\n            tempArr.push(obj);\r\n            // obj.list.forEach((item: any) => {\r\n            //     tempArr.push(item);\r\n            // });\r\n        });\r\n        return tempArr;\r\n    }\r\n\r\n    public filterInfiniteList(evt: any) {\r\n        let filteredElems: Array<any> = [];\r\n        if (this.settings.groupBy) {\r\n            this.groupedData = this.groupCachedItems.slice();\r\n        } else {\r\n            this.data = this.cachedItems.slice();\r\n            this.virtualdata = this.cachedItems.slice();\r\n        }\r\n\r\n        if ((evt != null || evt !== '') && !this.settings.groupBy) {\r\n            if (this.settings.searchBy.length > 0) {\r\n                for (let t = 0; t < this.settings.searchBy.length; t++) {\r\n\r\n                    this.virtualdata.filter((el: any) => {\r\n                        if (el[this.settings.searchBy[t].toString()].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else {\r\n                this.virtualdata.filter((el: any) => {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            this.virtualdata = [];\r\n            this.virtualdata = filteredElems;\r\n            this.infiniteFilterLength = this.virtualdata.length;\r\n        }\r\n        if (evt.toString() !== '' && this.settings.groupBy) {\r\n            this.groupedData.filter((el: any) => {\r\n                if (el.hasOwnProperty('grpTitle')) {\r\n                    filteredElems.push(el);\r\n                } else {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.groupedData = [];\r\n            this.groupedData = filteredElems;\r\n            this.infiniteFilterLength = this.groupedData.length;\r\n        } else if (evt.toString() === '' && this.cachedItems.length > 0) {\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.infiniteFilterLength = 0;\r\n        }\r\n        this.virtualScroller.refresh();\r\n    }\r\n\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n\r\n        this.onScrollToEnd.emit(e);\r\n    }\r\n\r\n    selectGroup(item: any) {\r\n        if (item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n        if (item.selected) {\r\n            item.selected = false;\r\n            item.list.forEach((obj: any) => {\r\n                this.removeSelected(obj);\r\n            });\r\n\r\n            this.onGroupDeSelect.emit(item);\r\n            this.updateGroupInfo(item);\r\n\r\n        } else {\r\n            item.selected = true;\r\n            item.list.forEach((obj: any) => {\r\n                if (!this.isSelected(obj)) {\r\n                    this.addSelected(obj);\r\n                }\r\n\r\n            });\r\n            this.onGroupSelect.emit(item);\r\n            this.updateGroupInfo(item);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    addFilterNewItem() {\r\n        this.onAddFilterNewItem.emit(this.filter);\r\n        this.filterPipe = new SerSelectListFilterPipe(this.ds);\r\n        this.filterPipe.transform(this.data, this.filter, this.settings.searchBy);\r\n    }\r\n\r\n    clearSelection(e: MouseEvent) {\r\n\r\n        if (this.settings.groupBy) {\r\n            this.groupCachedItems.forEach((obj) => {\r\n                obj.selected = false;\r\n            });\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.isSelectAll = false;\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.onChangeCallback(null);\r\n            this.onTouchedCallback(null);\r\n        } else {\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n        }\r\n\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n\r\n        e.stopPropagation();\r\n    }\r\n\r\n    getItemContext(item: any) {\r\n        return item;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n        this.dropdownSubs.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n\r\n    }\r\n}\r\n","// tslint:disable: max-line-length\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SerSelectListFilterPipe } from './ser-select-list-filter.pipe';\r\nimport { SDBadgeDirective, SDItemDirective, SDSearchDirective } from './ser-select-menu-item.directive';\r\nimport { SerSelectComponent } from './ser-select.component';\r\nimport { DataService } from './ser-select.service';\r\nimport { VirtualScrollerModule } from './virtual-scroll/virtual-scroll';\r\n\r\nconst dependencies = [\r\n    SerSelectComponent,\r\n    SerSelectListFilterPipe,\r\n    SDItemDirective,\r\n    SDBadgeDirective,\r\n    SDSearchDirective\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, FormsModule, VirtualScrollerModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies],\r\n    providers: [DataService]\r\n})\r\nexport class SerSelectModule { }\r\n","import { fromEvent, Subscription } from 'rxjs';\nimport { Component, forwardRef, OnInit, ViewEncapsulation, OnDestroy, HostBinding, AfterViewInit, ElementRef, ViewChild, Renderer2 } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { hasValue } from '../../../utils/check';\nimport { inArray } from '../../..//utils/array';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'address-col-input',\n  templateUrl: './address-col.component.html',\n  providers: [\n      {\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => AddressColComponent),\n          multi: true\n      }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AddressColComponent implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\n\n    @HostBinding('class.address-input') class = true;\n    @ViewChild('viaOptionsEl') viaOptionsEl: ElementRef;\n    @ViewChild('viaElCont') viaElCont: ElementRef;\n    @ViewChild('viaEl') viaEl: ElementRef;\n    @ViewChild('viaElHint') viaElHint: ElementRef;\n    @ViewChild('address1') address1: ElementRef;\n\n    modelSub: Subscription;\n    modelForm = this._fb.group({\n        via: ['', [Validators.required]],\n        address1: ['', [Validators.required, Validators.maxLength(50)]],\n        address2: ['', Validators.maxLength(50)],\n        address3: ['', Validators.maxLength(50)]\n    });\n\n    // tslint:disable-next-line: max-line-length\n    viaOptionsSubs: Subscription[] = [];\n    viaRegex = /^Autopista|Avenida Calle|Avenida Carrera|Avenida|Calle|Carrera|Circunvalar|Circular|Diagonal|Kilometro|Manzana|Transversal$/i;\n    viaOptions = [\n        'Autopista', 'Avenida', 'Avenida Calle', 'Avenida Carrera', 'Calle', 'Carrera' , 'Circunvalar', 'Circular', 'Diagonal', 'Kilometro', 'Manzana', 'Transversal', 'Via'\n    ];\n\n    viaOptionsOriginal = [\n        'Autopista', 'Avenida', 'Avenida Calle', 'Avenida Carrera', 'Calle', 'Carrera' , 'Circunvalar', 'Circular', 'Diagonal', 'Kilometro', 'Manzana', 'Transversal', 'Via'\n    ];\n\n    constructor(private _fb: FormBuilder, private _renderer: Renderer2, private _elementRef: ElementRef) { }\n\n    writeValue(obj: any) {\n\n        if (hasValue(obj)) {\n            let address1: any;\n            let address2: any;\n            let address3: any;\n\n            obj = obj.trim().replace(/\\s+/g, ' ');\n\n            if (/(\\s?-\\s?)+/.test(obj)) {\n                address3 = obj.split(/(\\s?-\\s?)+/);\n                this.modelForm.get('address3').setValue(address3[address3.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                address2 = address3[0].trim();\n            } else {\n                address2 = obj;\n            }\n\n            if (/(\\s?[#]\\s?)+/.test(address2)) {\n                address2 = address2.split(/(\\s?[#]\\s?)+/);\n                this.modelForm.get('address2').setValue(address2[address2.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                address1 = address2[0].trim();\n            } else {\n                address1 = obj;\n            }\n\n            if (this.viaRegex.test(address1)) {\n                address1 = address1.split(this.viaRegex);\n                this.modelForm.get('address1').setValue(address1[address1.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n\n                setTimeout(() => {\n                    this.setVia(this.viaRegex.exec(obj)[0].split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                });\n            }\n\n        }\n    }\n\n    generateValue() {\n        const address = this.modelForm.get('via').value + ' ' +\n        this.modelForm.get('address1').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ') +\n        ' # ' +\n        this.modelForm.get('address2').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ') +\n        ' - ' +\n        this.modelForm.get('address3').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ');\n\n        return address;\n    }\n\n    registerOnChange(fn: any) {\n        this.onChange = fn;\n    }\n    onChange(_: any) { }\n\n    registerOnTouched(fn: any) {\n        this.onTouch = fn;\n    }\n    onTouch() { }\n\n    ngOnInit() {\n\n        this.modelSub = this.modelForm.valueChanges.subscribe(() => {\n            if (this.modelForm.valid) {\n                this.onChange(this.generateValue());\n            } else {\n                this.onChange(null);\n            }\n        });\n    }\n\n    ngAfterViewInit(): void {\n        this._renderer.removeChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n\n        setTimeout(() => {\n            if (!hasValue(this.viaElHint.nativeElement.value)) {\n                this.viaElHint.nativeElement.value = 'Calle';\n            }\n        });\n    }\n\n    public openViaOptions() {\n\n        this.viaOptionsSubs.push(\n            fromEvent(window, 'click')\n            .pipe(filter((e: MouseEvent) => !this.viaElCont.nativeElement.contains(e.target) ))\n            .subscribe(() => {\n                this.setVia(this.viaOptions[0]);\n            })\n        );\n\n        this.viaOptionsSubs.push(\n            fromEvent(window, 'keyup')\n            .pipe(filter((e: KeyboardEvent) => inArray(e.key.toLowerCase(), ['arrowright', 'escape', 'enter'])))\n            .subscribe(() => {\n                this.setVia(this.viaOptions[0]);\n            })\n        );\n\n        this.filterViaOptions(this.modelForm.get('via').value);\n        this.setPositionDropdown();\n\n        this._renderer.appendChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n    }\n\n    public closeDropdown() {\n        this.viaOptionsSubs.forEach(s => s.unsubscribe() );\n        this.viaOptionsSubs = [];\n        this._renderer.removeChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n        this.address1.nativeElement.focus();\n    }\n\n    setPositionDropdown() {\n\n        setTimeout(() => {\n\n            const dropdown = (this.viaOptionsEl.nativeElement as HTMLDivElement);\n            const el = (this.viaEl.nativeElement as HTMLElement);\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\n\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left - 6) + 'px');\n\n            if (remainingHeight > 0) {\n                this._renderer.removeClass(el, 'ontop');\n                this._renderer.removeClass(dropdown, 'ontop');\n                this._elementRef.nativeElement.style.removeProperty('bottom');\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\n            } else {\n                this._renderer.addClass(el, 'ontop');\n                this._renderer.addClass(dropdown, 'ontop');\n                this._elementRef.nativeElement.style.removeProperty('top');\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\n            }\n\n        });\n    }\n\n    filterViaOptions(value: string) {\n\n        if (hasValue(value)) {\n            this.viaOptions = this.viaOptionsOriginal.filter(it => it.slice(0, value.length).toLowerCase() === value?.toLowerCase());\n\n            if (hasValue(this.viaOptions)) {\n                this.viaElHint.nativeElement.value = this.viaOptions[0];\n                this.viaEl.nativeElement.value = this.viaEl.nativeElement.value?.split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ');\n            } else {\n                this.viaElHint.nativeElement.value = '';\n            }\n\n            setTimeout(() => {\n                this.setPositionDropdown();\n            });\n        } else {\n            this.viaOptions = this.viaOptionsOriginal;\n        }\n\n    }\n\n    viaBlur() {\n        if (!hasValue(this.modelForm.get('via').value)) {\n            this.setVia(this.viaOptions[0]);\n        }\n    }\n\n    setVia(value: string) {\n        if (hasValue(value)) {\n            this.modelForm.get('via').setValue(value);\n            this.viaEl.nativeElement.value = value;\n            this.viaElHint.nativeElement.value = value;\n        } else {\n            this.viaEl.nativeElement.value = '';\n            this.viaElHint.nativeElement.value = '';\n        }\n\n        this.closeDropdown();\n    }\n\n    ngOnDestroy() {\n        this.modelSub.unsubscribe();\n        this.viaOptionsSubs?.forEach(s => s?.unsubscribe() );\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n\r\n@Pipe({\r\n    name: 'serFilterListFilter',\r\n    pure: true\r\n})\r\nexport class SerFilterListFilterPipe implements PipeTransform {\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!hasValue(items) || !hasValue(filter)) {\r\n            return items;\r\n        }\r\n\r\n        const filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n\r\n        if (hasValue(filteredList)) {\r\n            return filteredList;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (let t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] !== '') {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (const prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}\r\n","// tslint:disable: no-use-before-declare\r\n// tslint:disable: no-host-metadata-property\r\n// tslint:disable: max-line-length\r\n// tslint:disable: no-output-rename\r\n// tslint:disable: no-output-on-prefix\r\n// tslint:disable: prefer-const\r\n// tslint:disable: no-conflicting-lifecycle\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: component-selector\r\n\r\nimport { Attribute, HostBinding, Optional, Renderer2 } from '@angular/core';\r\nimport { Component, OnInit, OnDestroy, SimpleChanges, OnChanges, ChangeDetectorRef, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { FilterSettings } from './ser-filter.interface';\r\nimport { Subscription, Subject, fromEvent } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { SerFilterListFilterPipe } from './ser-filter-list-filter.pipe';\r\nimport { hasValue } from '../../utils/check';\r\nimport { SDBadgeDirective, SDItemDirective } from '../select/ser-select-menu-item.directive';\r\nimport { inArray } from '../../utils/array';\r\n\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'ser-filter',\r\n    templateUrl: './ser-filter.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => SerFilterComponent),\r\n            multi: true\r\n        },\r\n        {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => SerFilterComponent),\r\n            multi: true,\r\n        }\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerFilterComponent implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewInit, OnDestroy {\r\n\r\n    @Input() data = [];\r\n\r\n    @Input() settings: FilterSettings;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Input() label: string;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(SDItemDirective, { static: true }) itemTempl: SDItemDirective;\r\n    @ContentChild(SDBadgeDirective, { static: true }) badgeTempl: SDBadgeDirective;\r\n\r\n\r\n    @ViewChild('searchInput') searchInput: ElementRef;\r\n    @ViewChild('selectedList') selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\r\n\r\n    @HostBinding('class.disabled') isDisabled = false;\r\n    @HostBinding('class.active') isActive = false;\r\n\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: SerFilterListFilterPipe;\r\n    selectedItems: any[] = [];\r\n    isSelectAll = false;\r\n    isFilterSelectAll = false;\r\n    groupedData: any[];\r\n    filter: any;\r\n    chunkArray: any[];\r\n    scrollTop: any;\r\n    chunkIndex: any[] = [];\r\n    cachedItems: any[] = [];\r\n    groupCachedItems: any[] = [];\r\n    totalRows: any;\r\n    itemHeight: any = 41.6;\r\n    screenItemsLen: any;\r\n    totalHeight: any;\r\n    scroller: any;\r\n    selectedListHeight: any;\r\n    filterLength: any = 0;\r\n    viewPortItems: any;\r\n    labelActive = false;\r\n    item: any;\r\n\r\n    private dropdownSubs: Subscription[] = [];\r\n    private subscription: Subscription;\r\n    defaultSettings: FilterSettings = {\r\n        enableCheckAll: true,\r\n        selectAllText: 'Seleccionar todo',\r\n        unSelectAllText: 'Deseleccionar todo',\r\n        filterSelectAllText: 'Seleccionar todos los resultados filtrados',\r\n        filterUnSelectAllText: 'Deseleccionar todos los resultados filtrados',\r\n        searchBy: ['name'],\r\n        maxHeight: 300,\r\n        classes: '',\r\n        searchPlaceholderText: 'Filtrar',\r\n        noDataLabel: 'Sin datos disponibles',\r\n        labelKey: 'name',\r\n        primaryKey: 'id',\r\n        disabledKey: 'disabled',\r\n        enableFilterSelectAll: true,\r\n        clearAll: true\r\n    };\r\n\r\n    randomSize = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    public isDisabledItemPresent = false;\r\n\r\n    hasValue = hasValue;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private _renderer: Renderer2, @Optional() @Attribute('primaryKey') primaryKey: any,\r\n                @Optional() @Attribute('labelKey') labelKey: any) {\r\n\r\n        if (primaryKey !== null) {\r\n            this.defaultSettings.primaryKey = primaryKey;\r\n        }\r\n\r\n        if (labelKey !== null) {\r\n            this.defaultSettings.labelKey = labelKey;\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        this.cachedItems = this.cloneArray(this.data);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes.data && !changes.data.firstChange) {\r\n\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n\r\n        if (changes.loading) {\r\n        }\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    onItemClick(item: any, k: number, e: any) {\r\n\r\n        if (this.isDisabled || item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n\r\n        if (!found) {\r\n            this.addSelected(item);\r\n            this.onSelect.emit(item);\r\n\r\n        } else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length === this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n    }\r\n\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n\r\n    writeValue(value: any) {\r\n\r\n        if (hasValue(value)) {\r\n            if (!Array.isArray(value)) {\r\n                throw Error('Single value detected as input, please set \"singleSelection\" setting in true or remove \"multiple\" attribute in the select if you added');\r\n            }\r\n\r\n            const selectedObjects = this.data?.filter(item => {\r\n                return inArray(item[this.settings.primaryKey], value);\r\n            });\r\n\r\n            if (hasValue(selectedObjects)) {\r\n                this.selectedItems = selectedObjects;\r\n            } else {\r\n                this.selectedItems = [];\r\n                throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n            }\r\n\r\n            if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                this.isSelectAll = true;\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n\r\n    trackByFn(item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n\r\n    isSelected(clickedItem: any) {\r\n\r\n        if (clickedItem[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = false;\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            for (const item of this.selectedItems) {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    addSelected(item: any) {\r\n        this.selectedItems.push(item);\r\n        const items = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n        this.onChangeCallback(items);\r\n        this.onTouchedCallback(items);\r\n    }\r\n\r\n    removeSelected(clickedItem: any) {\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            this.selectedItems.forEach((item, index) => {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    this.selectedItems.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n    }\r\n\r\n    //#region dropdown status\r\n\r\n    toggleDropdown(evt: any) {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = !this.isActive;\r\n\r\n        if (this.isActive) {\r\n            this.openDropdown();\r\n        } else {\r\n            this.closeDropdown();\r\n        }\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    public openDropdown() {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = true;\r\n        this.labelActive = true;\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'click')\r\n            .pipe(filter((e: MouseEvent) => !this._elementRef.nativeElement.contains(e.target) ))\r\n            .subscribe(() => this.closeDropdown())\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'keyup')\r\n            .pipe(filter((e: KeyboardEvent) => e.key.toLowerCase() === 'escape' ))\r\n            .subscribe(() => this.closeDropdown() )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(this._elementRef.nativeElement, 'scroll').subscribe(() => console.log('scroll') )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'resize').subscribe(() => this.setPositionDropdown() )\r\n        );\r\n\r\n        this.setPositionDropdown();\r\n\r\n        this._renderer.appendChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n        this.onOpen.emit(true);\r\n    }\r\n\r\n    public closeDropdown() {\r\n\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = '';\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.isActive = false;\r\n        this.labelActive = false;\r\n\r\n        this.dropdownSubs.forEach(s => s.unsubscribe() );\r\n        this.dropdownSubs = [];\r\n\r\n        this.onClose.emit(false);\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    setPositionDropdown() {\r\n\r\n        setTimeout(() => {\r\n\r\n            const dropdown = (this.dropdownListElem.nativeElement as HTMLDivElement);\r\n            // const el = (this._elementRef.nativeElement as HTMLElement);\r\n            const el = (this.searchInput.nativeElement as HTMLElement);\r\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\r\n\r\n            this._renderer.setStyle(dropdown, 'width', (el.offsetWidth) + 'px');\r\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left) + 'px');\r\n\r\n            if (remainingHeight > 0) {\r\n                this._renderer.removeClass(el, 'ontop');\r\n                this._renderer.removeClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('bottom');\r\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\r\n            } else {\r\n                this._renderer.addClass(el, 'ontop');\r\n                this._renderer.addClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('top');\r\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData[this.settings.disabledKey]);\r\n            const selectedItems = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(selectedItems);\r\n            this.onTouchedCallback(selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        } else {\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n\r\n        this.closeDropdown();\r\n    }\r\n\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        } else {\r\n            let removed = [];\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n\r\n        this.closeDropdown();\r\n    }\r\n\r\n    clearSearch() {\r\n\r\n        this.filter = '';\r\n        this.isFilterSelectAll = false;\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n    }\r\n\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter === '' || data.length === 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength === cnt) {\r\n            this.isFilterSelectAll = true;\r\n        } else if (cnt > 0 && this.filterLength !== cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    cloneArray(arr: any) {\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw Error('Cannot clone array containing an object!');\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n\r\n        this.onScrollToEnd.emit(e);\r\n    }\r\n\r\n    clearSelection(e: MouseEvent) {\r\n\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.isSelectAll = false;\r\n\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n\r\n        e.stopPropagation();\r\n    }\r\n\r\n    getItemContext(item: any) {\r\n        return item;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n        this.dropdownSubs.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n\r\n    }\r\n}\r\n","// tslint:disable: max-line-length\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SerFilterListFilterPipe } from './ser-filter-list-filter.pipe';\r\nimport { SerFilterComponent } from './ser-filter.component';\r\n\r\nconst dependencies = [\r\n    SerFilterComponent,\r\n    SerFilterListFilterPipe\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, FormsModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies],\r\n    providers: []\r\n})\r\nexport class SerFilterModule { }\r\n","import { ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { SerFormElementComponent } from './ser-form-element/ser-form-element.component';\r\nimport { SerControlDirective } from './ser-form-element/ser-control.directive';\r\nimport { SerErrorDirective } from './ser-errors/ser-error.directive';\r\nimport { SerErrorsDirective } from './ser-errors/ser-errors.directive';\r\nimport { PinInputComponent } from './pin/pin-input.component';\r\nimport { SerSelectModule } from './select/ser-select.module';\r\nimport { AddressColComponent } from './address/address-col/address-col.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SerFilterModule } from './filter/ser-filter.module';\r\n\r\nconst dependencies = [\r\n    SerFormElementComponent,\r\n    SerControlDirective,\r\n    SerErrorsDirective,\r\n    SerErrorDirective,\r\n    PinInputComponent,\r\n    AddressColComponent\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, ReactiveFormsModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies, SerSelectModule, SerFilterModule]\r\n})\r\nexport class SerFormModule { }\r\n","import { Directive, ElementRef, OnDestroy, Output, EventEmitter, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[whenScrolled]'\r\n})\r\nexport class WhenScrolledDirective implements OnDestroy {\r\n\r\n    @Output() callback: EventEmitter<any> = new EventEmitter();\r\n    listener: any;\r\n\r\n    constructor(private _elementRef: ElementRef, rendered: Renderer2) {\r\n        this.listener = rendered.listen(this._elementRef.nativeElement, 'scroll', (ev: any) => {\r\n            if (ev.target.scrollTop + ev.target.offsetHeight >= ev.target.scrollHeight) {\r\n                this.callback.emit();\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.listener();\r\n    }\r\n\r\n}\r\n","import { Directive, Output, EventEmitter, ElementRef, Renderer2, OnDestroy } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[finishTyping]'\r\n})\r\nexport class FinishTypingDirective implements OnDestroy {\r\n\r\n    @Output() callback: EventEmitter<any> = new EventEmitter();\r\n    listener: any;\r\n    inputChangedPromise: ReturnType<typeof setTimeout>;\r\n\r\n    constructor(private _elementRef: ElementRef, rendered: Renderer2) {\r\n        this.listener = rendered.listen(this._elementRef.nativeElement, 'keyup', () => {\r\n\r\n            if (this.inputChangedPromise) {\r\n                clearTimeout(this.inputChangedPromise);\r\n            }\r\n\r\n            this.inputChangedPromise = setTimeout(() => {\r\n                this.callback.emit();\r\n            }, 500);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.listener();\r\n    }\r\n\r\n}\r\n","import { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[copyToClipboard]'\r\n})\r\nexport class CopyToClipboardDirective {\r\n\r\n    @Input('copyToClipboard') valToCopy = '';\r\n    @Output() copied = new EventEmitter<string>();\r\n\r\n    @HostListener('click', ['$event']) onClick(val: any) {\r\n        const selBox = document.createElement('textarea');\r\n        selBox.style.position = 'fixed';\r\n        selBox.style.zIndex = '-1000';\r\n        selBox.style.left = '0';\r\n        selBox.style.top = '0';\r\n        selBox.style.opacity = '0';\r\n        selBox.value = this.valToCopy;\r\n        document.body.appendChild(selBox);\r\n        selBox.focus();\r\n        selBox.select();\r\n        document.execCommand('copy');\r\n        document.body.removeChild(selBox);\r\n\r\n        this.copied.emit(this.valToCopy);\r\n    }\r\n\r\n}\r\n","import { Directive, OnChanges, Input, ElementRef, Renderer2 } from '@angular/core';\r\nimport { readAsDataURL } from '../file/read';\r\nimport { take } from 'rxjs/operators';\r\nimport { AwsService } from '../aws/aws.service';\r\nimport { hasValue } from '../utils/check';\r\n\r\ninterface BgImage {\r\n    url?: string;\r\n    file?: File;\r\n}\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[bgImage]'\r\n})\r\nexport class BgImageDirective implements OnChanges {\r\n\r\n    @Input('bgImage')\r\n    image: BgImage;\r\n    imageRegex = /(image\\/(jpe?g|png|gif|bmp))/i;\r\n\r\n    constructor(private el: ElementRef, private rendered: Renderer2, private aws: AwsService) { }\r\n\r\n    ngOnChanges() {\r\n        if (hasValue(this.image.file) && this.image.file instanceof File && this.imageRegex.test(this.image.file.type)) {\r\n\r\n            readAsDataURL(this.image.file).pipe(take(1)).subscribe((result) => {\r\n                this.rendered.setStyle(this.el.nativeElement, 'background-image', `url(${result})`);\r\n            });\r\n\r\n        } else if (hasValue(this.image.url)) {\r\n            this.rendered.setStyle(this.el.nativeElement, 'background-image', this.aws.getS3BgUrl(this.image.url));\r\n        } else {\r\n            this.rendered.removeStyle(this.el.nativeElement, 'background-image');\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { WhenScrolledDirective } from './when-scrolled.directive';\r\nimport { FinishTypingDirective } from './finish-typing.directive';\r\nimport { BgImageDirective } from './bg-image.directive';\r\nimport { CopyToClipboardDirective } from './copy-to-clipboard.directive';\r\n\r\nconst dependencies = [\r\n  WhenScrolledDirective,\r\n  FinishTypingDirective,\r\n  BgImageDirective,\r\n  CopyToClipboardDirective\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...dependencies],\r\n  exports: [...dependencies]\r\n})\r\nexport class SerUiModule {}\r\n"],"names":["Injectable","InjectionToken","Inject","NgModule","EventEmitter","Observable","Output","Patterns","L.tileLayer","L.Map","L.Control","L.MarkerClusterGroup","L.featureGroup","L.marker","map","of","delay","switchMap","catchError","NgControl","HostListener","Directive","ContentChild","HostBinding","Component","ViewEncapsulation","BehaviorSubject","FormGroupDirective","Input","Subject","forwardRef","ViewChildren","NG_VALUE_ACCESSOR","Pipe","TemplateRef","isPlatformServer","tween.Tween","tween.Easing","ElementRef","Renderer2","NgZone","ChangeDetectorRef","PLATFORM_ID","Optional","ViewChild","CommonModule","debounceTime","distinctUntilChanged","tap","fromEvent","filter","Attribute","NG_VALIDATORS","BrowserModule","FormsModule","Validators","FormBuilder","noop","dependencies","ReactiveFormsModule","take"],"mappings":"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"}