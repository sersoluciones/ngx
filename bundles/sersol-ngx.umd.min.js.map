{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://@sersol/ngx/cookie/cookies.service.ts","ng://@sersol/ngx/external-script/external-script.service.ts","ng://@sersol/ngx/prefers-color-scheme/prefers-color-scheme.service.ts","ng://@sersol/ngx/utils/check.ts","ng://@sersol/ngx/aws/aws.service.ts","ng://@sersol/ngx/aws/aws.module.ts","ng://@sersol/ngx/google/config/google-sdk.config.ts","ng://@sersol/ngx/google/Igoogle.ts","ng://@sersol/ngx/google/google-sdk.service.ts","ng://@sersol/ngx/google/google-sdk.module.ts","ng://@sersol/ngx/facebook/config/facebook-sdk.config.ts","ng://@sersol/ngx/facebook/facebook-sdk.service.ts","ng://@sersol/ngx/facebook/facebook-sdk.module.ts","ng://@sersol/ngx/utils/array.ts","ng://@sersol/ngx/open-id/claims.service.ts","ng://@sersol/ngx/utils/object.ts","ng://@sersol/ngx/utils/random.ts","ng://@sersol/ngx/utils/keyboard-keys.ts","ng://@sersol/ngx/utils/patterns.ts","ng://@sersol/ngx/map/map.service.ts","ng://@sersol/ngx/map/leaflet/providers.ts","ng://@sersol/ngx/map/leaflet/main.ts","ng://@sersol/ngx/file/read.ts","ng://@sersol/ngx/form/validations/comparison.ts","ng://@sersol/ngx/form/validations/match.ts","ng://@sersol/ngx/form/validations/file.ts","ng://@sersol/ngx/form/validations/remote.ts","ng://@sersol/ngx/form/validations/custom-validators.ts","ng://@sersol/ngx/form/ser-form-element/ser-control.directive.ts","ng://@sersol/ngx/form/ser-form-element/ser-form-element.component.ts","ng://@sersol/ngx/form/ser-errors/ser-errors.directive.ts","ng://@sersol/ngx/form/ser-errors/ser-error.directive.ts","ng://@sersol/ngx/form/pin/pin-input.component.ts","ng://@sersol/ngx/form/select/ser-select.service.ts","ng://@sersol/ngx/form/select/ser-select-list-filter.pipe.ts","ng://@sersol/ngx/form/select/ser-select-menu-item.directive.ts","ng://@sersol/ngx/form/select/virtual-scroll/virtual-scroll.ts","ng://@sersol/ngx/form/select/ser-select.component.ts","ng://@sersol/ngx/form/select/ser-select.module.ts","ng://@sersol/ngx/form/address/address-col/address-col.component.ts","ng://@sersol/ngx/form/filter/ser-filter-list-filter.pipe.ts","ng://@sersol/ngx/form/filter/ser-filter.component.ts","ng://@sersol/ngx/form/filter/ser-filter.module.ts","ng://@sersol/ngx/form/ser-form.module.ts","ng://@sersol/ngx/ui/when-scrolled.directive.ts","ng://@sersol/ngx/ui/finish-typing.directive.ts","ng://@sersol/ngx/ui/copy-to-clipboard.directive.ts","ng://@sersol/ngx/ui/bg-image.directive.ts","ng://@sersol/ngx/ui/ser-ui.module.ts","ng://@sersol/ngx/utils/navigator.ts","ng://@sersol/ngx/graphql/utils.ts","ng://@sersol/ngx/utils/bowser.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","push","__values","o","s","m","__read","ar","error","__spread","concat","CookiesService","prototype","getAll","cookies","document","cookie","split","currentCookie","decodeURIComponent","trim","currentValue","slice","join","JSON","parse","_a","get","name","hasOwnProperty","set","expires","path","domain","secure","sameSite","stringify","cookieString","encodeURIComponent","Date","toUTCString","delete","deleteAll","eqPos","indexOf","name_1","substr","Injectable","providedIn","ExternalScriptService","insert","id","src","fjs","getElementsByTagName","getElementById","js","createElement","parentNode","insertBefore","PrefersColorSchemeService","_SchemeLightClassName","_SchemeDarkClassName","Scheme","window","matchMedia","_Scheme","init","matches","enableDark","enableLight","classList","contains","SchemeLightClassName","remove","add","SchemeDarkClassName","watch","_this","setScheme","ev","console","log","onchange","addEventListener","addListener","hasValue","variable","Array","isArray","undefined","NaN","AWS_CONFIG","InjectionToken","AwsService","config","awsData","_awsData","getS3Url","s3","bucket","getS3BgUrl","Inject","args","AwsModule","forRoot","ConfigProvider","ngModule","AwsModule_1","providers","NgModule","GoogleSDKConfig","clientConfig","_clientConfig","GoogleClientConfig","NG_GAPI_CONFIG","GoogleSDKService","gapiUrl","onload","EventEmitter","loadSDK","subscribe","emit","_config","_GoogleAuth","login","Observable","observer","GoogleAuth","signIn","res","profile","getBasicProfile","googleProfile","getId","id_token","getAuthResponse","first_name","getGivenName","last_name","getFamilyName","email","getEmail","picture","getImageUrl","replace","complete","err","gapi","node","type","async","defer","appendChild","load","auth2","auth","catch","Output","GoogleSDKModule","gapiConfigProvider","GoogleSDKModule_1","FacebookSDKConfig","NG_FSDK_CONFIG","FacebookSDKService","fsdkUrl","FB","response","status","api","fields","width","redirect","pic","facebookProfile","access_token","authResponse","accessToken","_b","data","url","warn","scope","AppEvents","logPageView","FacebookSDKModule","fsdkConfigProvider","FacebookSDKModule_1","inArray","array","toArray","ClaimsService","_openIdData","hasPermission","requiredPermission","openIdData","claims","atLeastPermissions","requiredPermissions","index","hasPermissions","mergeObjs","source","isObject","obj","keys","forEach","targetValue","sourceValue","assign","s4","Math","floor","random","toString","substring","Patterns","PASSWORD","DOMAIN","EMAIL","IMAGE","NUMBER","CC","MapService","getCurrentPosition","navigator","geolocation","position","checkLatLog","lat","lng","distancePoints","options","a","sin","to","from","PI","cos","asin","sqrt","cutPrecision","precision","round","arr","features","geometries","coordinates","middlePoint","lat1","lat2","lon1","dLon","x","lat3","atan2","lon3","deltaY","deltaX","longitude","Latitude","angle","distance","LEAFLET_MAP_LAYERS","OpenStreetMap Street","L.tileLayer","attribution","Mapbox Street","maxZoom","tileSize","zoomOffset","mapbox_access_token","LeafletMap","markers","container","initialView","zoom","clusterMarkers","enable","layers","mapOptions","positionControl","zoomControl","layersOptions","map","L.Map","layerControl","L.Control","Layers","addControl","MousePosition","mousePositionOptions","Fullscreen","fullscreen","Zoom","setView","initMarkerCluster","L.MarkerClusterGroup","markerCluster","addLayer","fitMarkersBounds","padding","flyTo","groupWrapper","pad","paddingTopLeft","paddingBottomRight","group","L.featureGroup","flyToBounds","getBounds","duration","fitBounds","addMarker","latLng","L.marker","addTo","panTo","latlng","offset","latLngToContainerPoint","point","containerPointToLatLng","getZoom","targetZoom","targetPoint","project","subtract","targetLatLng","unproject","centerPoint","preserve_zoom","readAsArrayBuffer","blob","obs","Blob","reader","FileReader","onerror","onabort","onloadend","Error","readAsDataURL","getFileType","arrayBuffer","Uint8Array","subarray","header","arr_1","arr_1_1","lowerThan","BasePathField","TargetPathField","fg","base","errors","setErrors","lowerOrEqualThan","greaterThan","greaterOrEqualThan","match","originalPathField","duplicatePathField","original","duplicate","maxFileSize","size","control","sizeNumber","multiplier","test","sizeOnBytes","parseFloat","minFileSize","requiredFileType","ext","file","types_1","toLowerCase","pipe","of","alreadyExist","http","requestBody","delay","switchMap","Value","post","catchError","CustomValidators","SerControlDirective","_ngControl","disabled","focus","dirty","valid","invalid","pending","onFocus","onBlur","onChangeValue","_d","_c","_f","_e","_h","_g","_k","_j","ngOnInit","valueChanges","ngOnDestroy","unsubscribe","NgControl","HostListener","Directive","selector","SerFormElementComponent","formElement","ContentChild","HostBinding","Component","template","encapsulation","ViewEncapsulation","None","SerErrorsDirective","_form","subject","BehaviorSubject","ready","hasError","conditions","checkPropState","isValid","getError","prop","controlPropsState","every","condition","charAt","checkStatus","errorName","ngOnChanges","controlName","ngAfterViewInit","setTimeout","statusChanges","bind","FormGroupDirective","Input","exportAs","SerErrorDirective","_serErrors","hidden","rules","errorNames","_states","Subject","states","asObservable","distinctUntilChanged","filter","Boolean","rule","subscription","combineLatest","ngDoCheck","forwardRef","PinInputComponent","show","inputs","codeLength","onlyNumber","isCodeHidden","isDisabled","writeValue","codeInputs","inputsList","item","nativeElement","canInputValue","generateValue","values","input","onInput","onTouch","preventDefault","stopPropagation","onChange","onKeydown","prev","onClick","setSelectionRange","registerOnChange","fn","registerOnTouched","setDisabledState","ViewChildren","PinInputComponent_1","provide","NG_VALUE_ACCESSOR","useExisting","multi","DataService","filteredData","setData","getData","getFilteredData","SerSelectListFilterPipe","ds","transform","items","searchBy","filteredList","applyFilter","found","grpTitle","Pipe","pure","SDItemDirective","TemplateRef","SDBadgeDirective","SDSearchDirective","VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY","scrollThrottlingTime","scrollDebounceTime","scrollAnimationTime","checkResizeInterval","resizeBypassRefreshThreshold","modifyOverflowStyleOfParentScroll","stripedTable","VirtualScrollerComponent","element","renderer","zone","changeDetectorRef","platformId","executeRefreshOutsideAngularZone","_enableUnequalChildrenSizes","useMarginInsteadOfTranslate","ssrViewportWidth","ssrViewportHeight","_bufferAmount","_items","compareItems","item1","item2","vsUpdate","vsChange","vsStart","vsEnd","calculatedScrollbarWidth","calculatedScrollbarHeight","previousViewPort","cachedPageSize","previousScrollNumberElements","isAngularUniversalSSR","isPlatformServer","scrollbarWidth","scrollbarHeight","horizontal","resetWrapGroupDimensions","pageInfo","startIndex","endIndex","scrollStartPosition","scrollEndPosition","maxScrollPosition","startIndexWithBuffer","endIndexWithBuffer","minMeasuredChildWidth","minMeasuredChildHeight","enableUnequalChildrenSizes","_scrollThrottlingTime","updateOnScrollFunction","_scrollDebounceTime","_this_1","onScroll","debounce","refresh_internal","throttleTrailing","_checkResizeInterval","addScrollEventHandlers","_horizontal","updateDirection","revertParentOverscroll","scrollElement","getScrollElement","oldParentScrollOverflow","style","_parentScroll","removeScrollEventHandlers","changes","indexLengthChanged","cachedItemsLength","firstRun","previousValue","viewPortItems","itemsArrayChanged","refresh","invalidateAllCachedMeasurements","wrapGroupDimensions","maxChildSizePerWrapGroup","numberOfKnownWrapGroupChildSizes","sumOfKnownWrapGroupChildWidths","sumOfKnownWrapGroupChildHeights","invalidateCachedMeasurementForItem","invalidateCachedMeasurementAtIndex","cachedMeasurement","childWidth","childHeight","scrollInto","alignToBeginning","additionalOffset","animationMilliseconds","animationCompletedCallback","scrollToIndex","maxRetries","retryIfNeeded","dimensions","calculateDimensions","desiredStartIndex","min","max","itemCount","scrollToIndex_internal","scroll","calculatePadding","wrapGroupsPerPage","_childScrollDim","scrollToPosition","scrollPosition","getElementsOffset","animationRequest","currentTween","stop","setProperty","_scrollType","tweenConfigObj","newTween","tween.Tween","easing","tween.Easing","Quadratic","Out","onUpdate","isNaN","onStop","cancelAnimationFrame","start","animate","time","update","runOutsideAngular","requestAnimationFrame","getElementSize","getBoundingClientRect","styles","getComputedStyle","marginTop","parseInt","marginBottom","marginLeft","marginRight","top","bottom","left","right","height","checkScrollElementResized","sizeChanged","boundingRect","previousScrollBoundingRect","widthChange","abs","heightChange","_invisiblePaddingProperty","_offsetType","_pageOffsetType","_marginDir","_translateDir","func","wait","throttled","timeout","clearTimeout","itemsArrayModified","refreshCompletedCallback","maxRunTimes","oldViewPort_1","oldViewPortItems_1","oldRefreshCompletedCallback_1","scrollLengthDelta","scrollLength","oldStartItem_1","oldStartItemIndex","findIndex","itemOrderChanged","viewport","calculateViewport","startChanged","endChanged","scrollLengthChanged","paddingChanged","scrollPositionChanged","setStyle","invisiblePaddingElementRef","contentElementRef","headerElementRef","containerOffset","clientHeight","changeEventArg","handleChanged","markForCheck","run","parentScroll","Window","scrollingElement","documentElement","disposeScrollHandler","listen","disposeResizeHandler","checkScrollElementResizedTimer","setInterval","clearInterval","containerElementRef","elementClientRect","scrollClientRect","countItemsPerWrapGroup","ssrChildHeight","ssrChildWidth","propertyName","children","childrenLength","firstOffset","getScrollStartPosition","windowScrollValue","oldWrapGroupDimensions","itemsPerWrapGroup","wrapGroupIndex","oldWrapGroupDimension","itemsChanged","arrayStartIndex","offsetHeight","offsetWidth","clientWidth","defaultChildWidth","defaultChildHeight","viewportWidth","viewportHeight","content","itemsPerRow","ceil","itemsPerCol","scrollOffset","maxWidthForWrapGroup","maxHeightForWrapGroup","sumOfVisibleMaxWidths","sumOfVisibleMaxHeights","child","clientRect","oldValue","maxVisibleWidthForWrapGroup","scrollOffsetToRemove","maxVisibleHeightForWrapGroup","averageChildWidth","averageChildHeight","itemsPerPage","pageCount_fractional","numberOfWrapGroups","defaultScrollLengthPerWrapGroup","numUnknownChildSizes","childSize","viewportLength","arrayStartIndexWithBuffer","startingWrapGroupIndex","calculatePageInfo","scrollPercentage","totalScrolledLength","startingArrayIndex_fractional","maxStart","bufferBoundary","arrayEndIndex","endIndexWithinWrapGroup","bufferSize","bufferAmount","newPadding","newScrollLength","ElementRef","Renderer2","NgZone","ChangeDetectorRef","PLATFORM_ID","Optional","ViewChild","read","static","host","[class.horizontal]","[class.vertical]","[class.selfScroll]","VirtualScrollerModule","exports","declarations","imports","CommonModule","useFactory","noop","SerSelectComponent","_elementRef","cdr","_renderer","multipleAttr","simple","primaryKey","labelKey","onSelect","onDeSelect","onSelectAll","onDeSelectAll","onOpen","onClose","onScrollToEnd","onFilterSelectAll","onFilterDeSelectAll","onAddFilterNewItem","onGroupSelect","onGroupDeSelect","isActive","multipleClass","virtualdata","searchTerm$","selectedItems","isSelectAll","isFilterSelectAll","isInfiniteFilterSelectAll","chunkIndex","cachedItems","groupCachedItems","itemHeight","filterLength","infiniteFilterLength","dropdownSubs","defaultSettings","singleSelection","enableCheckAll","selectAllText","unSelectAllText","filterSelectAllText","filterUnSelectAllText","enableSearchFilter","maxHeight","badgeShowLimit","classes","searchPlaceholderText","showCheckbox","noDataLabel","lazyLoading","disabledKey","enableFilterSelectAll","selectGroup","addNewItemOnFilter","addNewButtonText","escapeToClose","clearAll","randomSize","virtualScroollInit","isDisabledItemPresent","onChangeCallback","onTouchedCallback","multiple","debounceTime","tap","term","val","filterInfiniteList","settings","cloneArray","len_1","onFilterChange","firstChange","groupBy","groupedData","transformData","loading","removeChild","dropdownListElem","onItemClick","k","isSelected","limit","limitSelection","removeSelected","addSelected","updateGroupInfo","validate","selectedObject","find","selectedObjects","trackByFn","clickedItem","closeDropdown","splice","toggleDropdown","evt","openDropdown","fromEvent","setPositionDropdown","searchTempl","searchInput","clearSearch","dropdown","el","remainingHeight","removeClass","removeProperty","addClass","toggleSelectAll","selected","individualData","filterFn","filterGroupedList","list","some","cat","toggleFilterSelectAll","removed_1","added_1","toggleInfiniteFilterSelectAll","cnt","detectChanges","field","groupedObj","reduce","cur","tempArr","disabledChildrens","filteredElems","this_1","virtualScroller","onScrollEnd","addFilterNewItem","filterPipe","clearSelection","getItemContext","Attribute","SerSelectComponent_1","[class]","NG_VALIDATORS","dependencies","SerSelectModule","BrowserModule","FormsModule","AddressColComponent","_fb","class","modelForm","via","Validators","required","address1","maxLength","address2","address3","viaOptionsSubs","viaRegex","viaOptions","viaOptionsOriginal","setValue","toUpperCase","setVia","exec","modelSub","viaElCont","viaOptionsEl","viaElHint","openViaOptions","filterViaOptions","viaEl","it","viaBlur","FormBuilder","AddressColComponent_1","SerFilterListFilterPipe","SerFilterComponent","labelActive","SerFilterComponent_1","SerFilterModule","SerFormModule","ReactiveFormsModule","WhenScrolledDirective","rendered","callback","listener","scrollTop","scrollHeight","FinishTypingDirective","inputChangedPromise","CopyToClipboardDirective","valToCopy","copied","selBox","zIndex","opacity","select","execCommand","BgImageDirective","aws","imageRegex","image","File","take","removeStyle","SerUiModule","up","down","escape","enter","backspace","shift","leftCmd","rightCmd","ctrl","alt","tab","array_group_by","innerWidth","screen","defaultOptions","numbers","specialChars","lettersLowerCase","lettersUpperCase","charset","retVal","HTMLElement","ownerDocument","defaultView","opener","plugins","graph_params","entries","bowserInstance","getOSName","getOSVersion","getBrowserName","getBrowserVersion","today","getTime"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Servicio para obtener, actualizar y borrar cookies en el navegador web\r\n * @example\r\n * constructor(cookiesService: CookiesService) { }\r\n *\r\n * this.cookiesService.get('Test'); // Obtiene el valor de una cookie\r\n * this.cookiesService.set('Test', '123'); // Setea valor de una cookie\r\n * this.cookiesService.delete('Test'); // Elimina una cookie\r\n * this.cookiesService.deleteAll(); // Elimina todas las cookies\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CookiesService {\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * @description\r\n   * Obtiene todas las cookies\r\n   * @returns {}\r\n   */\r\n  public getAll(): {} {\r\n\r\n    const cookies: {} = {};\r\n\r\n    if (document.cookie && document.cookie !== '') {\r\n      const split: string[] = document.cookie.split('; ');\r\n\r\n      for (let i = 0; i < split.length; i += 1) {\r\n        const cookie = split[i].split('=');\r\n        const currentCookie: string = decodeURIComponent(cookie[0].trim());\r\n        const currentValue: any = decodeURIComponent(cookie.slice(1, split[i].length - 1).join('='));\r\n\r\n        // Intenta convertir a tipos de dato diferentes a 'string'\r\n        if (currentValue === 'true') {\r\n          cookies[currentCookie] = true;\r\n        } else if (currentValue === 'false') {\r\n          cookies[currentCookie] = false;\r\n\r\n        } else {\r\n          try {\r\n            cookies[currentCookie] = JSON.parse(currentValue);\r\n          } catch {\r\n            cookies[currentCookie] = currentValue;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    return cookies;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Obtiene el valor de una cookie\r\n   * @param {string} name - Nombre de la cookie\r\n   * @returns {any} Valor de la cookie\r\n   */\r\n  public get(name: string): any {\r\n\r\n    const cookies = this.getAll();\r\n\r\n    if (cookies.hasOwnProperty(name)) {\r\n      return cookies[name];\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  /**\r\n   * @param name     Nombre\r\n   * @param value    valor\r\n   * @param expires  Unix Timestamp en que ser vigente la cookie o un objeto `Date`\r\n   * @param path     Ruta\r\n   * @param domain   Dominio\r\n   * @param secure   Cookie segura\r\n   * @param sameSite OWASP samesite token `Lax`  `Strict`\r\n   */\r\n  public set(\r\n    name: string,\r\n    value: any,\r\n    expires?: number | Date,\r\n    path?: string,\r\n    domain?: string,\r\n    secure?: boolean,\r\n    sameSite?: 'Lax' | 'Strict'\r\n  ): void {\r\n\r\n    if (typeof value === 'object') {\r\n      value = JSON.stringify(value);\r\n    }\r\n\r\n    let cookieString: string = encodeURIComponent(name) + '=' + encodeURIComponent(value) + ';';\r\n\r\n    if (expires) {\r\n      if (typeof expires === 'number') {\r\n        const dateExpires: Date = new Date(expires * 1000);\r\n\r\n        cookieString += 'expires=' + dateExpires.toUTCString() + ';';\r\n      } else {\r\n        cookieString += 'expires=' + expires.toUTCString() + ';';\r\n      }\r\n    }\r\n\r\n    if (path) {\r\n      cookieString += 'path=' + path + ';';\r\n    }\r\n\r\n    if (domain) {\r\n      cookieString += 'domain=' + domain + ';';\r\n    }\r\n\r\n    if (secure) {\r\n      cookieString += 'secure;';\r\n    }\r\n\r\n    if (sameSite) {\r\n      cookieString += 'sameSite=' + sameSite + ';';\r\n    }\r\n\r\n    document.cookie = cookieString;\r\n  }\r\n\r\n\r\n  /**\r\n  * @param name   Nombre\r\n  * @param path   Ruta\r\n  * @param domain Dominio\r\n  */\r\n  public delete(name: string, path?: string, domain?: string): void {\r\n\r\n    this.set(name, '', new Date('Thu, 01 Jan 1970 00:00:01 GMT'), path, domain);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * elimina todas las cookes\r\n   */\r\n  public deleteAll() {\r\n    const cookies = document.cookie.split(';');\r\n\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i];\r\n      const eqPos = cookie.indexOf('=');\r\n      const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Funcin para insertar scritps externos (ejem: gapi, facebook sdk)\r\n * @example\r\n * constructor(private externalScriptService: ExternalScriptService) { }\r\n *\r\n * this.externalScriptService.insert('google-jssdk', 'https://apis.google.com/js/platform.js?onload=googleSDKLoaded');\r\n * @param {string} id - Id para la etiqueta script\r\n * @param {string} src - url para la etiqueta script\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExternalScriptService {\r\n\r\n  constructor() { }\r\n\r\n  insert(id: string, src: string) {\r\n    const fjs = document.getElementsByTagName('script')[0];\r\n    if (document.getElementById(id)) { return; }\r\n    const js = document.createElement('script') as HTMLScriptElement;\r\n    js.id = id;\r\n    js.src = src;\r\n    fjs.parentNode.insertBefore(js, fjs);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Clase para obtener, observar y cambiar el esquema de color claro/oscuro\r\n * @example\r\n * constructor(prefersColorSchemeService: PrefersColorSchemeService) { }\r\n *\r\n * this.prefersColorSchemeService.init(); // Setea el esquema inicial\r\n * this.prefersColorSchemeService.watch(); // Observa cambio de esquema en OS\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PrefersColorSchemeService {\r\n  private _Scheme: MediaQueryList;\r\n  public get Scheme(): MediaQueryList {\r\n    return this._Scheme;\r\n  }\r\n  public set Scheme(value: MediaQueryList) {\r\n    this._Scheme = value;\r\n  }\r\n\r\n  private _SchemeLightClassName = 'scheme-light';\r\n  public get SchemeLightClassName() {\r\n    return this._SchemeLightClassName;\r\n  }\r\n  public set SchemeLightClassName(value) {\r\n    this._SchemeLightClassName = value;\r\n  }\r\n\r\n  private _SchemeDarkClassName = 'scheme-dark';\r\n  public get SchemeDarkClassName() {\r\n    return this._SchemeDarkClassName;\r\n  }\r\n  public set SchemeDarkClassName(value) {\r\n    this._SchemeDarkClassName = value;\r\n  }\r\n\r\n  constructor() {\r\n    this.Scheme = window.matchMedia('(prefers-color-scheme: dark)');\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Inicializar el esquema de color\r\n   * @usageNotes\r\n   * Usarse unicamente si se desea aplicar el esquema de color acorde al esquema de color del sistema operativo\r\n   */\r\n  init() {\r\n    if (this.Scheme.matches) {\r\n      this.enableDark();\r\n    } else {\r\n      this.enableLight();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Obtener el esquema de color actual del SO\r\n   * @returns {string} Esquema de color\r\n   */\r\n  get(): string {\r\n    if (this.Scheme.matches) {\r\n      return 'dark';\r\n    } else {\r\n      return 'light';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Agrega SchemeDarkClassName y remueve SchemeLightClassName a la etiqueta body\r\n   */\r\n  enableDark() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    if (body.classList.contains(this.SchemeLightClassName)) {\r\n      body.classList.remove(this.SchemeLightClassName);\r\n    }\r\n\r\n    body.classList.add(this.SchemeDarkClassName);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Agrega SchemeLightClassName y remueve SchemeDarkClassName a la etiqueta body\r\n   */\r\n  enableLight() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    if (body.classList.contains(this.SchemeDarkClassName)) {\r\n      body.classList.remove(this.SchemeDarkClassName);\r\n    }\r\n\r\n    body.classList.add(this.SchemeLightClassName);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Habilita el cambio automatico de esquema de color segn el cambio de esquema de color del SO\r\n   */\r\n  watch() {\r\n\r\n    const setScheme = (ev: MediaQueryListEvent) => {\r\n      if (ev.matches) {\r\n        console.log('Changed to dark mode');\r\n        this.enableDark();\r\n      } else {\r\n        console.log('Changed to light mode');\r\n        this.enableLight();\r\n      }\r\n    };\r\n\r\n    if (typeof this.Scheme.onchange === 'function') {\r\n\r\n      this.Scheme.onchange  = setScheme;\r\n\r\n    } else if (typeof this.Scheme.addEventListener === 'function') {\r\n\r\n      this.Scheme.addEventListener('change', setScheme);\r\n\r\n    // tslint:disable-next-line: deprecation\r\n    } else if (typeof this.Scheme.addListener === 'function') {\r\n\r\n      // tslint:disable-next-line: deprecation\r\n      this.Scheme.addListener(setScheme);\r\n\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @description\r\n * Funcin para verificar si una variable cumple con los siguiente:\r\n * - Si es un arreglo, verifica si tiene un tamao mayor a cero\r\n * - No tiene ninguno de estos valores: '', null, undefined, NaN\r\n * @param {any | any[]} variable Variable a verificar\r\n * @returns {boolean}\r\n */\r\nexport function hasValue(variable: any | any[]): boolean {\r\n  if (Array.isArray(variable)) {\r\n    return 0 < variable.length;\r\n  } else {\r\n    return ['', null, undefined, NaN].indexOf(variable) === -1;\r\n  }\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para verificar si un objeto no esta vaco\r\n * @param {any} value Objeto a verificar\r\n * @returns {boolean}\r\n */\r\nexport function objHasValue(value: any): boolean {\r\n  return Object.keys(value).length > 0;\r\n}\r\n","import { AwsData } from './Iaws';\r\nimport { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport { hasValue } from '../utils/check';\r\n\r\nexport let AWS_CONFIG: InjectionToken<AwsData> = new InjectionToken<AwsData>('aws.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para verificar si es usuario tiene o no permisos para realizar ciertas acciones\r\n * @example\r\n * constructor(private claimsService: ClaimsService) { }\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AwsService {\r\n\r\n    private _awsData: AwsData;\r\n    public get awsData(): AwsData {\r\n        return this._awsData;\r\n    }\r\n    public set awsData(value: AwsData) {\r\n        this._awsData = value;\r\n    }\r\n\r\n    constructor(@Inject(AWS_CONFIG) config: AwsData) {\r\n        this.awsData = config;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Mtodo obtener url de assets en S3\r\n     * @param {string} key - Ruta del objeto en el bucket (Sin '/' al principio)\r\n     * @example\r\n     * this.awsService.getS3Url('assets/file.png');\r\n     * @returns {string}\r\n     */\r\n    public getS3Url(key: string): string {\r\n        if (hasValue(key)) {\r\n            return `https://${this.awsData.s3.bucket}.s3.amazonaws.com/${key}`;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Mtodo obtener url de assets en S3\r\n     * @param {string} key - Ruta del objeto en el bucket (Sin '/' al principio)\r\n     * @example\r\n     * this.awsService.getS3Url('assets/file.png');\r\n     * @returns {string}\r\n     */\r\n    public getS3BgUrl(key: string): string {\r\n        if (hasValue(key)) {\r\n            return `url(https://${this.awsData.s3.bucket}.s3.amazonaws.com/${key})`;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { AwsService } from './aws.service';\r\n\r\n/**\r\n * @description\r\n * Mdulo para inicializar el servicio AwsService\r\n * @example\r\n * import { AWS_CONFIG, AwsModule } from '@sersol/ngx';\r\n *\r\n * @NgModule({\r\n    imports: [\r\n      ...,\r\n      AwsModule.forRoot({\r\n          provide: AWS_CONFIG,\r\n          useValue: {\r\n              s3: {\r\n                bucket: 'ser-app'\r\n              }\r\n          }\r\n      }),\r\n      ...\r\n    ],\r\n    declarations: [...],\r\n    schemas: [...],\r\n    providers: [...],\r\n    bootstrap: [...]\r\n})\r\nexport class AppModule { }\r\n */\r\n@NgModule()\r\nexport class AwsModule {\r\n  static forRoot(ConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: AwsModule,\r\n      providers: [\r\n        ConfigProvider,\r\n        AwsService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","\r\n\r\nexport class GoogleSDKConfig {\r\n  private _clientConfig: gapi.auth2.ClientConfig;\r\n  public get clientConfig(): gapi.auth2.ClientConfig {\r\n    return this._clientConfig;\r\n  }\r\n  public set clientConfig(value: gapi.auth2.ClientConfig) {\r\n    this._clientConfig = value;\r\n  }\r\n\r\n  constructor(clientConfig: gapi.auth2.ClientConfig) {\r\n    this.clientConfig = clientConfig;\r\n  }\r\n}\r\n","// Type definitions for Google API Client\r\n// Project: https://github.com/google/google-api-javascript-client\r\n// Definitions by: Frank M <https://github.com/sgtfrankieboy>, grant <https://github.com/grant>\r\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\r\n// TypeScript Version: 2.3\r\n\r\nexport interface GoogleUserProfile {\r\n  id: string;\r\n  id_token: string;\r\n  first_name: string;\r\n  last_name?: string;\r\n  email?: string;\r\n  picture?: string;\r\n}\r\n\r\nexport class GoogleClientConfig implements gapi.auth2.ClientConfig { }\r\n","/// <reference types=\"gapi\" />\r\n/// <reference types=\"gapi.auth2\" />\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { Inject, Injectable, InjectionToken, Output, EventEmitter } from '@angular/core';\r\nimport { Observer } from 'rxjs';\r\nimport { GoogleSDKConfig } from './config/google-sdk.config';\r\nimport { GoogleUserProfile, GoogleClientConfig } from './Igoogle';\r\n\r\nexport let NG_GAPI_CONFIG: InjectionToken<GoogleClientConfig> = new InjectionToken<GoogleClientConfig>('google.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para interactuar con la API de Google\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GoogleSDKService {\r\n  private readonly gapiUrl: string = 'https://apis.google.com/js/api.js';\r\n\r\n  @Output() onload: EventEmitter<void> = new EventEmitter();\r\n\r\n  private _config: GoogleSDKConfig;\r\n  public get config(): GoogleSDKConfig {\r\n    return this._config;\r\n  }\r\n  public set config(value: GoogleSDKConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  private _GoogleAuth: gapi.auth2.GoogleAuth;\r\n  public get GoogleAuth(): gapi.auth2.GoogleAuth {\r\n    return this._GoogleAuth;\r\n  }\r\n  public set GoogleAuth(value: gapi.auth2.GoogleAuth) {\r\n    this._GoogleAuth = value;\r\n  }\r\n\r\n  constructor(@Inject(NG_GAPI_CONFIG) config: GoogleClientConfig) {\r\n    this.config = new GoogleSDKConfig(config);\r\n    this.loadSDK().subscribe(() => {\r\n      console.log('Google: SDK loaded');\r\n      this.onload.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Mtodo para obtener un token de inicio de sesin junto con la informacin de perfil\r\n   * @returns {Observable<GoogleUserProfile>}\r\n   */\r\n  public login(): Observable<GoogleUserProfile> {\r\n    return new Observable((observer: Observer<GoogleUserProfile>) => {\r\n\r\n      this.GoogleAuth.signIn().then((res: gapi.auth2.GoogleUser) => {\r\n\r\n        const profile = res.getBasicProfile();\r\n\r\n        const googleProfile: GoogleUserProfile = {\r\n          id: profile.getId(),\r\n          id_token: res.getAuthResponse().id_token,\r\n          first_name: profile.getGivenName(),\r\n          last_name: profile.getFamilyName(),\r\n          email: profile.getEmail(),\r\n          picture: profile.getImageUrl().replace('=s96-', '=-')\r\n        };\r\n\r\n        observer.next(googleProfile);\r\n        observer.complete();\r\n\r\n      }, (err: any) => {\r\n          return observer.error(err);\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Metodo privado que carga la libreria de Google, al cargarse correctamente, se emite el evento 'onload'\r\n   */\r\n  private loadSDK(): Observable<void> {\r\n    return new Observable((observer: Observer<void>) => {\r\n\r\n      if ((window as any).gapi == null) {\r\n\r\n        const node = document.createElement('script');\r\n        node.src = this.gapiUrl;\r\n        node.type = 'text/javascript';\r\n        node.async = true;\r\n        node.defer = true;\r\n        node.id = 'google-api';\r\n        document.getElementsByTagName('head')[0].appendChild(node);\r\n        node.onload = () => {\r\n          gapi.load('auth2', () => {\r\n            gapi.auth2.init(this.config.clientConfig).then((auth: gapi.auth2.GoogleAuth) => {\r\n              this.GoogleAuth = auth;\r\n              observer.next();\r\n              observer.complete();\r\n            }).catch((err: any) => observer.error(err));\r\n          });\r\n        };\r\n\r\n      } else {\r\n        observer.next();\r\n        observer.complete();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { GoogleSDKService } from './google-sdk.service';\r\n\r\n/**\r\n * @description\r\n * Mdulo para parametrizar la autenticacin con Google\r\n * @example\r\n * import { NG_GAPI_CONFIG, GoogleSDKModule } from '@sersol/ngx';\r\n * @NgModule({\r\n *  imports: [\r\n *    ...,\r\n *    GoogleSDKModule.forRoot({\r\n *        provide: NG_GAPI_CONFIG,\r\n *        useValue: {\r\n *            client_id: GOOGLE_CLIENT_ID,\r\n *            scope: 'profile email'\r\n *        }\r\n *    }),\r\n *    ...\r\n *  ],\r\n *  declarations: [...],\r\n *  schemas: [...],\r\n *  providers: [...],\r\n *  bootstrap: [...]\r\n * })\r\n * export class AppModule { }\r\n */\r\n@NgModule()\r\nexport class GoogleSDKModule {\r\n  static forRoot(gapiConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: GoogleSDKModule,\r\n      providers: [\r\n        gapiConfigProvider,\r\n        GoogleSDKService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import ClientConfig = facebook.InitParams;\r\n\r\nexport class FacebookSDKConfig {\r\n  private _clientConfig: ClientConfig;\r\n  public get clientConfig(): ClientConfig {\r\n    return this._clientConfig;\r\n  }\r\n  public set clientConfig(value: ClientConfig) {\r\n    this._clientConfig = value;\r\n  }\r\n\r\n  constructor(clientConfig: ClientConfig) {\r\n    this.clientConfig = clientConfig;\r\n  }\r\n}\r\n","/// <reference types=\"facebook-js-sdk\" />\r\n\r\nimport { FacebookUserProfile } from './Ifacebook';\r\nimport { Observable } from 'rxjs';\r\nimport { Inject, Injectable, InjectionToken, Output, EventEmitter } from '@angular/core';\r\nimport { FacebookSDKConfig } from './config/facebook-sdk.config';\r\nimport { Observer } from 'rxjs';\r\n\r\nexport let NG_FSDK_CONFIG: InjectionToken<facebook.InitParams> = new InjectionToken<facebook.InitParams>('facebook.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para interacturar con el SDK de Facebook\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FacebookSDKService {\r\n  private readonly fsdkUrl: string = 'https://connect.facebook.net/en_US/sdk.js';\r\n  private _config: FacebookSDKConfig;\r\n  public get config(): FacebookSDKConfig {\r\n    return this._config;\r\n  }\r\n  public set config(value: FacebookSDKConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  @Output() onload: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(@Inject(NG_FSDK_CONFIG) config: facebook.InitParams) {\r\n    this.config = new FacebookSDKConfig(config);\r\n    this.loadSDK().subscribe(() => {\r\n      console.log('Facebook: SDK loaded');\r\n      this.onload.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Mtodo para obtener un token de inicio de sesin junto con la informacin de perfil\r\n   * @returns {Observable<FacebookUserProfile>}\r\n   */\r\n  public login(): Observable<FacebookUserProfile> {\r\n    return new Observable((observer: Observer<FacebookUserProfile>) => {\r\n\r\n      FB.login((response: any) => {\r\n        if (response.status === 'connected') {\r\n          FB.api('/me', { fields: 'first_name,last_name,email' }, (res: any) => {\r\n\r\n            FB.api('/me/picture', {\r\n              width: 300,\r\n              redirect: 'false'\r\n            }, (pic: any) => {\r\n\r\n              const facebookProfile: FacebookUserProfile = {\r\n                id: res.id,\r\n                access_token: response.authResponse.accessToken,\r\n                first_name: res.first_name,\r\n                last_name: res.last_name,\r\n                email: res.email,\r\n              };\r\n\r\n              if (pic?.data?.url) {\r\n                facebookProfile.picture = pic.data.url;\r\n              }\r\n\r\n              observer.next(facebookProfile);\r\n              observer.complete();\r\n\r\n            });\r\n\r\n          });\r\n\r\n        } else {\r\n          console.warn('Facebook: Popup closed by user');\r\n        }\r\n      }, { scope: 'public_profile,email' });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Metodo privado que carga la libreria de Facebook, al cargarse correctamente, se emite el evento 'onload'\r\n   */\r\n  public loadSDK(): Observable<boolean> {\r\n    return new Observable((observer: Observer<boolean>) => {\r\n\r\n      if ((window as any).FB == null) {\r\n\r\n        const node = document.createElement('script');\r\n        node.src = this.fsdkUrl;\r\n        node.type = 'text/javascript';\r\n        node.async = true;\r\n        node.defer = true;\r\n        node.id = 'facebook-sdk';\r\n        document.getElementsByTagName('head')[0].appendChild(node);\r\n        node.onload = () => {\r\n          FB.init(this.config.clientConfig);\r\n          FB.AppEvents.logPageView();\r\n\r\n          observer.next(true);\r\n          observer.complete();\r\n        };\r\n\r\n      } else {\r\n        observer.next(true);\r\n        observer.complete();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { FacebookSDKService } from './facebook-sdk.service';\r\n\r\n/**\r\n * @description\r\n * Mdulo para parametrizar la autenticacin con Facebook\r\n * @example\r\n * import { NG_FSDK_CONFIG, FacebookSDKModule } from '@sersol/ngx';\r\n * @NgModule({\r\n    imports: [\r\n      ...,\r\n      FacebookSDKModule.forRoot({\r\n          provide: NG_FSDK_CONFIG,\r\n          useValue: {\r\n              appId: FACEBOOK_CLIENT_ID,\r\n              cookie: true,\r\n              xfbml: true,\r\n              version: 'v6.0'\r\n          }\r\n      }),\r\n      ...\r\n    ],\r\n    declarations: [...],\r\n    schemas: [...],\r\n    providers: [...],\r\n    bootstrap: [...]\r\n})\r\nexport class AppModule { }\r\n */\r\n@NgModule()\r\nexport class FacebookSDKModule {\r\n  static forRoot(fsdkConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: FacebookSDKModule,\r\n      providers: [\r\n        fsdkConfigProvider,\r\n        FacebookSDKService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","/**\r\n * @description\r\n * Funcin para verificar si un valor existe en un arreglo\r\n * @param {any} value Valor a encontrar\r\n * @param {any[]} array Arreglo objetivo de la busqueda\r\n * @returns {boolean}\r\n */\r\nexport function inArray(value: any, array: any[]): boolean {\r\n  return array ? array.indexOf(value) !== -1 : false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para verificar si un valor NO existe en un arreglo\r\n * @param {any} value Valor a encontrar\r\n * @param {any[]} array Arreglo objetivo de la busqueda\r\n * @returns {boolean}\r\n */\r\nexport function notInArray(value: any, array: any[]): boolean {\r\n  return array ? array.indexOf(value) === -1 : false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para convertir un string en string[]\r\n * @param value Valor a convertir\r\n */\r\nexport const toArray = (value: any): string[] => Array.isArray(value) ? value : [value];\r\n\r\n/**\r\n * @description\r\n * Funcin para crear un objeto con los datos agrupado de un arreglo por un valor dado\r\n * @param {any[]} array Arreglo para agrupar\r\n * @param {string | number} field Campo para agrupar\r\n * @returns {boolean}\r\n */\r\nexport function arrayGroupBy(array: any[], field: string | number): object {\r\n\r\n  const array_group_by = {};\r\n\r\n  for (let index = 0; index < array.length; ++index) {\r\n\r\n    if (array_group_by[array[index][field]] === undefined) {\r\n      array_group_by[array[index][field]] = [];\r\n    }\r\n\r\n    array_group_by[array[index][field]].push(array[index]);\r\n  }\r\n\r\n  return array_group_by;\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para obtener un objeto contenido en un arreglo usando una pareja clave-valor para su busqueda\r\n * @param {any[]} array Arreglo de objetos\r\n * @param {string | number} field Campo de busqueda\r\n * @param {any} value Valor del campo de busqueda\r\n * @returns {object}\r\n */\r\nexport function getObjectByValue(array: any[], field: string | number, value: any): {} {\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    if (array[i].hasOwnProperty(field)) {\r\n\r\n      if (array[i][field] === value) {\r\n\r\n        return array[i];\r\n\r\n      } else {\r\n\r\n        for (const prop in array[i][field]) {\r\n\r\n          if (array[i][field][prop] === value) {\r\n\r\n            return array[i];\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para obtener el ndice de un objeto contenido en un arreglo usando una pareja clave-valor para su busqueda\r\n * @param {any[]} array Arreglo de objetos\r\n * @param {string | number} field Campo de busqueda\r\n * @param {any} value Valor del campo de busqueda\r\n * @returns {number}\r\n */\r\nexport function getObjIndexByValue(array: any[], field: string | number, value: any): number {\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    if (array[i].hasOwnProperty(field)) {\r\n\r\n      if (array[i][field] === value) {\r\n\r\n        return i;\r\n\r\n      } else {\r\n\r\n        for (const prop in array[i][field]) {\r\n\r\n          if (array[i][field][prop] === value) {\r\n\r\n            return i;\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n","import { OpenIdData } from './Iopen-id-client';\r\nimport { Injectable } from '@angular/core';\r\nimport { inArray } from '../utils/array';\r\n\r\n/**\r\n * @description\r\n * Servicio para verificar si es usuario tiene o no permisos para realizar ciertas acciones\r\n * @example\r\n * constructor(private claimsService: ClaimsService) { }\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ClaimsService {\r\n\r\n    private _openIdData: OpenIdData;\r\n    public get openIdData(): OpenIdData {\r\n        return this._openIdData;\r\n    }\r\n    public set openIdData(value: OpenIdData) {\r\n        this._openIdData = value;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Mtodo para verificar si el usuario tiene un permiso\r\n     * @param {string} requiredPermission - Nombre del permiso a consultar\r\n     * @example\r\n     * this.claimsService.hasPermission('users.view');\r\n     * @returns {boolean}\r\n     */\r\n    public hasPermission(requiredPermission: string): boolean {\r\n        return this.openIdData.claims.indexOf(requiredPermission) !== -1;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Mtodo para verificar si el usuario tiene un al menos un permiso del listado consultado\r\n     * @param {string[]} requiredPermissions - Arreglo de permisos a consultar\r\n     * @example\r\n     * this.claimsService.atLeastPermissions(['users.view', 'users.update', 'users.add']);\r\n     * @returns {boolean}\r\n     */\r\n    public atLeastPermissions(requiredPermissions: string[]): boolean {\r\n        for (let index = 0; index < requiredPermissions.length; index++) {\r\n\r\n            if (inArray(requiredPermissions[index], this.openIdData.claims)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Mtodo para verificar si el usuario tiene todos los permisos consultados\r\n     * @param {string[]} requiredPermissions - Arreglo de permisos a consultar\r\n     * @example\r\n     * this.claimsService.hasPermissions(['users.view', 'users.update', 'users.add']);\r\n     * @returns {boolean}\r\n     */\r\n    public hasPermissions(requiredPermissions: string[]): boolean {\r\n\r\n        for (let index = 0; index < requiredPermissions.length; index++) {\r\n\r\n            if (!inArray(requiredPermissions[index], this.openIdData.claims)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","/**\r\n * Deep merge source object into target object\r\n * @param target Target object\r\n * @param source Source object\r\n */\r\nexport function mergeObjs(target: any, source: any) {\r\n    const isObject = (obj: any) => obj && typeof obj === 'object';\r\n\r\n    if (!isObject(target) || !isObject(source)) {\r\n        return source;\r\n    }\r\n\r\n    Object.keys(source).forEach(key => {\r\n        const targetValue = target[key];\r\n        const sourceValue = source[key];\r\n\r\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\r\n            target[key] = targetValue.concat(sourceValue);\r\n        } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n            target[key] = mergeObjs(Object.assign({}, targetValue), sourceValue);\r\n        } else {\r\n            target[key] = sourceValue;\r\n        }\r\n    });\r\n\r\n    return target;\r\n}\r\n","import { mergeObjs } from './object';\r\n\r\n/**\r\n * @description\r\n * Funcin para generar un cdigo GUID aleatorio\r\n * @returns {string}\r\n */\r\nexport function guid(): string {\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para generar un cdigo alfanmerico nico\r\n * @returns {string}\r\n */\r\nexport function uniqueId(): string {\r\n  const today = new Date();\r\n  return s4() + s4() + s4() + s4() + s4() + s4() + s4() + s4() + Math.floor((today.getTime() * Math.random()));\r\n}\r\n\r\nfunction s4(): string {\r\n  return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para obtener un nmero aleatorio\r\n * @param {number} min Nmero mnimo\r\n * @param {number} max Nmero mximo\r\n * @returns {number}\r\n */\r\nexport function getRandomInt(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n\r\nexport interface RandomPasswordOps {\r\n    /**\r\n     * Tamao de la contrasea\r\n     */\r\n    length?: number;\r\n\r\n    /***\r\n     * Habilita si se incluyen nmeros\r\n     */\r\n    numbers?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen caracteres especiales\r\n     */\r\n    specialChars?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen letras en maysculas\r\n     */\r\n    lettersUpperCase?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen letras en minsculas\r\n     */\r\n    lettersLowerCase?: boolean;\r\n}\r\n\r\n/**\r\n * Funcin para generar contraseas aleatorias\r\n * @param options Parametros de contrasea\r\n */\r\nexport function generatePassword(options?: RandomPasswordOps) {\r\n\r\n    const defaultOptions: RandomPasswordOps = {\r\n        length: 8,\r\n        numbers: true,\r\n        specialChars: false,\r\n        lettersLowerCase: true,\r\n        lettersUpperCase: true\r\n    };\r\n\r\n    mergeObjs(defaultOptions, options);\r\n\r\n    let charset = '';\r\n\r\n    if (defaultOptions?.numbers) {\r\n        charset += '0123456789';\r\n    }\r\n\r\n    if (defaultOptions?.lettersLowerCase) {\r\n        charset += 'abcdefghijklmnopqrstuvwxyz';\r\n    }\r\n\r\n    if (defaultOptions?.lettersUpperCase) {\r\n        charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    }\r\n\r\n    if (defaultOptions?.specialChars) {\r\n        charset += '!#$%&\\()*+,-./:;<=>?@^[\\\\]^_`{|}~';\r\n    }\r\n\r\n    let retVal = '';\r\n\r\n    for (let i = 0, n = charset.length; i < defaultOptions.length; ++i) {\r\n        retVal += charset.charAt(Math.floor(Math.random() * n));\r\n    }\r\n\r\n    return retVal;\r\n}\r\n","/**\r\n * @description\r\n * Mapeo de teclas con su respectivo cdigo nmerico\r\n */\r\nexport const KEYBOARD_KEYS = {\r\n  up: 38,\r\n  down: 40,\r\n  left: 37,\r\n  right: 39,\r\n  escape: 27,\r\n  enter: 13,\r\n  backspace: 8,\r\n  delete: 46,\r\n  shift: 16,\r\n  leftCmd: 91,\r\n  rightCmd: 93,\r\n  ctrl: 17,\r\n  alt: 18,\r\n  tab: 9\r\n};\r\n","/**\r\n * @description Coleccin de Regex comunes\r\n */\r\nexport module Patterns {\r\n  export const PASSWORD = /^((?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])).{6,}$/;\r\n  export const DOMAIN = /^([a-zA-Z0-9\\_\\-\\.]{2,63})\\.([a-zA-Z0-9]{2,})$/;\r\n  export const EMAIL = /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/;\r\n  export const IMAGE = /^image\\/([a-zA-Z].*)$/;\r\n  export const NUMBER = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n  export const CC = /((\\d{8})|(\\d{10})|(\\d{11})|(\\d{6}-\\d{5}))?/g;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { LatLng2LatLngOptions } from './types';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class MapService {\r\n\r\n    /**\r\n     * Metodo para obtener la posisin GPS actual usando Observable\r\n     * @example\r\n     * this.mapService.getCurrentPosition().pipe(take(1)).subscribe({\r\n     *      next(position) {\r\n     *        console.log('Current Position: ', position);\r\n     *      },\r\n     *      error(msg) {\r\n     *        console.log('Error Getting Location: ', msg);\r\n     *      }\r\n     *   });\r\n     */\r\n    getCurrentPosition(): Observable<Position> {\r\n\r\n        return new Observable((observer) => {\r\n\r\n            // Simple geolocation API check provides values to publish\r\n            if ('geolocation' in navigator) {\r\n                navigator.geolocation.getCurrentPosition((position: Position) => {\r\n                    observer.next(position);\r\n                }, (error: PositionError) => {\r\n                    observer.error(error);\r\n                });\r\n            } else {\r\n                observer.error('Geolocation not available');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Verifica si la latitud y longitud son vlidas\r\n     * @param lat Latitud\r\n     * @param lng Longitud\r\n     */\r\n    checkLatLog(lat: number, lng: number) {\r\n        return (-90 <= lat) && (90 >= lat) && (-180 <= lng) && (180 >= lng);\r\n    }\r\n\r\n    /**\r\n     * Obtiene la distancia en km entre dos puntos LatLng\r\n     * @param lon1 Latitud\r\n     */\r\n    distancePoints(options: LatLng2LatLngOptions) {\r\n        // tslint:disable-next-line: max-line-length\r\n        const a = Math.sin(((options.to.lat - options.from.lat) * Math.PI / 180) / 2) * Math.sin(((options.to.lat - options.from.lat) * Math.PI / 180) / 2) + Math.cos(options.from.lat * Math.PI / 180) * Math.cos(options.to.lat * Math.PI / 180) * Math.sin(((options.to.lng - options.from.lng) * Math.PI / 180) / 2) * Math.sin(((options.to.lng - options.from.lng) * Math.PI / 180) / 2);\r\n        return (6371 * (2 * Math.asin(Math.sqrt(a)))) * 1.60934;\r\n    }\r\n\r\n    cutPrecision(obj: any, precision: number) {\r\n        if ('number' === typeof obj[0]) {\r\n            for (let i = 0; i < obj.length; i++) { obj[i] = Math.round(obj[i] * precision) / precision; }\r\n        } else {\r\n            const arr = obj.features || obj.geometries || obj.coordinates || obj;\r\n            for (let i = 0; i < arr.length; i++) { this.cutPrecision(arr[i], precision); }\r\n        }\r\n    }\r\n\r\n    middlePoint(options: LatLng2LatLngOptions) {\r\n\r\n        if ((options.from.lng !== options.to.lng) || (options.from.lat !== options.to.lat)) {\r\n\r\n            const lat1 = options.from.lat * Math.PI / 180;\r\n            const lat2 = options.to.lat * Math.PI / 180;\r\n            const lon1 = options.from.lng * Math.PI / 180;\r\n            const lon2 = options.to.lng * Math.PI / 180;\r\n            const dLon = lon2 - lon1;\r\n            const x = Math.cos(lat2) * Math.cos(dLon);\r\n            const y = Math.cos(lat2) * Math.sin(dLon);\r\n            let lat3 = Math.atan2(Math.sin(lat1) + Math.sin(lat2), Math.sqrt((Math.cos(lat1) + x) * (Math.cos(lat1) + x) + y * y));\r\n            let lon3 = lon1 + Math.atan2(y, Math.cos(lat1) + x);\r\n            lat3 *= 180 / Math.PI;\r\n            lon3 *= 180 / Math.PI;\r\n            const deltaY = options.to.lng - options.from.lng;\r\n            const deltaX = options.to.lat - options.from.lat;\r\n            const angleInDegrees = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\r\n            return {\r\n                longitude: lon3,\r\n                Latitude: lat3,\r\n                angle: angleInDegrees,\r\n                distance: this.distancePoints(options)\r\n            };\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n}\r\n","import * as L from 'leaflet';\r\n\r\n// Layers Maps for Leaflet\r\nexport const LEAFLET_MAP_LAYERS = {\r\n    'OpenStreetMap Street': L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }),\r\n    'Mapbox Street': L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n        maxZoom: 18,\r\n        id: 'mapbox/streets-v11',\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken: (window as any).mapbox_access_token\r\n    })\r\n};\r\n","import * as L from 'leaflet';\r\nimport 'leaflet.markercluster';\r\nimport '@sersol/leaflet-plugins/leaflet-fullscreen';\r\nimport '@sersol/leaflet-plugins/leaflet-mouseposition';\r\nimport { mergeObjs } from '../../utils/object';\r\nimport { hasValue } from '../../utils/check';\r\nimport { LeafletMapOptions, LeafletPadding } from './types';\r\nimport { CenterPoint, LatLng } from '../types';\r\nimport { LEAFLET_MAP_LAYERS } from './providers';\r\n\r\nexport class LeafletMap {\r\n    map: L.Map;\r\n    markers: any = {};\r\n    markerCluster: L.MarkerClusterGroup;\r\n    layerControl: L.Control.Layers;\r\n    options: LeafletMapOptions = {\r\n        container: 'leaflet-map',\r\n        initialView: {\r\n            lat: 4.6288702,\r\n            lng: -74.1193724,\r\n            zoom: 11\r\n        },\r\n        clusterMarkers: {\r\n            enable: true,\r\n            config: {}\r\n        },\r\n        layers: LEAFLET_MAP_LAYERS,\r\n        mapOptions: {\r\n            positionControl: true,\r\n            layers: [LEAFLET_MAP_LAYERS['Mapbox Street']],\r\n            zoomControl: false\r\n        },\r\n        layersOptions: {\r\n            position: 'topright'\r\n        }\r\n    };\r\n\r\n    constructor(options: LeafletMapOptions) {\r\n\r\n        mergeObjs(this.options, options);\r\n\r\n        this.map = new L.Map(this.options.container, this.options.mapOptions);\r\n\r\n        this.layerControl = new L.Control.Layers(this.options.layers, null, this.options.layersOptions);\r\n        this.map.addControl(new L.Control.MousePosition(this.options.mousePositionOptions));\r\n        this.map.addControl(this.layerControl);\r\n        this.map.addControl(new L.Control.Fullscreen(this.options.fullscreen));\r\n        this.map.addControl(new L.Control.Zoom(this.options.zoom));\r\n\r\n        this.map.setView([this.options.initialView.lat, this.options.initialView.lng], this.options.initialView.zoom);\r\n\r\n        // Create cluster and scope\r\n        if (this.options.clusterMarkers.enable) {\r\n            this.initMarkerCluster();\r\n        }\r\n\r\n    }\r\n\r\n    initMarkerCluster() {\r\n        if (L.MarkerClusterGroup) {\r\n            this.markerCluster = new L.MarkerClusterGroup([], this.options.clusterMarkers.config);\r\n            this.map.addLayer(this.markerCluster);\r\n        }\r\n    }\r\n\r\n    fitMarkersBounds(padding?: LeafletPadding, flyTo?: boolean) {\r\n\r\n        if (hasValue(this.markers)) {\r\n\r\n            const groupWrapper = [];\r\n\r\n            // tslint:disable-next-line: forin\r\n            for (const key in this.markers) {\r\n                groupWrapper.push(this.markers[key]);\r\n            }\r\n\r\n            if (hasValue(groupWrapper)) {\r\n\r\n                const pad: LeafletPadding = {\r\n                    paddingTopLeft: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    paddingBottomRight: {\r\n                        x: 0,\r\n                        y: 0\r\n                    }\r\n                };\r\n\r\n                mergeObjs(pad, padding);\r\n\r\n                const group = L.featureGroup(groupWrapper);\r\n\r\n                if (flyTo) {\r\n                    this.map.flyToBounds(group.getBounds(), {\r\n                        duration: 0.5,\r\n                        paddingTopLeft: [pad.paddingTopLeft.x, pad.paddingTopLeft.y],\r\n                        paddingBottomRight: [pad.paddingBottomRight.x, pad.paddingBottomRight.y]\r\n                    });\r\n                } else {\r\n                    this.map.fitBounds(group.getBounds(), {\r\n                        paddingTopLeft: [pad.paddingTopLeft.x, pad.paddingTopLeft.y],\r\n                        paddingBottomRight: [pad.paddingBottomRight.x, pad.paddingBottomRight.y]\r\n                    });\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    addMarker(latLng: LatLng, id: any) {\r\n\r\n        this.markers[id] = L.marker([latLng.lat, latLng.lng]);\r\n\r\n        if (this.options.clusterMarkers.enable) {\r\n            this.markerCluster.addLayer(this.markers[id]);\r\n        } else {\r\n            this.markers[id].addTo(this.map);\r\n        }\r\n\r\n        return this.markers[id];\r\n    }\r\n\r\n    panTo(latlng: L.LatLng, offset?: L.PointExpression, options?: L.ZoomPanOptions) {\r\n\r\n        if (hasValue(offset)) {\r\n            const x = this.map.latLngToContainerPoint(latlng).x - offset[0];\r\n            const y = this.map.latLngToContainerPoint(latlng).y - offset[1];\r\n            const point = this.map.containerPointToLatLng([x, y]);\r\n            return this.map.setView(point, this.map.getZoom(), options);\r\n        } else {\r\n            return this.map.setView(latlng, this.map.getZoom(), options);\r\n        }\r\n    }\r\n\r\n    setView(latlng: L.LatLng, targetZoom: number, offset?: L.PointExpression, options?: L.ZoomPanOptions) {\r\n\r\n        if (hasValue(offset)) {\r\n            const targetPoint = this.map.project(latlng, targetZoom).subtract(offset);\r\n            const targetLatLng = this.map.unproject(targetPoint, targetZoom);\r\n            return this.map.setView(targetLatLng, targetZoom, options);\r\n        } else {\r\n            return this.map.setView(latlng, targetZoom, options);\r\n        }\r\n\r\n    }\r\n\r\n    centerPoint(options: CenterPoint) {\r\n        this.map.flyTo([options.lat, options.lng], options.preserve_zoom ? this.map.getZoom() : 19, {\r\n            duration: 0.5\r\n        });\r\n    }\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\n/**\r\n * Read the content of a File or Blob using the FileReader interface.\r\n * This is an async interface so it makes sense to handle it with Rx.\r\n * @param File | Blob\r\n */\r\nexport function readAsArrayBuffer(blob: Blob): Observable<any> {\r\n\r\n    return new Observable((obs: any): void => {\r\n        if (!(blob instanceof Blob)) {\r\n            obs.error(new Error('`blob` must be an instance of File or Blob.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onerror = err => obs.error(err);\r\n        reader.onabort = err => obs.error(err);\r\n        reader.onload = () => obs.next(reader.result);\r\n        reader.onloadend = () => obs.complete();\r\n\r\n        reader.readAsArrayBuffer(blob);\r\n    });\r\n}\r\n\r\n/**\r\n * Read the content of a File or Blob using the FileReader interface.\r\n * This is an async interface so it makes sense to handle it with Rx.\r\n * @param File | Blob\r\n */\r\nexport function readAsDataURL(blob: Blob): Observable<any> {\r\n\r\n    return new Observable((obs: any): void => {\r\n        if (!(blob instanceof Blob)) {\r\n            obs.error(new Error('`blob` must be an instance of File or Blob.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onerror = err => obs.error(err);\r\n        reader.onabort = err => obs.error(err);\r\n        reader.onload = () => obs.next(reader.result);\r\n        reader.onloadend = () => obs.complete();\r\n\r\n        reader.readAsDataURL(blob);\r\n    });\r\n}\r\n\r\n/**\r\n * @description Get file type based on header info\r\n * @param arrayBuffer Result of FileReader.readAsArrayBuffer()\r\n */\r\nexport function getFileType(arrayBuffer: ArrayBuffer) {\r\n\r\n    const arr = (new Uint8Array(arrayBuffer)).subarray(0, 4);\r\n\r\n    let header = '';\r\n    for (const i of arr) {\r\n        header += i.toString(16);\r\n    }\r\n\r\n    console.log('Header file: ', header);\r\n\r\n    switch (header) {\r\n        case '89504e47':\r\n            return 'png';\r\n\r\n        case '47494638':\r\n            return 'gif';\r\n\r\n        case 'ffd8ffe0':\r\n        case 'ffd8ffe1':\r\n        case 'ffd8ffe2':\r\n        case 'ffd8ffe3':\r\n        case 'ffd8ffe8':\r\n            return 'jpeg';\r\n\r\n        case '25504446':\r\n            return 'ia';\r\n\r\n        case '504b34':\r\n            return 'xlsx';\r\n\r\n        case '25504446':\r\n            return 'pdf';\r\n\r\n        default:\r\n            return 'unknown';\r\n    }\r\n}\r\n","import { FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function lowerThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value < target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.lowerThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.lowerThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    lowerThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n}\r\n\r\nexport function lowerOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value <= target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.lowerOrEqualThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.lowerOrEqualThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    lowerOrEqualThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function greaterThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value > target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.greaterThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.greaterThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    greaterThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function greaterOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value >= target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.greaterOrEqualThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.greaterOrEqualThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    greaterOrEqualThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n","import { FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function match(originalPathField: string, duplicatePathField: string): ValidatorFn {\r\n    const validation = (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const original = fg.get(originalPathField);\r\n        const duplicate = fg.get(duplicatePathField);\r\n\r\n        if (original.value === duplicate.value) {\r\n            if (hasValue(duplicate.errors)) {\r\n                delete duplicate.errors.match;\r\n\r\n                if (hasValue(duplicate.errors)) {\r\n                    duplicate.setErrors(duplicate.errors);\r\n                } else {\r\n                    duplicate.setErrors(null);\r\n                }\r\n            } else {\r\n                duplicate.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(duplicate.errors)) {\r\n                duplicate.errors.match = true;\r\n                duplicate.setErrors(duplicate.errors);\r\n            } else {\r\n                duplicate.setErrors({\r\n                    match: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    return validation;\r\n}\r\n","import { AsyncValidatorFn, FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { getFileType, readAsArrayBuffer } from '../../file/read';\r\nimport { inArray } from '../../utils/array';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function maxFileSize(size: string): ValidatorFn {\r\n    return (control: FormControl): ValidationErrors | null => {\r\n\r\n        const number = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n        const sizeNumber = size.match(number);\r\n        let multiplier = 1;\r\n\r\n        switch (true) {\r\n            case /[. 0-9]+(KB)/i.test(size):\r\n                multiplier = 1e3;\r\n                break;\r\n\r\n            case /[. 0-9]+(MB)/i.test(size):\r\n                multiplier = 1e6;\r\n                break;\r\n\r\n            case /[. 0-9]+(GB)/i.test(size):\r\n                multiplier = 1e9;\r\n                break;\r\n        }\r\n\r\n        if (hasValue(sizeNumber)) {\r\n            const sizeOnBytes = parseFloat(sizeNumber.join('')) * multiplier;\r\n\r\n            if (control.value) {\r\n\r\n                if (control.value.size >= sizeOnBytes) {\r\n                    return {\r\n                        maxFileSize: true\r\n                    };\r\n                }\r\n\r\n                return null;\r\n            }\r\n        } else {\r\n            console.error('maxFileSize validation: Size must have a number');\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\n\r\nexport function minFileSize(size: string): ValidatorFn {\r\n    return (control: FormControl): ValidationErrors | null => {\r\n\r\n        const number = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n        const sizeNumber = size.match(number);\r\n        let multiplier = 1;\r\n\r\n        switch (true) {\r\n            case /[. 0-9]+(KB)/i.test(size):\r\n                multiplier = 1e3;\r\n                break;\r\n\r\n            case /[. 0-9]+(MB)/i.test(size):\r\n                multiplier = 1e6;\r\n                break;\r\n\r\n            case /[. 0-9]+(GB)/i.test(size):\r\n                multiplier = 1e9;\r\n                break;\r\n        }\r\n\r\n        if (hasValue(sizeNumber)) {\r\n            const sizeOnBytes = parseFloat(sizeNumber.join('')) * multiplier;\r\n\r\n            if (control.value) {\r\n\r\n                if (control.value.size <= sizeOnBytes) {\r\n                    return {\r\n                        minFileSize: true\r\n                    };\r\n                }\r\n\r\n                return null;\r\n            }\r\n        } else {\r\n            console.error('minFileSize validation: Size must have a number');\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function requiredFileType(ext: string | string[]): AsyncValidatorFn {\r\n    return (control: FormControl): Observable<ValidationErrors | null> => {\r\n\r\n        const file = control.value;\r\n\r\n        if (file) {\r\n\r\n            if (!Array.isArray(ext)) {\r\n                ext = [ext];\r\n            }\r\n\r\n            const types = ext.map((type) => type.toLowerCase());\r\n\r\n            return readAsArrayBuffer(file)\r\n                .pipe(\r\n                    map((result: ArrayBuffer) => {\r\n\r\n                        if (inArray(getFileType(result), types)) {\r\n                            return null;\r\n                        } else {\r\n                            return {\r\n                                requiredFileType: true\r\n                            };\r\n                        }\r\n\r\n                    })\r\n                );\r\n        }\r\n\r\n        return of(null);\r\n    };\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { AsyncValidatorFn, FormControl, ValidationErrors } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, delay, map, switchMap } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport interface BaseValidationModel {\r\n    Model: string;\r\n    Field: string;\r\n    Id?: string | number;\r\n    Value?: any;\r\n}\r\n\r\nexport function alreadyExist(http: HttpClient, url: string, requestBody: BaseValidationModel): AsyncValidatorFn {\r\n    return (control: FormControl): Observable<ValidationErrors | null> => {\r\n\r\n        return of(control.value).pipe(\r\n            delay(1000),\r\n            switchMap((value) => {\r\n                if (hasValue(value)) {\r\n\r\n                    requestBody.Value = value;\r\n\r\n                    return http.post(url, requestBody).pipe(\r\n                      map(() => ({ alreadyExist: true })),\r\n                      catchError(() => of(null))\r\n                    );\r\n                }\r\n\r\n                return of(null);\r\n            }\r\n        ));\r\n    };\r\n}\r\n","import { ValidationErrors, ValidatorFn, FormGroup, FormControl, AsyncValidatorFn } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, delay, map, switchMap } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { greaterOrEqualThan, greaterThan, lowerOrEqualThan, lowerThan } from './comparison';\r\nimport { match } from './match';\r\nimport { maxFileSize, minFileSize, requiredFileType } from './file';\r\nimport { alreadyExist, BaseValidationModel } from './remote';\r\n\r\n// @dynamic\r\n/**\r\n * Validaciones adicionales para Form Control's\r\n */\r\nexport class CustomValidators {\r\n\r\n    /**\r\n     * Verifica si los campos proveidos son iguales\r\n     * @param originalPathField Path del campo original\r\n     * @param duplicatePathField Path del campo que deberia ser igual al original\r\n     */\r\n    static match(originalPathField: string, duplicatePathField: string): ValidatorFn {\r\n        return match(originalPathField, duplicatePathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es menor a otro\r\n     * @param BasePathField Path del campo que debe ser menor\r\n     * @param TargetPathField Path del campo que deberia ser mayor\r\n     */\r\n    static lowerThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return lowerThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es menor o igual a otro\r\n     * @param BasePathField Path del campo que debe ser menor o igual\r\n     * @param TargetPathField Path del campo que deberia ser mayor o igual\r\n     */\r\n    static lowerOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return lowerOrEqualThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es mayor a otro\r\n     * @param BasePathField Path del campo que debe ser mayor\r\n     * @param TargetPathField Path del campo que deberia ser menor\r\n     */\r\n    static greaterThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return greaterThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es mayor o igual a otro\r\n     * @param BasePathField Path del campo que debe ser mayor o igual\r\n     * @param TargetPathField Path del campo que deberia ser menor o igual\r\n     */\r\n    static greaterOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return greaterOrEqualThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el tamao no excede el tamao maximo indicado\r\n     * @param size Tamao en KB, MG  GB (ejem: 100MB)\r\n     */\r\n    static maxFileSize(size: string): ValidatorFn {\r\n        return maxFileSize(size);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el tamao es mayor el tamao mnimo indicado\r\n     * @param size Tamao en KB, MG  GB (ejem: 100MB)\r\n     */\r\n    static minFileSize(size: string): ValidatorFn {\r\n        return minFileSize(size);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el archivo tiene una extensin adminitida por medio de su cabecera\r\n     * @param ext Extensiones admitidas\r\n     */\r\n    static requiredFileType(ext: string | string[]): AsyncValidatorFn {\r\n        return requiredFileType(ext);\r\n    }\r\n\r\n    /**\r\n     * Verifica si existe dicho valor en la DB si coincide con el modelo y el nombre de campo\r\n     * @param http\r\n     * @param url\r\n     * @param requestBody propiedad Id opcional para excluir de la busqueda un registro\r\n     */\r\n    static alreadyExist(http: HttpClient, url: string, requestBody: BaseValidationModel): AsyncValidatorFn {\r\n        return alreadyExist(http, url, requestBody);\r\n    }\r\n\r\n}\r\n","import { Directive, HostListener, OnInit, OnDestroy } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serControl]'\r\n})\r\nexport class SerControlDirective implements OnInit, OnDestroy {\r\n    disabled = false;\r\n    focus = false;\r\n    dirty = false;\r\n    valid = false;\r\n    invalid = false;\r\n    pending = false;\r\n    hasValue = false;\r\n    observer: Subscription;\r\n\r\n    constructor(private _ngControl: NgControl) { }\r\n\r\n    @HostListener('focus')\r\n    onFocus() {\r\n        this.focus = true;\r\n    }\r\n\r\n    @HostListener('blur')\r\n    onBlur() {\r\n        this.focus = false;\r\n    }\r\n\r\n    onChangeValue(value: any) {\r\n        this.hasValue = hasValue(value);\r\n        this.valid = this._ngControl?.control?.valid;\r\n        this.invalid = this._ngControl?.control?.invalid;\r\n        this.dirty = this._ngControl?.control?.dirty;\r\n        this.disabled = this._ngControl?.control?.disabled;\r\n        this.pending = this._ngControl?.control?.pending;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.onChangeValue(this._ngControl?.control?.value);\r\n\r\n        this.observer = this._ngControl?.control?.valueChanges.subscribe((value: any) => {\r\n            this.onChangeValue(value);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.observer?.unsubscribe();\r\n    }\r\n\r\n}\r\n","// tslint:disable: component-selector\r\nimport { Subscription } from 'rxjs';\r\nimport { Component, ContentChild, ViewEncapsulation, HostBinding } from '@angular/core';\r\nimport { SerControlDirective } from './ser-control.directive';\r\n\r\n@Component({\r\n    selector: 'ser-form-element',\r\n    template: '<ng-content></ng-content>',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerFormElementComponent {\r\n\r\n    @ContentChild(SerControlDirective) formElement: SerControlDirective;\r\n    observer: Subscription;\r\n\r\n    @HostBinding('class.disabled')\r\n    get disabled() {\r\n        return this.formElement?.disabled;\r\n    }\r\n\r\n    @HostBinding('class.focus')\r\n    get focus() {\r\n        return this.formElement?.focus;\r\n    }\r\n\r\n    @HostBinding('class.active')\r\n    get active() {\r\n        return this.formElement?.hasValue;\r\n    }\r\n\r\n    @HostBinding('class.dirty')\r\n    get dirty() {\r\n        return this.formElement?.dirty;\r\n    }\r\n\r\n    @HostBinding('class.valid')\r\n    get valid() {\r\n        return this.formElement?.valid;\r\n    }\r\n\r\n    @HostBinding('class.invalid')\r\n    get invalid() {\r\n        return this.formElement?.invalid;\r\n    }\r\n\r\n    @HostBinding('class.pending')\r\n    get pending() {\r\n        return this.formElement?.pending;\r\n    }\r\n\r\n}\r\n","import { Directive, Input, OnChanges, OnDestroy, AfterViewInit, HostBinding } from '@angular/core';\r\nimport { FormGroupDirective, AbstractControl } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { ErrorDetails, ErrorOptions } from './ser-errors';\r\nimport { toArray } from '../../utils/array';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serErrors]',\r\n    exportAs: 'serErrors'\r\n})\r\nexport class SerErrorsDirective implements OnChanges, OnDestroy, AfterViewInit {\r\n\r\n    // tslint:disable-next-line: no-input-rename\r\n    @Input('serErrors')\r\n    controlName: string;\r\n\r\n    subject = new BehaviorSubject<ErrorDetails>(null);\r\n    control: AbstractControl;\r\n    ready = false;\r\n\r\n    constructor(private _form: FormGroupDirective) { }\r\n\r\n    get errors() {\r\n        if (!this.ready) { return; }\r\n        return this.control.errors;\r\n    }\r\n\r\n    get hasErrors() {\r\n        return !!this.errors;\r\n    }\r\n\r\n    hasError(name: string, conditions: ErrorOptions): boolean {\r\n        return this.checkPropState('invalid', name, conditions);\r\n    }\r\n\r\n    isValid(name: string, conditions: ErrorOptions): boolean {\r\n        return this.checkPropState('valid', name, conditions);\r\n    }\r\n\r\n    getError(name: string) {\r\n        if (!this.ready) { return; }\r\n        return this.control.getError(name);\r\n    }\r\n\r\n    private checkPropState(prop: string, name: string, conditions: ErrorOptions): boolean {\r\n\r\n        if (!this.ready) { return; }\r\n        const controlPropsState = (\r\n            !conditions || toArray(conditions).every((condition: string) => this.control[condition])\r\n        );\r\n\r\n        if (name.charAt(0) === '*') {\r\n            return this.control[prop] && controlPropsState;\r\n        }\r\n\r\n        return (\r\n            prop === 'valid' ? !this.control.hasError(name) : this.control.hasError(name) && controlPropsState\r\n        );\r\n    }\r\n\r\n    private checkStatus() {\r\n        const control = this.control;\r\n        const errors = control.errors;\r\n        this.ready = true;\r\n\r\n        if (!errors) {\r\n            return;\r\n        }\r\n\r\n        for (const errorName in errors) {\r\n            if (this.errors.hasOwnProperty(errorName)) {\r\n                this.subject.next({ control, errorName });\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges() {\r\n        this.control = this._form.control.get(this.controlName);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        setTimeout(() => {\r\n            this.checkStatus();\r\n            this.control.statusChanges.subscribe(this.checkStatus.bind(this));\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subject.unsubscribe();\r\n    }\r\n\r\n}\r\n","import { Directive, Input, OnInit, OnDestroy, DoCheck, Inject, HostBinding, forwardRef } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport 'rxjs/add/observable/combineLatest';\r\nimport { ErrorOptions } from './ser-errors';\r\nimport { SerErrorsDirective } from './ser-errors.directive';\r\nimport { toArray } from '../../utils/array';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serError]'\r\n})\r\nexport class SerErrorDirective implements OnInit, OnDestroy, DoCheck {\r\n\r\n    @Input() set serError(value: ErrorOptions) {\r\n        this.errorNames = toArray(value);\r\n    }\r\n\r\n    @Input() set when(value: ErrorOptions) {\r\n        this.rules = toArray(value);\r\n    }\r\n\r\n    @HostBinding('hidden')\r\n    hidden = true;\r\n\r\n    rules: string[] = [];\r\n    errorNames: string[] = [];\r\n    subscription: Subscription;\r\n    _states: Subject<string[]>;\r\n    states: Observable<string[]>;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => SerErrorsDirective)) private _serErrors: SerErrorsDirective\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this._states = new Subject<string[]>();\r\n        this.states = this._states.asObservable().distinctUntilChanged();\r\n\r\n        const errors = this._serErrors.subject\r\n            .filter(Boolean)\r\n            // tslint:disable-next-line: no-bitwise\r\n            .filter((obj: any) => !!~this.errorNames.indexOf(obj.errorName));\r\n\r\n        const states = this.states\r\n            // tslint:disable-next-line: no-bitwise\r\n            .map(states => this.rules.every(rule => !!~states.indexOf(rule)));\r\n\r\n        this.subscription = Observable.combineLatest([states, errors])\r\n            .subscribe(([states, errors]) => {\r\n                this.hidden = !(states && errors.control.hasError(errors.errorName));\r\n            });\r\n\r\n    }\r\n\r\n    ngDoCheck() {\r\n        this._states.next(\r\n            this.rules.filter((rule) => (this._serErrors.control as any)[rule])\r\n        );\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","// tslint:disable: component-selector\r\nimport { AfterViewInit, Component, ElementRef, forwardRef, HostBinding, Input, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n@Component({\r\n    selector: 'pin-input',\r\n    templateUrl: './pin-input.component.html',\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => PinInputComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class PinInputComponent implements AfterViewInit, OnInit, ControlValueAccessor {\r\n\r\n    @ViewChildren('input') inputsList: QueryList<ElementRef>;\r\n    @HostBinding('class.show') show = false;\r\n\r\n    private inputs: HTMLInputElement[] = [];\r\n\r\n    @Input() codeLength = 4;\r\n    @Input() onlyNumber = true;\r\n    @Input() isCodeHidden = false;\r\n\r\n    codeInputs: number[] | string[];\r\n    value = [];\r\n    type: string;\r\n    isDisabled = false;\r\n\r\n    writeValue(obj: any) {\r\n        if (hasValue(obj)) {\r\n            this.value = obj.toString().split('');\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.type = (this.isCodeHidden) ? 'password' : 'text';\r\n        this.codeInputs = Array(this.codeLength);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.inputsList.forEach((item, i) => {\r\n\r\n            if (hasValue(this.value[i])) {\r\n                (item.nativeElement as HTMLInputElement).value = this.value[i];\r\n            }\r\n\r\n            this.inputs.push(item.nativeElement);\r\n        });\r\n    }\r\n\r\n    private canInputValue(value: any): boolean {\r\n        if (!hasValue(value)) {\r\n            return true;\r\n        }\r\n\r\n        if (this.onlyNumber) {\r\n            return /^[0-9]+$/.test(value.toString());\r\n        } else {\r\n            return /^[0-9a-zA-Z]+$/.test(value.toString());\r\n        }\r\n    }\r\n\r\n    generateValue(): string | number {\r\n        const values: string[] = [];\r\n\r\n        this.inputs.forEach((input) => {\r\n\r\n            if (hasValue(input.value)) {\r\n                values.push(input.value.trim());\r\n            }\r\n\r\n        });\r\n\r\n        if (values.length === this.codeLength) {\r\n            return values.join('');\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    onInput(e: any, i: number) {\r\n        const next = i + 1;\r\n        const target = e.target;\r\n        const value = e.data || target.value;\r\n\r\n        this.onTouch();\r\n\r\n        if (!this.canInputValue(value)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n\r\n        if (next < this.codeLength && hasValue(value)) {\r\n            this.inputs[next].focus();\r\n        }\r\n\r\n        this.onChange(this.generateValue());\r\n\r\n    }\r\n\r\n    async onKeydown(e: KeyboardEvent, i: number) {\r\n        const prev = i - 1;\r\n        const next = i + 1;\r\n        const value = (e.target as HTMLInputElement).value;\r\n        const backspace = e.key.toLowerCase() === 'backspace';\r\n\r\n        if (backspace) {\r\n\r\n            if (prev >= 0) {\r\n\r\n                setTimeout(() => {\r\n                    this.inputs[prev].focus();\r\n                });\r\n            }\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        if (!this.canInputValue(e.key.toLowerCase())) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n\r\n        if (hasValue(value)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            if (next < this.codeLength) {\r\n                this.inputs[next].focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    onClick(e: any) {\r\n\r\n        let index = this.codeLength - 1;\r\n        e.target.setSelectionRange(e.target.value.length, e.target.value.length);\r\n\r\n        for (let i = 0; i < this.inputs.length; i++) {\r\n\r\n            if (!hasValue(this.inputs[i].value)) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (hasValue(index)) {\r\n            this.inputs[index].focus();\r\n        }\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    onChange(_: any) { }\r\n\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouch = fn;\r\n    }\r\n    onTouch() { }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n    filteredData: any = [];\r\n    private subject = new Subject<any>();\r\n\r\n    setData(data: any) {\r\n\r\n        this.filteredData = data;\r\n        this.subject.next(data);\r\n    }\r\n\r\n    getData(): Observable<any> {\r\n        return this.subject.asObservable();\r\n    }\r\n\r\n    getFilteredData() {\r\n        if (this.filteredData && this.filteredData.length > 0) {\r\n            return this.filteredData;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { hasValue } from '../../utils/check';\r\nimport { DataService } from './ser-select.service';\r\n\r\n\r\n@Pipe({\r\n    name: 'serSelectListFilter',\r\n    pure: true\r\n})\r\nexport class SerSelectListFilterPipe implements PipeTransform {\r\n\r\n    constructor(private ds: DataService) { }\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!hasValue(items) || !hasValue(filter)) {\r\n            // this.ds.setData(items);\r\n            return items;\r\n        }\r\n\r\n        const filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n        // this.ds.setData(filteredList);\r\n\r\n        if (hasValue(filteredList)) {\r\n            return filteredList;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (let t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] !== '') {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (const prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}\r\n","// tslint:disable: directive-class-suffix\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: directive-selector\r\nimport { TemplateRef, Directive } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[sd-item]'\r\n})\r\nexport class SDItemDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[sd-badge]'\r\n})\r\nexport class SDBadgeDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[sd-search]'\r\n})\r\nexport class SDSearchDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n","import {\r\n\tComponent,\r\n\tContentChild,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tInject,\r\n\tOptional,\r\n\tInput,\r\n\tNgModule,\r\n\tNgZone,\r\n\tOnChanges,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tOutput,\r\n\tRenderer2,\r\n\tViewChild,\r\n\tChangeDetectorRef,\r\n\tInjectionToken\r\n} from '@angular/core';\r\n\r\nimport { PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformServer } from '@angular/common';\r\n\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport * as tween from '@tweenjs/tween.js'\r\nimport { VirtualScrollerDefaultOptions } from './defaultoptions';\r\nimport { IPageInfo } from './ipageinfo';\r\nimport { IViewport } from './iviewport';\r\n\r\nimport { WrapGroupDimensions } from './wrapgroupdimensions';\r\nimport { WrapGroupDimension } from './wrapgroupdimension';\r\n\r\nimport { IDimensions } from './idimension';\r\n\r\n \r\n\r\n\r\n\r\nexport function VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY(): VirtualScrollerDefaultOptions {\r\n\treturn {\r\n\t\tscrollThrottlingTime: 0,\r\n\t\tscrollDebounceTime: 0,\r\n\t\tscrollAnimationTime: 750,\r\n\t\tcheckResizeInterval: 1000,\r\n\t\tresizeBypassRefreshThreshold: 5,\r\n\t\tmodifyOverflowStyleOfParentScroll: true,\r\n\t\tstripedTable: false\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Component({\r\n\tselector: 'virtual-scroller,[virtualScroller]',\r\n\texportAs: 'virtualScroller',\r\n\ttemplate: `\r\n    <div class=\"total-padding\" #invisiblePadding></div>\r\n    <div class=\"scrollable-content\" #content>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `,\r\n\thost: {\r\n\t\t'[class.horizontal]': \"horizontal\",\r\n\t\t'[class.vertical]': \"!horizontal\",\r\n\t\t'[class.selfScroll]': \"!parentScroll\"\r\n\t},\r\n\tstyles: [`\r\n    :host {\r\n      position: relative;\r\n\t  display: block;\r\n      -webkit-overflow-scrolling: touch;\r\n    }\r\n\t\r\n\t:host.horizontal.selfScroll {\r\n      overflow-y: visible;\r\n      overflow-x: auto;\r\n\t}\r\n\t:host.vertical.selfScroll {\r\n      overflow-y: auto;\r\n      overflow-x: visible;\r\n\t}\r\n\t\r\n    .scrollable-content {\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      max-width: 100vw;\r\n      max-height: 100vh;\r\n      position: absolute;\r\n    }\r\n\r\n\t.scrollable-content ::ng-deep > * {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t:host.horizontal {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content ::ng-deep > * {\r\n\t\tflex-shrink: 0;\r\n\t\tflex-grow: 0;\r\n\t\twhite-space: initial;\r\n\t}\r\n\t\r\n    .total-padding {\r\n      width: 1px;\r\n      opacity: 0;\r\n    }\r\n    \r\n    :host.horizontal .total-padding {\r\n      height: 100%;\r\n    }\r\n  `]\r\n})\r\nexport class VirtualScrollerComponent implements OnInit, OnChanges, OnDestroy {\r\n\tpublic viewPortItems: any[];\r\n\tpublic window = window;\r\n\r\n\tpublic get viewPortInfo(): IPageInfo {\r\n\t\tlet pageInfo: IViewport = this.previousViewPort || <any>{};\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex || 0,\r\n\t\t\tendIndex: pageInfo.endIndex || 0,\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition || 0,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition || 0,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition || 0,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer || 0,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer || 0\r\n\t\t};\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic executeRefreshOutsideAngularZone: boolean = false;\r\n\r\n\tprotected _enableUnequalChildrenSizes: boolean = false;\r\n\t@Input()\r\n\tpublic get enableUnequalChildrenSizes(): boolean {\r\n\t\treturn this._enableUnequalChildrenSizes;\r\n\t}\r\n\tpublic set enableUnequalChildrenSizes(value: boolean) {\r\n\t\tif (this._enableUnequalChildrenSizes === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._enableUnequalChildrenSizes = value;\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic useMarginInsteadOfTranslate: boolean = false;\r\n\r\n\t@Input()\r\n\tpublic modifyOverflowStyleOfParentScroll: boolean;\r\n\r\n\t@Input()\r\n\tpublic stripedTable: boolean;\r\n\r\n\t@Input()\r\n\tpublic scrollbarWidth: number;\r\n\r\n\t@Input()\r\n\tpublic scrollbarHeight: number;\r\n\r\n\t@Input()\r\n\tpublic childWidth: number;\r\n\r\n\t@Input()\r\n\tpublic childHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildWidth: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportWidth: number = 1920;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportHeight: number = 1080;\r\n\r\n\tprotected _bufferAmount: number = 0;\r\n\t@Input()\r\n\tpublic get bufferAmount(): number {\r\n\t\tif (typeof (this._bufferAmount) === 'number' && this._bufferAmount >= 0) {\r\n\t\t\treturn this._bufferAmount;\r\n\t\t} else {\r\n\t\t\treturn this.enableUnequalChildrenSizes ? 5 : 0;\t\r\n\t\t}\r\n\t}\r\n\tpublic set bufferAmount(value: number) {\r\n\t\tthis._bufferAmount = value;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic scrollAnimationTime: number;\r\n\r\n\t@Input()\r\n\tpublic resizeBypassRefreshThreshold: number;\r\n\r\n\tprotected _scrollThrottlingTime: number;\r\n\t@Input()\r\n\tpublic get scrollThrottlingTime(): number {\r\n\t\treturn this._scrollThrottlingTime;\r\n\t}\r\n\tpublic set scrollThrottlingTime(value: number) {\r\n\t\tthis._scrollThrottlingTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected _scrollDebounceTime: number;\r\n\t@Input()\r\n\tpublic get scrollDebounceTime(): number {\r\n\t\treturn this._scrollDebounceTime;\r\n\t}\r\n\tpublic set scrollDebounceTime(value: number) {\r\n\t\tthis._scrollDebounceTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected onScroll: () => void;\r\n\tprotected updateOnScrollFunction(): void {\r\n\t\tif (this.scrollDebounceTime) {\r\n\t\t\tthis.onScroll = <any>this.debounce(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollDebounceTime);\r\n\t\t}\r\n\t\telse if (this.scrollThrottlingTime) {\r\n\t\t\tthis.onScroll = <any>this.throttleTrailing(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollThrottlingTime);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.onScroll = () => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tprotected checkScrollElementResizedTimer: number;\r\n\tprotected _checkResizeInterval: number;\r\n\t@Input()\r\n\tpublic get checkResizeInterval(): number {\r\n\t\treturn this._checkResizeInterval;\r\n\t}\r\n\tpublic set checkResizeInterval(value: number) {\r\n\t\tif (this._checkResizeInterval === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._checkResizeInterval = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tprotected _items: any[] = [];\r\n\t@Input()\r\n\tpublic get items(): any[] {\r\n\t\treturn this._items;\r\n\t}\r\n\tpublic set items(value: any[]) {\r\n\t\tif (value === this._items) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._items = value || [];\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic compareItems: (item1: any, item2: any) => boolean = (item1: any, item2: any) => item1 === item2;\r\n\r\n\tprotected _horizontal: boolean;\r\n\t@Input()\r\n\tpublic get horizontal(): boolean {\r\n\t\treturn this._horizontal;\r\n\t}\r\n\tpublic set horizontal(value: boolean) {\r\n\t\tthis._horizontal = value;\r\n\t\tthis.updateDirection();\r\n\t}\r\n\r\n\tprotected revertParentOverscroll(): void {\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (scrollElement && this.oldParentScrollOverflow) {\r\n\t\t\tscrollElement.style['overflow-y'] = this.oldParentScrollOverflow.y;\r\n\t\t\tscrollElement.style['overflow-x'] = this.oldParentScrollOverflow.x;\r\n\t\t}\r\n\r\n\t\tthis.oldParentScrollOverflow = undefined;\r\n\t}\r\n\r\n\tprotected oldParentScrollOverflow: { x: string, y: string };\r\n\tprotected _parentScroll: Element | Window;\r\n\t@Input()\r\n\tpublic get parentScroll(): Element | Window {\r\n\t\treturn this._parentScroll;\r\n\t}\r\n\tpublic set parentScroll(value: Element | Window) {\r\n\t\tif (this._parentScroll === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.revertParentOverscroll();\r\n\t\tthis._parentScroll = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (this.modifyOverflowStyleOfParentScroll && scrollElement !== this.element.nativeElement) {\r\n\t\t\tthis.oldParentScrollOverflow = { x: scrollElement.style['overflow-x'], y: scrollElement.style['overflow-y'] };\r\n\t\t\tscrollElement.style['overflow-y'] = this.horizontal ? 'visible' : 'auto';\r\n\t\t\tscrollElement.style['overflow-x'] = this.horizontal ? 'auto' : 'visible';\r\n\t\t}\r\n\t}\r\n\r\n\t@Output()\r\n\tpublic vsUpdate: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n\r\n\t@Output()\r\n\tpublic vsChange: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsStart: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsEnd: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@ViewChild('content', { read: ElementRef, static: false })\r\n\tprotected contentElementRef: ElementRef;\r\n\r\n\t@ViewChild('invisiblePadding', { read: ElementRef, static: false })\r\n\tprotected invisiblePaddingElementRef: ElementRef;\r\n\r\n\t@ContentChild('header', { read: ElementRef, static: false })\r\n\tprotected headerElementRef: ElementRef;\r\n\r\n\t@ContentChild('container', { read: ElementRef, static: false })\r\n\tprotected containerElementRef: ElementRef;\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis.removeScrollEventHandlers();\r\n\t\tthis.revertParentOverscroll();\r\n\t}\r\n\r\n\tpublic ngOnChanges(changes: any): void {\r\n\t\tlet indexLengthChanged = this.cachedItemsLength !== this.items.length;\r\n\t\tthis.cachedItemsLength = this.items.length;\r\n\r\n\t\tconst firstRun: boolean = !changes.items || !changes.items.previousValue || changes.items.previousValue.length === 0;\r\n\t\tthis.refresh_internal(indexLengthChanged || firstRun);\r\n\t}\r\n\r\n\t\r\n\tpublic ngDoCheck(): void {\r\n\t\tif (this.cachedItemsLength !== this.items.length) {\r\n\t\t\tthis.cachedItemsLength = this.items.length;\r\n\t\t\tthis.refresh_internal(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.previousViewPort && this.viewPortItems && this.viewPortItems.length > 0) {\r\n\t\t\tlet itemsArrayChanged = false;\r\n\t\t\tfor (let i = 0; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\tif (!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer + i], this.viewPortItems[i])) {\r\n\t\t\t\t\titemsArrayChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (itemsArrayChanged) {\r\n\t\t\t\tthis.refresh_internal(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic refresh(): void {\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\tpublic invalidateAllCachedMeasurements(): void {\r\n\t\tthis.wrapGroupDimensions = {\r\n\t\t\tmaxChildSizePerWrapGroup: [],\r\n\t\t\tnumberOfKnownWrapGroupChildSizes: 0,\r\n\t\t\tsumOfKnownWrapGroupChildWidths: 0,\r\n\t\t\tsumOfKnownWrapGroupChildHeights: 0\r\n\t\t};\r\n\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementForItem(item: any): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet index = this.items && this.items.indexOf(item);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tthis.invalidateCachedMeasurementAtIndex(index);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementAtIndex(index: number): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet cachedMeasurement = this.wrapGroupDimensions.maxChildSizePerWrapGroup[index];\r\n\t\t\tif (cachedMeasurement) {\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[index] = undefined;\r\n\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= cachedMeasurement.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= cachedMeasurement.childHeight || 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic scrollInto(item: any, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet index: number = this.items.indexOf(item);\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.scrollToIndex(index, alignToBeginning, additionalOffset, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToIndex(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet maxRetries: number = 5;\r\n\r\n\t\tlet retryIfNeeded = () => {\r\n\t\t\t--maxRetries;\r\n\t\t\tif (maxRetries <= 0) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet dimensions = this.calculateDimensions();\r\n\t\t\tlet desiredStartIndex = Math.min(Math.max(index, 0), dimensions.itemCount - 1);\r\n\t\t\tif (this.previousViewPort.startIndex === desiredStartIndex) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, 0, retryIfNeeded);\r\n\t\t};\r\n\r\n\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, animationMilliseconds, retryIfNeeded);\r\n\t}\r\n\r\n\tprotected scrollToIndex_internal(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet scroll = this.calculatePadding(index, dimensions) + additionalOffset;\r\n\t\tif (!alignToBeginning) {\r\n\t\t\tscroll -= dimensions.wrapGroupsPerPage * dimensions[this._childScrollDim];\r\n\t\t}\r\n\r\n\t\tthis.scrollToPosition(scroll, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToPosition(scrollPosition: number, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tscrollPosition += this.getElementsOffset();\r\n\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tlet animationRequest: number;\r\n\r\n\t\tif (this.currentTween) {\r\n\t\t\tthis.currentTween.stop();\r\n\t\t\tthis.currentTween = undefined;\r\n\t\t}\r\n\r\n\t\tif (!animationMilliseconds) {\r\n\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, scrollPosition);\r\n\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tweenConfigObj = { scrollPosition: scrollElement[this._scrollType] };\r\n\r\n\t\tlet newTween = new tween.Tween(tweenConfigObj)\r\n\t\t\t.to({ scrollPosition }, animationMilliseconds)\r\n\t\t\t.easing(tween.Easing.Quadratic.Out)\r\n\t\t\t.onUpdate((data) => {\r\n\t\t\t\tif (isNaN(data.scrollPosition)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, data.scrollPosition);\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t})\r\n\t\t\t.onStop(() => {\r\n\t\t\t\tcancelAnimationFrame(animationRequest);\r\n\t\t\t})\r\n\t\t\t.start();\r\n\r\n\t\tconst animate = (time?: number) => {\r\n\t\t\tif (!newTween[\"isPlaying\"]()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnewTween.update(time);\r\n\t\t\tif (tweenConfigObj.scrollPosition === scrollPosition) {\r\n\t\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\t\tanimationRequest = requestAnimationFrame(animate);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tanimate();\r\n\t\tthis.currentTween = newTween;\r\n\t}\r\n\r\n\tprotected isAngularUniversalSSR: boolean;\r\n\r\n\tconstructor(protected readonly element: ElementRef,\r\n\t\tprotected readonly renderer: Renderer2,\r\n\t\tprotected readonly zone: NgZone,\r\n\t\tprotected changeDetectorRef: ChangeDetectorRef,\r\n\t\t@Inject(PLATFORM_ID) platformId: Object,\r\n\t\t@Optional() @Inject('virtual-scroller-default-options')\r\n\t\toptions: VirtualScrollerDefaultOptions) {\r\n\t\t\t\r\n\t\tthis.isAngularUniversalSSR = isPlatformServer(platformId);\r\n\r\n\t\tthis.scrollThrottlingTime = options.scrollThrottlingTime;\r\n\t\tthis.scrollDebounceTime = options.scrollDebounceTime;\r\n\t\tthis.scrollAnimationTime = options.scrollAnimationTime;\r\n\t\tthis.scrollbarWidth = options.scrollbarWidth;\r\n\t\tthis.scrollbarHeight = options.scrollbarHeight;\r\n\t\tthis.checkResizeInterval = options.checkResizeInterval;\r\n\t\tthis.resizeBypassRefreshThreshold = options.resizeBypassRefreshThreshold;\r\n\t\tthis.modifyOverflowStyleOfParentScroll = options.modifyOverflowStyleOfParentScroll;\r\n\t\tthis.stripedTable = options.stripedTable;\r\n\r\n\t\tthis.horizontal = false;\r\n\t\tthis.resetWrapGroupDimensions();\r\n\t}\r\n\t\r\n\tprotected getElementSize(element: HTMLElement) : ClientRect {\r\n\t\tlet result = element.getBoundingClientRect();\r\n\t\tlet styles = getComputedStyle(element);\r\n\t\tlet marginTop = parseInt(styles['margin-top'], 10) || 0;\r\n\t\tlet marginBottom = parseInt(styles['margin-bottom'], 10) || 0;\r\n\t\tlet marginLeft = parseInt(styles['margin-left'], 10) || 0;\r\n\t\tlet marginRight = parseInt(styles['margin-right'], 10) || 0;\r\n\t\t\r\n\t\treturn {\r\n\t\t\ttop: result.top + marginTop,\r\n\t\t\tbottom: result.bottom + marginBottom,\r\n\t\t\tleft: result.left + marginLeft,\r\n\t\t\tright: result.right + marginRight,\r\n\t\t\twidth: result.width + marginLeft + marginRight,\r\n\t\t\theight: result.height + marginTop + marginBottom\r\n\t\t};\r\n\t}\r\n\r\n\tprotected previousScrollBoundingRect: ClientRect;\r\n\tprotected checkScrollElementResized(): void {\r\n\t\tlet boundingRect = this.getElementSize(this.getScrollElement());\r\n\r\n\t\tlet sizeChanged: boolean;\r\n\t\tif (!this.previousScrollBoundingRect) {\r\n\t\t\tsizeChanged = true;\r\n\t\t} else {\r\n\t\t\tlet widthChange = Math.abs(boundingRect.width - this.previousScrollBoundingRect.width);\r\n\t\t\tlet heightChange = Math.abs(boundingRect.height - this.previousScrollBoundingRect.height);\r\n\t\t\tsizeChanged = widthChange > this.resizeBypassRefreshThreshold || heightChange > this.resizeBypassRefreshThreshold;\r\n\t\t}\r\n\r\n\t\tif (sizeChanged) {\r\n\t\t\tthis.previousScrollBoundingRect = boundingRect;\r\n\t\t\tif (boundingRect.width > 0 && boundingRect.height > 0) {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _invisiblePaddingProperty;\r\n\tprotected _offsetType;\r\n\tprotected _scrollType;\r\n\tprotected _pageOffsetType;\r\n\tprotected _childScrollDim;\r\n\tprotected _translateDir;\r\n\tprotected _marginDir;\r\n\tprotected updateDirection(): void {\r\n\t\tif (this.horizontal) {\r\n\t\t\tthis._invisiblePaddingProperty = 'width';\r\n\t\t\tthis._offsetType = 'offsetLeft';\r\n\t\t\tthis._pageOffsetType = 'pageXOffset';\r\n\t\t\tthis._childScrollDim = 'childWidth';\r\n\t\t\tthis._marginDir = 'margin-left';\r\n\t\t\tthis._translateDir = 'translateX';\r\n\t\t\tthis._scrollType = 'scrollLeft';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._invisiblePaddingProperty = 'height';\r\n\t\t\tthis._offsetType = 'offsetTop';\r\n\t\t\tthis._pageOffsetType = 'pageYOffset';\r\n\t\t\tthis._childScrollDim = 'childHeight';\r\n\t\t\tthis._marginDir = 'margin-top';\r\n\t\t\tthis._translateDir = 'translateY';\r\n\t\t\tthis._scrollType = 'scrollTop';\r\n\t\t}\r\n\t}\r\n\r\n\tprotected debounce(func: Function, wait: number): Function {\r\n\t\tconst throttled = this.throttleTrailing(func, wait);\r\n\t\tconst result = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t\tthrottled.apply(this, arguments);\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected throttleTrailing(func: Function, wait: number): Function {\r\n\t\tlet timeout = undefined;\r\n\t\tlet _arguments = arguments;\r\n\t\tconst result = function () {\r\n\t\t\tconst _this = this;\r\n\t\t\t_arguments = arguments\r\n\r\n\t\t\tif (timeout) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (wait <= 0) {\r\n\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t} else {\r\n\t\t\t\ttimeout = setTimeout(function () {\r\n\t\t\t\t\ttimeout = undefined;\r\n\t\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t\t}, wait);\r\n\t\t\t}\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = undefined;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatedScrollbarWidth: number = 0;\r\n\tprotected calculatedScrollbarHeight: number = 0;\r\n\r\n\tprotected padding: number = 0;\r\n\tprotected previousViewPort: IViewport = <any>{};\r\n\tprotected currentTween: tween.Tween;\r\n\tprotected cachedItemsLength: number;\r\n\r\n\tprotected disposeScrollHandler: () => void | undefined;\r\n\tprotected disposeResizeHandler: () => void | undefined;\r\n\r\n\tprotected refresh_internal(itemsArrayModified: boolean, refreshCompletedCallback: () => void = undefined, maxRunTimes: number = 2): void {\r\n\t\t//note: maxRunTimes is to force it to keep recalculating if the previous iteration caused a re-render (different sliced items in viewport or scrollPosition changed).\r\n\t\t//The default of 2x max will probably be accurate enough without causing too large a performance bottleneck\r\n\t\t//The code would typically quit out on the 2nd iteration anyways. The main time it'd think more than 2 runs would be necessary would be for vastly different sized child items or if this is the 1st time the items array was initialized.\r\n\t\t//Without maxRunTimes, If the user is actively scrolling this code would become an infinite loop until they stopped scrolling. This would be okay, except each scroll event would start an additional infinte loop. We want to short-circuit it to prevent this.\r\n\r\n\t\tif (itemsArrayModified && this.previousViewPort && this.previousViewPort.scrollStartPosition > 0) {\r\n\t\t//if items were prepended, scroll forward to keep same items visible\r\n\t\t\tlet oldViewPort = this.previousViewPort;\r\n\t\t\tlet oldViewPortItems = this.viewPortItems;\r\n\t\t\t\r\n\t\t\tlet oldRefreshCompletedCallback = refreshCompletedCallback;\r\n\t\t\trefreshCompletedCallback = () => {\r\n\t\t\t\tlet scrollLengthDelta = this.previousViewPort.scrollLength - oldViewPort.scrollLength;\r\n\t\t\t\tif (scrollLengthDelta > 0 && this.viewPortItems) {\r\n\t\t\t\t\tlet oldStartItem = oldViewPortItems[0];\r\n\t\t\t\t\tlet oldStartItemIndex = this.items.findIndex(x => this.compareItems(oldStartItem, x));\r\n\t\t\t\t\tif (oldStartItemIndex > this.previousViewPort.startIndexWithBuffer) {\r\n\t\t\t\t\t\tlet itemOrderChanged = false;\r\n\t\t\t\t\t\tfor (let i = 1; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\t\t\t\tif (!this.compareItems(this.items[oldStartItemIndex + i], oldViewPortItems[i])) {\r\n\t\t\t\t\t\t\t\titemOrderChanged = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!itemOrderChanged) {\r\n\t\t\t\t\t\t\tthis.scrollToPosition(this.previousViewPort.scrollStartPosition + scrollLengthDelta , 0, oldRefreshCompletedCallback);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (oldRefreshCompletedCallback) {\r\n\t\t\t\t\toldRefreshCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\t\t\t\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\trequestAnimationFrame(() => {\r\n\r\n\t\t\t\tif (itemsArrayModified) {\r\n\t\t\t\t\tthis.resetWrapGroupDimensions();\r\n\t\t\t\t}\r\n\t\t\t\tlet viewport = this.calculateViewport();\r\n\r\n\t\t\t\tlet startChanged = itemsArrayModified || viewport.startIndex !== this.previousViewPort.startIndex;\r\n\t\t\t\tlet endChanged = itemsArrayModified || viewport.endIndex !== this.previousViewPort.endIndex;\r\n\t\t\t\tlet scrollLengthChanged = viewport.scrollLength !== this.previousViewPort.scrollLength;\r\n\t\t\t\tlet paddingChanged = viewport.padding !== this.previousViewPort.padding;\r\n\t\t\t\tlet scrollPositionChanged = viewport.scrollStartPosition !== this.previousViewPort.scrollStartPosition || viewport.scrollEndPosition !== this.previousViewPort.scrollEndPosition || viewport.maxScrollPosition !== this.previousViewPort.maxScrollPosition;\r\n\r\n\t\t\t\tthis.previousViewPort = viewport;\r\n\r\n\t\t\t\tif (scrollLengthChanged) {\r\n\t\t\t\t\tthis.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement, this._invisiblePaddingProperty, `${viewport.scrollLength}px`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (paddingChanged) {\r\n\t\t\t\t\tif (this.useMarginInsteadOfTranslate) {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, this._marginDir, `${viewport.padding}px`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'transform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.headerElementRef) {\r\n\t\t\t\t\tlet scrollPosition = this.getScrollElement()[this._scrollType];\r\n\t\t\t\t\tlet containerOffset = this.getElementsOffset();\r\n\t\t\t\t\tlet offset = Math.max(scrollPosition - viewport.padding - containerOffset + this.headerElementRef.nativeElement.clientHeight, 0);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'transform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst changeEventArg: IPageInfo = (startChanged || endChanged) ? {\r\n\t\t\t\t\tstartIndex: viewport.startIndex,\r\n\t\t\t\t\tendIndex: viewport.endIndex,\r\n\t\t\t\t\tscrollStartPosition: viewport.scrollStartPosition,\r\n\t\t\t\t\tscrollEndPosition: viewport.scrollEndPosition,\r\n\t\t\t\t\tstartIndexWithBuffer: viewport.startIndexWithBuffer,\r\n\t\t\t\t\tendIndexWithBuffer: viewport.endIndexWithBuffer,\r\n\t\t\t\t\tmaxScrollPosition: viewport.maxScrollPosition\r\n\t\t\t\t} : undefined;\r\n\r\n\r\n\t\t\t\tif (startChanged || endChanged || scrollPositionChanged) {\r\n\t\t\t\t\tconst handleChanged = () => {\r\n\t\t\t\t\t\t// update the scroll list to trigger re-render of components in viewport\r\n\t\t\t\t\t\tthis.viewPortItems = viewport.startIndexWithBuffer >= 0 && viewport.endIndexWithBuffer >= 0 ? this.items.slice(viewport.startIndexWithBuffer, viewport.endIndexWithBuffer + 1) : [];\r\n\t\t\t\t\t\tthis.vsUpdate.emit(this.viewPortItems);\r\n\r\n\t\t\t\t\t\tif (startChanged) {\r\n\t\t\t\t\t\t\tthis.vsStart.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (endChanged) {\r\n\t\t\t\t\t\t\tthis.vsEnd.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (startChanged || endChanged) {\r\n\t\t\t\t\t\t\tthis.changeDetectorRef.markForCheck();\r\n\t\t\t\t\t\t\tthis.vsChange.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (maxRunTimes > 0) {\r\n\t\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tif (this.executeRefreshOutsideAngularZone) {\r\n\t\t\t\t\t\thandleChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.zone.run(handleChanged);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (maxRunTimes > 0 && (scrollLengthChanged || paddingChanged)) {\r\n\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprotected getScrollElement(): HTMLElement {\r\n\t\treturn this.parentScroll instanceof Window ? document.scrollingElement || document.documentElement || document.body : this.parentScroll || this.element.nativeElement;\r\n\t}\r\n\r\n\tprotected addScrollEventHandlers(): void {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tthis.removeScrollEventHandlers();\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen('window', 'scroll', this.onScroll);\r\n\t\t\t\tthis.disposeResizeHandler = this.renderer.listen('window', 'resize', this.onScroll);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen(scrollElement, 'scroll', this.onScroll);\r\n\t\t\t\tif (this._checkResizeInterval > 0) {\r\n\t\t\t\t\tthis.checkScrollElementResizedTimer = <any>setInterval(() => { this.checkScrollElementResized(); }, this._checkResizeInterval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprotected removeScrollEventHandlers(): void {\r\n\t\tif (this.checkScrollElementResizedTimer) {\r\n\t\t\tclearInterval(this.checkScrollElementResizedTimer);\r\n\t\t}\r\n\r\n\t\tif (this.disposeScrollHandler) {\r\n\t\t\tthis.disposeScrollHandler();\r\n\t\t\tthis.disposeScrollHandler = undefined;\r\n\t\t}\r\n\r\n\t\tif (this.disposeResizeHandler) {\r\n\t\t\tthis.disposeResizeHandler();\r\n\t\t\tthis.disposeResizeHandler = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getElementsOffset(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet offset = 0;\r\n\r\n\t\tif (this.containerElementRef && this.containerElementRef.nativeElement) {\r\n\t\t\toffset += this.containerElementRef.nativeElement[this._offsetType];\r\n\t\t}\r\n\r\n\t\tif (this.parentScroll) {\r\n\t\t\tlet scrollElement = this.getScrollElement();\r\n\t\t\tlet elementClientRect = this.getElementSize(this.element.nativeElement);\r\n\t\t\tlet scrollClientRect = this.getElementSize(scrollElement);\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\toffset += elementClientRect.left - scrollClientRect.left;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\toffset += elementClientRect.top - scrollClientRect.top;\r\n\t\t\t}\r\n\r\n\t\t\tif (!(this.parentScroll instanceof Window)) {\r\n\t\t\t\toffset += scrollElement[this._scrollType];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn offset;\r\n\t}\r\n\r\n\tprotected countItemsPerWrapGroup(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn Math.round(this.horizontal ? this.ssrViewportHeight / this.ssrChildHeight : this.ssrViewportWidth / this.ssrChildWidth);\r\n\t\t}\r\n\r\n\t\tlet propertyName = this.horizontal ? 'offsetLeft' : 'offsetTop';\r\n\t\tlet children = ((this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement).children;\r\n\r\n\t\tlet childrenLength = children ? children.length : 0;\r\n\t\tif (childrenLength === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tlet firstOffset = children[0][propertyName];\r\n\t\tlet result = 1;\r\n\t\twhile (result < childrenLength && firstOffset === children[result][propertyName]) {\r\n\t\t\t++result;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getScrollStartPosition(): number {\r\n\t\tlet windowScrollValue = undefined;\r\n\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\twindowScrollValue = window[this._pageOffsetType];\r\n\t\t}\r\n\r\n\t\treturn windowScrollValue || this.getScrollElement()[this._scrollType] || 0;\r\n\t}\r\n\r\n\tprotected minMeasuredChildWidth: number;\r\n\tprotected minMeasuredChildHeight: number;\r\n\r\n\tprotected wrapGroupDimensions: WrapGroupDimensions;\r\n\r\n\tprotected resetWrapGroupDimensions(): void {\r\n\t\tconst oldWrapGroupDimensions = this.wrapGroupDimensions;\r\n\t\tthis.invalidateAllCachedMeasurements();\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes || !oldWrapGroupDimensions || oldWrapGroupDimensions.numberOfKnownWrapGroupChildSizes === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst itemsPerWrapGroup: number = this.countItemsPerWrapGroup();\r\n\t\tfor (let wrapGroupIndex = 0; wrapGroupIndex < oldWrapGroupDimensions.maxChildSizePerWrapGroup.length; ++wrapGroupIndex) {\r\n\t\t\tconst oldWrapGroupDimension: WrapGroupDimension = oldWrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\tif (!oldWrapGroupDimension || !oldWrapGroupDimension.items || !oldWrapGroupDimension.items.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (oldWrapGroupDimension.items.length !== itemsPerWrapGroup) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet itemsChanged = false;\r\n\t\t\tlet arrayStartIndex = itemsPerWrapGroup * wrapGroupIndex;\r\n\t\t\tfor (let i = 0; i < itemsPerWrapGroup; ++i) {\r\n\t\t\t\tif (!this.compareItems(oldWrapGroupDimension.items[i], this.items[arrayStartIndex + i])) {\r\n\t\t\t\t\titemsChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!itemsChanged) {\r\n\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += oldWrapGroupDimension.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += oldWrapGroupDimension.childHeight || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = oldWrapGroupDimension;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected calculateDimensions(): IDimensions {\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tconst maxCalculatedScrollBarSize: number = 25; // Note: Formula to auto-calculate doesn't work for ParentScroll, so we default to this if not set by consuming application\r\n\t\tthis.calculatedScrollbarHeight = Math.max(Math.min(scrollElement.offsetHeight - scrollElement.clientHeight, maxCalculatedScrollBarSize), this.calculatedScrollbarHeight);\r\n\t\tthis.calculatedScrollbarWidth = Math.max(Math.min(scrollElement.offsetWidth - scrollElement.clientWidth, maxCalculatedScrollBarSize), this.calculatedScrollbarWidth);\r\n\r\n\t\tlet viewportWidth = scrollElement.offsetWidth - (this.scrollbarWidth || this.calculatedScrollbarWidth || (this.horizontal ? 0 : maxCalculatedScrollBarSize));\r\n\t\tlet viewportHeight = scrollElement.offsetHeight - (this.scrollbarHeight || this.calculatedScrollbarHeight || (this.horizontal ? maxCalculatedScrollBarSize : 0));\r\n\r\n\t\tlet content = (this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement;\r\n\r\n\t\tlet itemsPerWrapGroup = this.countItemsPerWrapGroup();\r\n\t\tlet wrapGroupsPerPage;\r\n\r\n\t\tlet defaultChildWidth;\r\n\t\tlet defaultChildHeight;\r\n\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\tviewportWidth = this.ssrViewportWidth;\r\n\t\t\tviewportHeight = this.ssrViewportHeight;\r\n\t\t\tdefaultChildWidth = this.ssrChildWidth;\r\n\t\t\tdefaultChildHeight = this.ssrChildHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t}\r\n\t\telse if (!this.enableUnequalChildrenSizes) {\r\n\t\t\tif (content.children.length > 0) {\r\n\t\t\t\tif (!this.childWidth || !this.childHeight) {\r\n\t\t\t\t\tif (!this.minMeasuredChildWidth && viewportWidth > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildWidth = viewportWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.minMeasuredChildHeight && viewportHeight > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildHeight = viewportHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet child = content.children[0];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\t\t\t\tthis.minMeasuredChildWidth = Math.min(this.minMeasuredChildWidth, clientRect.width);\r\n\t\t\t\tthis.minMeasuredChildHeight = Math.min(this.minMeasuredChildHeight, clientRect.height);\r\n\t\t\t}\r\n\r\n\t\t\tdefaultChildWidth = this.childWidth || this.minMeasuredChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || this.minMeasuredChildHeight || viewportHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t} else {\r\n\t\t\tlet scrollOffset = scrollElement[this._scrollType] - (this.previousViewPort ? this.previousViewPort.padding : 0);\r\n\r\n\t\t\tlet arrayStartIndex = this.previousViewPort.startIndexWithBuffer || 0;\r\n\t\t\tlet wrapGroupIndex = Math.ceil(arrayStartIndex / itemsPerWrapGroup);\r\n\r\n\t\t\tlet maxWidthForWrapGroup = 0;\r\n\t\t\tlet maxHeightForWrapGroup = 0;\r\n\t\t\tlet sumOfVisibleMaxWidths = 0;\r\n\t\t\tlet sumOfVisibleMaxHeights = 0;\r\n\t\t\twrapGroupsPerPage = 0;\r\n\r\n\t\t\tfor (let i = 0; i < content.children.length; ++i) {\r\n\t\t\t\t++arrayStartIndex;\r\n\t\t\t\tlet child = content.children[i];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\r\n\t\t\t\tmaxWidthForWrapGroup = Math.max(maxWidthForWrapGroup, clientRect.width);\r\n\t\t\t\tmaxHeightForWrapGroup = Math.max(maxHeightForWrapGroup, clientRect.height);\r\n\r\n\t\t\t\tif (arrayStartIndex % itemsPerWrapGroup === 0) {\r\n\t\t\t\t\tlet oldValue = this.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\t\t\tif (oldValue) {\r\n\t\t\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= oldValue.childWidth || 0;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= oldValue.childHeight || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\tconst items = this.items.slice(arrayStartIndex - itemsPerWrapGroup, arrayStartIndex);\r\n\t\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = {\r\n\t\t\t\t\t\tchildWidth: maxWidthForWrapGroup,\r\n\t\t\t\t\t\tchildHeight: maxHeightForWrapGroup,\r\n\t\t\t\t\t\titems: items\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += maxWidthForWrapGroup;\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += maxHeightForWrapGroup;\r\n\r\n\t\t\t\t\tif (this.horizontal) {\r\n\t\t\t\t\t\tlet maxVisibleWidthForWrapGroup = Math.min(maxWidthForWrapGroup, Math.max(viewportWidth - sumOfVisibleMaxWidths, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleWidthForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleWidthForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxWidths += maxVisibleWidthForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleWidthForWrapGroup > 0 && viewportWidth >= sumOfVisibleMaxWidths) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet maxVisibleHeightForWrapGroup = Math.min(maxHeightForWrapGroup, Math.max(viewportHeight - sumOfVisibleMaxHeights, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleHeightForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleHeightForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxHeights += maxVisibleHeightForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleHeightForWrapGroup > 0 && viewportHeight >= sumOfVisibleMaxHeights) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++wrapGroupIndex;\r\n\r\n\t\t\t\t\tmaxWidthForWrapGroup = 0;\r\n\t\t\t\t\tmaxHeightForWrapGroup = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet averageChildWidth = this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tlet averageChildHeight = this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tdefaultChildWidth = this.childWidth || averageChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || averageChildHeight || viewportHeight;\r\n\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\tif (viewportWidth > sumOfVisibleMaxWidths) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportWidth - sumOfVisibleMaxWidths) / defaultChildWidth);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (viewportHeight > sumOfVisibleMaxHeights) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportHeight - sumOfVisibleMaxHeights) / defaultChildHeight);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet itemCount = this.items.length;\r\n\t\tlet itemsPerPage = itemsPerWrapGroup * wrapGroupsPerPage;\r\n\t\tlet pageCount_fractional = itemCount / itemsPerPage;\r\n\t\tlet numberOfWrapGroups = Math.ceil(itemCount / itemsPerWrapGroup);\r\n\r\n\t\tlet scrollLength = 0;\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = this.horizontal ? defaultChildWidth : defaultChildHeight;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet numUnknownChildSizes = 0;\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\tscrollLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscrollLength += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\t\t} else {\r\n\t\t\tscrollLength = numberOfWrapGroups * defaultScrollLengthPerWrapGroup;\r\n\t\t}\r\n\r\n\t\tif (this.headerElementRef) {\r\n\t\t\tscrollLength += this.headerElementRef.nativeElement.clientHeight;\r\n\t\t}\r\n\r\n\t\tlet viewportLength = this.horizontal ? viewportWidth : viewportHeight;\r\n\t\tlet maxScrollPosition = Math.max(scrollLength - viewportLength, 0);\r\n\r\n\t\treturn {\r\n\t\t\titemCount: itemCount,\r\n\t\t\titemsPerWrapGroup: itemsPerWrapGroup,\r\n\t\t\twrapGroupsPerPage: wrapGroupsPerPage,\r\n\t\t\titemsPerPage: itemsPerPage,\r\n\t\t\tpageCount_fractional: pageCount_fractional,\r\n\t\t\tchildWidth: defaultChildWidth,\r\n\t\t\tchildHeight: defaultChildHeight,\r\n\t\t\tscrollLength: scrollLength,\r\n\t\t\tviewportLength: viewportLength,\r\n\t\t\tmaxScrollPosition: maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected cachedPageSize: number = 0;\r\n\tprotected previousScrollNumberElements: number = 0;\r\n\r\n\tprotected calculatePadding(arrayStartIndexWithBuffer: number, dimensions: IDimensions): number {\r\n\t\tif (dimensions.itemCount === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\tlet startingWrapGroupIndex = Math.floor(arrayStartIndexWithBuffer / dimensions.itemsPerWrapGroup) || 0;\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes) {\r\n\t\t\treturn defaultScrollLengthPerWrapGroup * startingWrapGroupIndex;\r\n\t\t}\r\n\r\n\t\tlet numUnknownChildSizes = 0;\r\n\t\tlet result = 0;\r\n\t\tfor (let i = 0; i < startingWrapGroupIndex; ++i) {\r\n\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\tif (childSize) {\r\n\t\t\t\tresult += childSize;\r\n\t\t\t} else {\r\n\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatePageInfo(scrollPosition: number, dimensions: IDimensions): IPageInfo {\r\n\t\tlet scrollPercentage = 0;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tconst numberOfWrapGroups = Math.ceil(dimensions.itemCount / dimensions.itemsPerWrapGroup);\r\n\t\t\tlet totalScrolledLength = 0;\r\n\t\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\ttotalScrolledLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotalScrolledLength += defaultScrollLengthPerWrapGroup;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollPosition < totalScrolledLength) {\r\n\t\t\t\t\tscrollPercentage = i / numberOfWrapGroups;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tscrollPercentage = scrollPosition / dimensions.scrollLength;\r\n\t\t}\r\n\r\n\t\tlet startingArrayIndex_fractional = Math.min(Math.max(scrollPercentage * dimensions.pageCount_fractional, 0), dimensions.pageCount_fractional) * dimensions.itemsPerPage;\r\n\r\n\t\tlet maxStart = dimensions.itemCount - dimensions.itemsPerPage - 1;\r\n\t\tlet arrayStartIndex = Math.min(Math.floor(startingArrayIndex_fractional), maxStart);\r\n\t\tarrayStartIndex -= arrayStartIndex % dimensions.itemsPerWrapGroup; // round down to start of wrapGroup\r\n\r\n\t\tif (this.stripedTable) {\r\n\t\t\tlet bufferBoundary = 2 * dimensions.itemsPerWrapGroup;\r\n\t\t\tif (arrayStartIndex % bufferBoundary !== 0) {\r\n\t\t\t\tarrayStartIndex = Math.max(arrayStartIndex - arrayStartIndex % bufferBoundary, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet arrayEndIndex = Math.ceil(startingArrayIndex_fractional) + dimensions.itemsPerPage - 1;\r\n\t\tlet endIndexWithinWrapGroup = (arrayEndIndex + 1) % dimensions.itemsPerWrapGroup;\r\n\t\tif (endIndexWithinWrapGroup > 0) {\r\n\t\t\tarrayEndIndex += dimensions.itemsPerWrapGroup - endIndexWithinWrapGroup; // round up to end of wrapGroup\r\n\t\t}\r\n\r\n\t\tif (isNaN(arrayStartIndex)) {\r\n\t\t\tarrayStartIndex = 0;\r\n\t\t}\r\n\t\tif (isNaN(arrayEndIndex)) {\r\n\t\t\tarrayEndIndex = 0;\r\n\t\t}\r\n\r\n\t\tarrayStartIndex = Math.min(Math.max(arrayStartIndex, 0), dimensions.itemCount - 1);\r\n\t\tarrayEndIndex = Math.min(Math.max(arrayEndIndex, 0), dimensions.itemCount - 1);\r\n\r\n\t\tlet bufferSize = this.bufferAmount * dimensions.itemsPerWrapGroup;\r\n\t\tlet startIndexWithBuffer = Math.min(Math.max(arrayStartIndex - bufferSize, 0), dimensions.itemCount - 1);\r\n\t\tlet endIndexWithBuffer = Math.min(Math.max(arrayEndIndex + bufferSize, 0), dimensions.itemCount - 1);\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: arrayStartIndex,\r\n\t\t\tendIndex: arrayEndIndex,\r\n\t\t\tstartIndexWithBuffer: startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: endIndexWithBuffer,\r\n\t\t\tscrollStartPosition: scrollPosition,\r\n\t\t\tscrollEndPosition: scrollPosition + dimensions.viewportLength,\r\n\t\t\tmaxScrollPosition: dimensions.maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected calculateViewport(): IViewport {\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet offset = this.getElementsOffset();\r\n\r\n\t\tlet scrollStartPosition = this.getScrollStartPosition();\r\n\t\tif (scrollStartPosition > (dimensions.scrollLength + offset) && !(this.parentScroll instanceof Window)) {\r\n\t\t\tscrollStartPosition = dimensions.scrollLength;\r\n\t\t} else {\r\n\t\t\tscrollStartPosition -= offset;\r\n\t\t}\r\n\t\tscrollStartPosition = Math.max(0, scrollStartPosition);\r\n\r\n\t\tlet pageInfo = this.calculatePageInfo(scrollStartPosition, dimensions);\r\n\t\tlet newPadding = this.calculatePadding(pageInfo.startIndexWithBuffer, dimensions);\r\n\t\tlet newScrollLength = dimensions.scrollLength;\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex,\r\n\t\t\tendIndex: pageInfo.endIndex,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer,\r\n\t\t\tpadding: Math.round(newPadding),\r\n\t\t\tscrollLength: Math.round(newScrollLength),\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\texports: [VirtualScrollerComponent],\r\n\tdeclarations: [VirtualScrollerComponent],\r\n\timports: [CommonModule],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: 'virtual-scroller-default-options',\r\n\t\t\tuseFactory: VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY\r\n\t\t}\r\n\t]\r\n})\r\nexport class VirtualScrollerModule { }","// tslint:disable: no-use-before-declare\r\n// tslint:disable: no-host-metadata-property\r\n// tslint:disable: max-line-length\r\n// tslint:disable: no-output-rename\r\n// tslint:disable: no-output-on-prefix\r\n// tslint:disable: prefer-const\r\n// tslint:disable: no-conflicting-lifecycle\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: component-selector\r\n\r\nimport { Attribute, HostBinding, Optional, Renderer2 } from '@angular/core';\r\nimport { Component, OnInit, OnDestroy, SimpleChanges, OnChanges, ChangeDetectorRef, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { DropdownSettings } from './ser-select.interface';\r\nimport { SerSelectListFilterPipe } from './ser-select-list-filter.pipe';\r\nimport { SDItemDirective, SDBadgeDirective, SDSearchDirective } from './ser-select-menu-item.directive';\r\nimport { DataService } from './ser-select.service';\r\nimport { Subscription, Subject, fromEvent } from 'rxjs';\r\nimport { VirtualScrollerComponent } from './virtual-scroll/virtual-scroll';\r\nimport { debounceTime, distinctUntilChanged, tap, filter } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\nimport { inArray } from '../../utils/array';\r\n\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'ser-select',\r\n    templateUrl: './ser-select.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => SerSelectComponent),\r\n            multi: true\r\n        },\r\n        {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => SerSelectComponent),\r\n            multi: true,\r\n        }\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerSelectComponent implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewInit, OnDestroy {\r\n\r\n    @Input() data = [];\r\n\r\n    @Input() settings: DropdownSettings;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(SDItemDirective, { static: true }) itemTempl: SDItemDirective;\r\n    @ContentChild(SDBadgeDirective, { static: true }) badgeTempl: SDBadgeDirective;\r\n    @ContentChild(SDSearchDirective, { static: true }) searchTempl: SDSearchDirective;\r\n\r\n\r\n    @ViewChild('searchInput') searchInput: ElementRef;\r\n    @ViewChild('selectedList') selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\r\n\r\n    @HostBinding('class.disabled') isDisabled = false;\r\n    @HostBinding('class.active') isActive = false;\r\n    @HostBinding('class.multiple') multipleClass = false;\r\n\r\n    virtualdata: any = [];\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: SerSelectListFilterPipe;\r\n    selectedItems: any[] = [];\r\n    isSelectAll = false;\r\n    isFilterSelectAll = false;\r\n    isInfiniteFilterSelectAll = false;\r\n    groupedData: any[];\r\n    filter: any;\r\n    chunkArray: any[];\r\n    scrollTop: any;\r\n    chunkIndex: any[] = [];\r\n    cachedItems: any[] = [];\r\n    groupCachedItems: any[] = [];\r\n    totalRows: any;\r\n    itemHeight: any = 41.6;\r\n    screenItemsLen: any;\r\n    cachedItemsLen: any;\r\n    totalHeight: any;\r\n    scroller: any;\r\n    maxBuffer: any;\r\n    lastScrolled: any;\r\n    lastRepaintY: any;\r\n    selectedListHeight: any;\r\n    filterLength: any = 0;\r\n    infiniteFilterLength: any = 0;\r\n    viewPortItems: any;\r\n    item: any;\r\n\r\n    private dropdownSubs: Subscription[] = [];\r\n    private subscription: Subscription;\r\n    defaultSettings: DropdownSettings = {\r\n        singleSelection: true,\r\n        enableCheckAll: true,\r\n        selectAllText: 'Seleccionar todo',\r\n        unSelectAllText: 'Deseleccionar todo',\r\n        filterSelectAllText: 'Seleccionar todos los resultados filtrados',\r\n        filterUnSelectAllText: 'Deseleccionar todos los resultados filtrados',\r\n        enableSearchFilter: true,\r\n        searchBy: ['name'],\r\n        maxHeight: 300,\r\n        badgeShowLimit: 999999999999,\r\n        classes: '',\r\n        searchPlaceholderText: 'Buscar',\r\n        showCheckbox: true,\r\n        noDataLabel: 'Sin datos disponibles',\r\n        lazyLoading: false,\r\n        labelKey: 'name',\r\n        primaryKey: 'id',\r\n        disabledKey: 'disabled',\r\n        enableFilterSelectAll: true,\r\n        selectGroup: false,\r\n        addNewItemOnFilter: false,\r\n        addNewButtonText: 'Agregar',\r\n        escapeToClose: true,\r\n        clearAll: true\r\n    };\r\n\r\n    randomSize = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    virtualScroollInit = false;\r\n    @ViewChild(VirtualScrollerComponent, { static: false })\r\n    private virtualScroller: VirtualScrollerComponent;\r\n    public isDisabledItemPresent = false;\r\n\r\n    hasValue = hasValue;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private ds: DataService, private _renderer: Renderer2, @Optional() @Attribute('multiple') multipleAttr: any,\r\n                @Optional() @Attribute('simple') simple: any, @Optional() @Attribute('primaryKey') primaryKey: any, @Optional() @Attribute('labelKey') labelKey: any) {\r\n\r\n        this.multiple = multipleAttr !== null;\r\n\r\n        if (this.multiple) {\r\n            this.defaultSettings.singleSelection = false;\r\n        }\r\n\r\n        if (simple !== null) {\r\n            this.defaultSettings.enableSearchFilter = false;\r\n            this.defaultSettings.clearAll = false;\r\n        }\r\n\r\n        if (primaryKey !== null) {\r\n            this.defaultSettings.primaryKey = primaryKey;\r\n        }\r\n\r\n        if (labelKey !== null) {\r\n            this.defaultSettings.labelKey = labelKey;\r\n        }\r\n\r\n        this.searchTerm$.asObservable().pipe(\r\n            debounceTime(1000),\r\n            distinctUntilChanged(),\r\n            tap(term => term)\r\n        ).subscribe(val => {\r\n            this.filterInfiniteList(val);\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n\r\n        this.multipleClass = !this.settings.singleSelection;\r\n\r\n        this.cachedItems = this.cloneArray(this.data);\r\n\r\n        this.subscription = this.ds.getData().subscribe(data => {\r\n            if (data) {\r\n                let len = 0;\r\n                data.forEach((obj: any) => {\r\n                    if (obj[this.settings.disabledKey]) {\r\n                        this.isDisabledItemPresent = true;\r\n                    }\r\n                    if (!obj.hasOwnProperty('grpTitle')) {\r\n                        len++;\r\n                    }\r\n                });\r\n                this.filterLength = len;\r\n                this.onFilterChange(data);\r\n            }\r\n\r\n        });\r\n\r\n        this.virtualScroollInit = false;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes.data && !changes.data.firstChange) {\r\n\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n\r\n                if (this.data.length === 0) {\r\n                    this.selectedItems = [];\r\n                }\r\n\r\n                this.groupCachedItems = this.cloneArray(this.groupedData);\r\n            }\r\n\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n\r\n        if (changes.loading) {\r\n        }\r\n\r\n        if (this.settings?.lazyLoading && this.virtualScroollInit && changes.data) {\r\n            this.virtualdata = changes.data.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    onItemClick(item: any, k: number, e: any) {\r\n\r\n        if (this.isDisabled || item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n        let limit = this.selectedItems.length < this.settings.limitSelection ? true : false;\r\n\r\n        if (!found) {\r\n            if (this.settings.limitSelection) {\r\n                if (limit) {\r\n                    this.addSelected(item);\r\n                    this.onSelect.emit(item);\r\n                }\r\n            } else {\r\n                this.addSelected(item);\r\n                this.onSelect.emit(item);\r\n            }\r\n\r\n        } else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length === this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n        if (this.settings.groupBy) {\r\n            this.updateGroupInfo(item);\r\n        }\r\n    }\r\n\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n\r\n    writeValue(value: any) {\r\n\r\n        if (hasValue(value)) {\r\n            if (this.settings.singleSelection) {\r\n\r\n                if (Array.isArray(value)) {\r\n                    throw Error('Array detected as input, please add \"multiple\" attribute in the select or set \"singleSelection\" setting in false');\r\n                }\r\n\r\n                const selectedObject = this.data?.find(item => {\r\n                    return item[this.settings.primaryKey] === value;\r\n                });\r\n\r\n                if (hasValue(selectedObject)) {\r\n                    this.selectedItems = [selectedObject];\r\n                } else {\r\n                    this.selectedItems = [];\r\n                    throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n                }\r\n\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n\r\n            } else {\r\n\r\n                if (!Array.isArray(value)) {\r\n                    throw Error('Single value detected as input, please set \"singleSelection\" setting in true or remove \"multiple\" attribute in the select if you added');\r\n                }\r\n\r\n                const selectedObjects = this.data?.filter(item => {\r\n                    return inArray(item[this.settings.primaryKey], value);\r\n                });\r\n\r\n                if (hasValue(selectedObjects)) {\r\n                    if (this.settings.limitSelection) {\r\n                        this.selectedItems = selectedObjects.slice(0, this.settings.limitSelection);\r\n                    } else {\r\n                        this.selectedItems = selectedObjects;\r\n                    }\r\n                } else {\r\n                    this.selectedItems = [];\r\n                    throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n                }\r\n\r\n                if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                    this.isSelectAll = true;\r\n                }\r\n\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n\r\n    trackByFn(item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n\r\n    isSelected(clickedItem: any) {\r\n\r\n        if (clickedItem[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = false;\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            for (const item of this.selectedItems) {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    addSelected(item: any) {\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.selectedItems = [item];\r\n            this.onChangeCallback(item[this.settings.primaryKey]);\r\n            this.onTouchedCallback(item[this.settings.primaryKey]);\r\n            this.closeDropdown();\r\n        } else {\r\n            this.selectedItems.push(item);\r\n            const items = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n            this.onChangeCallback(items);\r\n            this.onTouchedCallback(items);\r\n        }\r\n    }\r\n\r\n    removeSelected(clickedItem: any) {\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            this.selectedItems.forEach((item, index) => {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    this.selectedItems.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.onChangeCallback(null);\r\n            this.onTouchedCallback(null);\r\n        } else {\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    //#region dropdown status\r\n\r\n    toggleDropdown(evt: any) {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = !this.isActive;\r\n\r\n        if (this.isActive) {\r\n            this.openDropdown();\r\n        } else {\r\n            this.closeDropdown();\r\n        }\r\n\r\n        if (this.settings.lazyLoading) {\r\n            this.virtualdata = this.data;\r\n            this.virtualScroollInit = true;\r\n        }\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    public openDropdown() {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = true;\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'click')\r\n            .pipe(filter((e: MouseEvent) => !this._elementRef.nativeElement.contains(e.target) ))\r\n            .subscribe(() => this.closeDropdown())\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'keyup')\r\n            .pipe(filter((e: KeyboardEvent) => e.key.toLowerCase() === 'escape' && this.settings.escapeToClose ))\r\n            .subscribe(() => this.closeDropdown() )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(this._elementRef.nativeElement, 'scroll').subscribe(() => console.log('scroll') )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'resize').subscribe(() => this.setPositionDropdown() )\r\n        );\r\n\r\n        this.setPositionDropdown();\r\n\r\n        this._renderer.appendChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n\r\n        if (this.settings.enableSearchFilter && !this.searchTempl) {\r\n            setTimeout(() => {\r\n                this.searchInput?.nativeElement.focus();\r\n            }, 0);\r\n        }\r\n\r\n        this.onOpen.emit(true);\r\n    }\r\n\r\n    public closeDropdown() {\r\n\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = '';\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.isActive = false;\r\n\r\n        this.dropdownSubs.forEach(s => s.unsubscribe() );\r\n        this.dropdownSubs = [];\r\n\r\n        this.onClose.emit(false);\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    setPositionDropdown() {\r\n\r\n        setTimeout(() => {\r\n\r\n            const dropdown = (this.dropdownListElem.nativeElement as HTMLDivElement);\r\n            const el = (this._elementRef.nativeElement as HTMLElement);\r\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\r\n\r\n            this._renderer.setStyle(dropdown, 'width', (el.offsetWidth) + 'px');\r\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left) + 'px');\r\n\r\n            if (remainingHeight > 0) {\r\n                this._renderer.removeClass(el, 'ontop');\r\n                this._renderer.removeClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('bottom');\r\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\r\n            } else {\r\n                this._renderer.addClass(el, 'ontop');\r\n                this._renderer.addClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('top');\r\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = !obj[this.settings.disabledKey];\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = !obj[this.settings.disabledKey];\r\n                });\r\n            }\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData[this.settings.disabledKey]);\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        } else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n            }\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    filterFn(value: any) {\r\n\r\n        if (this.settings.groupBy && !this.settings.lazyLoading) {\r\n            this.filterGroupedList();\r\n        } else if (this.settings.lazyLoading) {\r\n            this.searchTerm$.next(value);\r\n        }\r\n\r\n    }\r\n\r\n    filterGroupedList() {\r\n        if (this.filter === '' || this.filter == null) {\r\n            this.clearSearch();\r\n            return;\r\n        }\r\n\r\n        this.groupedData = this.cloneArray(this.groupCachedItems);\r\n        this.groupedData = this.groupedData.filter(obj => {\r\n            let arr = [];\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                arr = obj.list;\r\n            } else {\r\n                arr = obj.list.filter(t => {\r\n                    return t[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                });\r\n            }\r\n\r\n            obj.list = arr;\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                return arr;\r\n            } else {\r\n                return arr.some(cat => {\r\n                    return cat[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                }\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (!this.isSelected(el)) {\r\n                                                this.addSelected(el);\r\n                                                added.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    this.updateGroupInfo(item);\r\n\r\n                                }); */\r\n\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (!this.isSelected(el) && !el.hasOwnProperty('grpTitle')) {\r\n                        this.addSelected(el);\r\n                        added.push(el);\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (!this.isSelected(item)) {\r\n                        this.addSelected(item);\r\n                        added.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        } else {\r\n            let removed = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (this.isSelected(el)) {\r\n                                                this.removeSelected(el);\r\n                                                removed.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }); */\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (this.isSelected(el)) {\r\n                        this.removeSelected(el);\r\n                        removed.push(el);\r\n                    }\r\n                });\r\n            } else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (this.isSelected(item)) {\r\n                        this.removeSelected(item);\r\n                        removed.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n    }\r\n\r\n    toggleInfiniteFilterSelectAll() {\r\n        if (!this.isInfiniteFilterSelectAll) {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (!this.isSelected(item)) {\r\n                    this.addSelected(item);\r\n                }\r\n            });\r\n            this.isInfiniteFilterSelectAll = true;\r\n        } else {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (this.isSelected(item)) {\r\n                    this.removeSelected(item);\r\n                }\r\n\r\n            });\r\n            this.isInfiniteFilterSelectAll = false;\r\n        }\r\n    }\r\n\r\n    clearSearch() {\r\n\r\n        this.filter = '';\r\n\r\n        if (this.settings.lazyLoading) {\r\n\r\n            this.isInfiniteFilterSelectAll = false;\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.groupedData = this.groupCachedItems;\r\n            this.infiniteFilterLength = 0;\r\n\r\n        } else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = [];\r\n                this.groupedData = this.cloneArray(this.groupCachedItems);\r\n            }\r\n\r\n            this.isFilterSelectAll = false;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n    }\r\n\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter === '' || data.length === 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength === cnt) {\r\n            this.isFilterSelectAll = true;\r\n        } else if (cnt > 0 && this.filterLength !== cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    cloneArray(arr: any) {\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw 'Cannot clone array containing an object!';\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    updateGroupInfo(item: any) {\r\n        if (item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n        let key = this.settings.groupBy;\r\n        this.groupedData.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] === obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = true;\r\n            } else if (obj.list && (cnt !== obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n        this.groupCachedItems.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] === obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = true;\r\n            } else if (obj.list && (cnt !== obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    transformData(arr: Array<any>, field: any): Array<any> {\r\n        const groupedObj: any = arr.reduce((prev: any, cur: any) => {\r\n            if (!prev[cur[field]]) {\r\n                prev[cur[field]] = [cur];\r\n            } else {\r\n                prev[cur[field]].push(cur);\r\n            }\r\n            return prev;\r\n        }, {});\r\n        const tempArr: any = [];\r\n        Object.keys(groupedObj).map((x: any) => {\r\n            let obj: any = {};\r\n            let disabledChildrens = [];\r\n            obj.grpTitle = true;\r\n            obj[this.settings.labelKey] = x;\r\n            obj[this.settings.groupBy] = x;\r\n            obj.selected = false;\r\n            obj.list = [];\r\n            let cnt = 0;\r\n            groupedObj[x].forEach((item: any) => {\r\n                item.list = [];\r\n                if (item[this.settings.disabledKey]) {\r\n                    this.isDisabledItemPresent = true;\r\n                    disabledChildrens.push(item);\r\n                }\r\n                obj.list.push(item);\r\n                if (this.isSelected(item)) {\r\n                    cnt++;\r\n                }\r\n            });\r\n            if (cnt === obj.list.length) {\r\n                obj.selected = true;\r\n            } else {\r\n                obj.selected = false;\r\n            }\r\n\r\n            // Check if current group item's all childrens are disabled or not\r\n            obj[this.settings.disabledKey] = disabledChildrens.length === groupedObj[x].length;\r\n            tempArr.push(obj);\r\n            // obj.list.forEach((item: any) => {\r\n            //     tempArr.push(item);\r\n            // });\r\n        });\r\n        return tempArr;\r\n    }\r\n\r\n    public filterInfiniteList(evt: any) {\r\n        let filteredElems: Array<any> = [];\r\n        if (this.settings.groupBy) {\r\n            this.groupedData = this.groupCachedItems.slice();\r\n        } else {\r\n            this.data = this.cachedItems.slice();\r\n            this.virtualdata = this.cachedItems.slice();\r\n        }\r\n\r\n        if ((evt != null || evt !== '') && !this.settings.groupBy) {\r\n            if (this.settings.searchBy.length > 0) {\r\n                for (let t = 0; t < this.settings.searchBy.length; t++) {\r\n\r\n                    this.virtualdata.filter((el: any) => {\r\n                        if (el[this.settings.searchBy[t].toString()].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else {\r\n                this.virtualdata.filter((el: any) => {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            this.virtualdata = [];\r\n            this.virtualdata = filteredElems;\r\n            this.infiniteFilterLength = this.virtualdata.length;\r\n        }\r\n        if (evt.toString() !== '' && this.settings.groupBy) {\r\n            this.groupedData.filter((el: any) => {\r\n                if (el.hasOwnProperty('grpTitle')) {\r\n                    filteredElems.push(el);\r\n                } else {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.groupedData = [];\r\n            this.groupedData = filteredElems;\r\n            this.infiniteFilterLength = this.groupedData.length;\r\n        } else if (evt.toString() === '' && this.cachedItems.length > 0) {\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.infiniteFilterLength = 0;\r\n        }\r\n        this.virtualScroller.refresh();\r\n    }\r\n\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n\r\n        this.onScrollToEnd.emit(e);\r\n    }\r\n\r\n    selectGroup(item: any) {\r\n        if (item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n        if (item.selected) {\r\n            item.selected = false;\r\n            item.list.forEach((obj: any) => {\r\n                this.removeSelected(obj);\r\n            });\r\n\r\n            this.onGroupDeSelect.emit(item);\r\n            this.updateGroupInfo(item);\r\n\r\n        } else {\r\n            item.selected = true;\r\n            item.list.forEach((obj: any) => {\r\n                if (!this.isSelected(obj)) {\r\n                    this.addSelected(obj);\r\n                }\r\n\r\n            });\r\n            this.onGroupSelect.emit(item);\r\n            this.updateGroupInfo(item);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    addFilterNewItem() {\r\n        this.onAddFilterNewItem.emit(this.filter);\r\n        this.filterPipe = new SerSelectListFilterPipe(this.ds);\r\n        this.filterPipe.transform(this.data, this.filter, this.settings.searchBy);\r\n    }\r\n\r\n    clearSelection(e: MouseEvent) {\r\n\r\n        if (this.settings.groupBy) {\r\n            this.groupCachedItems.forEach((obj) => {\r\n                obj.selected = false;\r\n            });\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.isSelectAll = false;\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.onChangeCallback(null);\r\n            this.onTouchedCallback(null);\r\n        } else {\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n        }\r\n\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n\r\n        e.stopPropagation();\r\n    }\r\n\r\n    getItemContext(item: any) {\r\n        return item;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n        this.dropdownSubs.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n\r\n    }\r\n}\r\n","// tslint:disable: max-line-length\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SerSelectListFilterPipe } from './ser-select-list-filter.pipe';\r\nimport { SDBadgeDirective, SDItemDirective, SDSearchDirective } from './ser-select-menu-item.directive';\r\nimport { SerSelectComponent } from './ser-select.component';\r\nimport { DataService } from './ser-select.service';\r\nimport { VirtualScrollerModule } from './virtual-scroll/virtual-scroll';\r\n\r\nconst dependencies = [\r\n    SerSelectComponent,\r\n    SerSelectListFilterPipe,\r\n    SDItemDirective,\r\n    SDBadgeDirective,\r\n    SDSearchDirective\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, FormsModule, VirtualScrollerModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies],\r\n    providers: [DataService]\r\n})\r\nexport class SerSelectModule { }\r\n","import { fromEvent, Subscription } from 'rxjs';\nimport { Component, forwardRef, OnInit, ViewEncapsulation, OnDestroy, HostBinding, AfterViewInit, ElementRef, ViewChild, Renderer2 } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { hasValue } from '../../../utils/check';\nimport { inArray } from '../../..//utils/array';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'address-col-input',\n  templateUrl: './address-col.component.html',\n  providers: [\n      {\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => AddressColComponent),\n          multi: true\n      }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AddressColComponent implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\n\n    @HostBinding('class.address-input') class = true;\n    @ViewChild('viaOptionsEl') viaOptionsEl: ElementRef;\n    @ViewChild('viaElCont') viaElCont: ElementRef;\n    @ViewChild('viaEl') viaEl: ElementRef;\n    @ViewChild('viaElHint') viaElHint: ElementRef;\n    @ViewChild('address1') address1: ElementRef;\n\n    modelSub: Subscription;\n    modelForm = this._fb.group({\n        via: ['', [Validators.required]],\n        address1: ['', [Validators.required, Validators.maxLength(50)]],\n        address2: ['', Validators.maxLength(50)],\n        address3: ['', Validators.maxLength(50)]\n    });\n\n    // tslint:disable-next-line: max-line-length\n    viaOptionsSubs: Subscription[] = [];\n    viaRegex = /^Autopista|Avenida Calle|Avenida Carrera|Avenida|Calle|Carrera|Circunvalar|Circular|Diagonal|Kilometro|Manzana|Transversal$/i;\n    viaOptions = [\n        'Autopista', 'Avenida', 'Avenida Calle', 'Avenida Carrera', 'Calle', 'Carrera' , 'Circunvalar', 'Circular', 'Diagonal', 'Kilometro', 'Manzana', 'Transversal', 'Via'\n    ];\n\n    viaOptionsOriginal = [\n        'Autopista', 'Avenida', 'Avenida Calle', 'Avenida Carrera', 'Calle', 'Carrera' , 'Circunvalar', 'Circular', 'Diagonal', 'Kilometro', 'Manzana', 'Transversal', 'Via'\n    ];\n\n    constructor(private _fb: FormBuilder, private _renderer: Renderer2, private _elementRef: ElementRef) { }\n\n    writeValue(obj: any) {\n\n        if (hasValue(obj)) {\n            let address1: any;\n            let address2: any;\n            let address3: any;\n\n            obj = obj.trim().replace(/\\s+/g, ' ');\n\n            if (/(\\s?-\\s?)+/.test(obj)) {\n                address3 = obj.split(/(\\s?-\\s?)+/);\n                this.modelForm.get('address3').setValue(address3[address3.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                address2 = address3[0].trim();\n            } else {\n                address2 = obj;\n            }\n\n            if (/(\\s?[#]\\s?)+/.test(address2)) {\n                address2 = address2.split(/(\\s?[#]\\s?)+/);\n                this.modelForm.get('address2').setValue(address2[address2.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                address1 = address2[0].trim();\n            } else {\n                address1 = obj;\n            }\n\n            if (this.viaRegex.test(address1)) {\n                address1 = address1.split(this.viaRegex);\n                this.modelForm.get('address1').setValue(address1[address1.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n\n                setTimeout(() => {\n                    this.setVia(this.viaRegex.exec(obj)[0].split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                });\n            }\n\n        }\n    }\n\n    generateValue() {\n        const address = this.modelForm.get('via').value + ' ' +\n        this.modelForm.get('address1').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ') +\n        ' # ' +\n        this.modelForm.get('address2').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ') +\n        ' - ' +\n        this.modelForm.get('address3').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ');\n\n        return address;\n    }\n\n    registerOnChange(fn: any) {\n        this.onChange = fn;\n    }\n    onChange(_: any) { }\n\n    registerOnTouched(fn: any) {\n        this.onTouch = fn;\n    }\n    onTouch() { }\n\n    ngOnInit() {\n\n        this.modelSub = this.modelForm.valueChanges.subscribe(() => {\n            if (this.modelForm.valid) {\n                this.onChange(this.generateValue());\n            } else {\n                this.onChange(null);\n            }\n        });\n    }\n\n    ngAfterViewInit(): void {\n        this._renderer.removeChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n\n        setTimeout(() => {\n            if (!hasValue(this.viaElHint.nativeElement.value)) {\n                this.viaElHint.nativeElement.value = 'Calle';\n            }\n        });\n    }\n\n    public openViaOptions() {\n\n        this.viaOptionsSubs.push(\n            fromEvent(window, 'click')\n            .pipe(filter((e: MouseEvent) => !this.viaElCont.nativeElement.contains(e.target) ))\n            .subscribe(() => {\n                this.setVia(this.viaOptions[0]);\n            })\n        );\n\n        this.viaOptionsSubs.push(\n            fromEvent(window, 'keyup')\n            .pipe(filter((e: KeyboardEvent) => inArray(e.key.toLowerCase(), ['arrowright', 'escape', 'enter'])))\n            .subscribe(() => {\n                this.setVia(this.viaOptions[0]);\n            })\n        );\n\n        this.filterViaOptions(this.modelForm.get('via').value);\n        this.setPositionDropdown();\n\n        this._renderer.appendChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n    }\n\n    public closeDropdown() {\n        this.viaOptionsSubs.forEach(s => s.unsubscribe() );\n        this.viaOptionsSubs = [];\n        this._renderer.removeChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n        this.address1.nativeElement.focus();\n    }\n\n    setPositionDropdown() {\n\n        setTimeout(() => {\n\n            const dropdown = (this.viaOptionsEl.nativeElement as HTMLDivElement);\n            const el = (this.viaEl.nativeElement as HTMLElement);\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\n\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left - 6) + 'px');\n\n            if (remainingHeight > 0) {\n                this._renderer.removeClass(el, 'ontop');\n                this._renderer.removeClass(dropdown, 'ontop');\n                this._elementRef.nativeElement.style.removeProperty('bottom');\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\n            } else {\n                this._renderer.addClass(el, 'ontop');\n                this._renderer.addClass(dropdown, 'ontop');\n                this._elementRef.nativeElement.style.removeProperty('top');\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\n            }\n\n        });\n    }\n\n    filterViaOptions(value: string) {\n\n        if (hasValue(value)) {\n            this.viaOptions = this.viaOptionsOriginal.filter(it => it.slice(0, value.length).toLowerCase() === value?.toLowerCase());\n\n            if (hasValue(this.viaOptions)) {\n                this.viaElHint.nativeElement.value = this.viaOptions[0];\n                this.viaEl.nativeElement.value = this.viaEl.nativeElement.value?.split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ');\n            } else {\n                this.viaElHint.nativeElement.value = '';\n            }\n\n            setTimeout(() => {\n                this.setPositionDropdown();\n            });\n        } else {\n            this.viaOptions = this.viaOptionsOriginal;\n        }\n\n    }\n\n    viaBlur() {\n        if (!hasValue(this.modelForm.get('via').value)) {\n            this.setVia(this.viaOptions[0]);\n        }\n    }\n\n    setVia(value: string) {\n        if (hasValue(value)) {\n            this.modelForm.get('via').setValue(value);\n            this.viaEl.nativeElement.value = value;\n            this.viaElHint.nativeElement.value = value;\n        } else {\n            this.viaEl.nativeElement.value = '';\n            this.viaElHint.nativeElement.value = '';\n        }\n\n        this.closeDropdown();\n    }\n\n    ngOnDestroy() {\n        this.modelSub.unsubscribe();\n        this.viaOptionsSubs?.forEach(s => s?.unsubscribe() );\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n\r\n@Pipe({\r\n    name: 'serFilterListFilter',\r\n    pure: true\r\n})\r\nexport class SerFilterListFilterPipe implements PipeTransform {\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!hasValue(items) || !hasValue(filter)) {\r\n            return items;\r\n        }\r\n\r\n        const filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n\r\n        if (hasValue(filteredList)) {\r\n            return filteredList;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (let t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] !== '') {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (const prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}\r\n","// tslint:disable: no-use-before-declare\r\n// tslint:disable: no-host-metadata-property\r\n// tslint:disable: max-line-length\r\n// tslint:disable: no-output-rename\r\n// tslint:disable: no-output-on-prefix\r\n// tslint:disable: prefer-const\r\n// tslint:disable: no-conflicting-lifecycle\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: component-selector\r\n\r\nimport { Attribute, HostBinding, Optional, Renderer2 } from '@angular/core';\r\nimport { Component, OnInit, OnDestroy, SimpleChanges, OnChanges, ChangeDetectorRef, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { FilterSettings } from './ser-filter.interface';\r\nimport { Subscription, Subject, fromEvent } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { SerFilterListFilterPipe } from './ser-filter-list-filter.pipe';\r\nimport { hasValue } from '../../utils/check';\r\nimport { SDBadgeDirective, SDItemDirective } from '../select/ser-select-menu-item.directive';\r\nimport { inArray } from '../../utils/array';\r\n\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'ser-filter',\r\n    templateUrl: './ser-filter.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => SerFilterComponent),\r\n            multi: true\r\n        },\r\n        {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => SerFilterComponent),\r\n            multi: true,\r\n        }\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerFilterComponent implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewInit, OnDestroy {\r\n\r\n    @Input() data = [];\r\n\r\n    @Input() settings: FilterSettings;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Input() label: string;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(SDItemDirective, { static: true }) itemTempl: SDItemDirective;\r\n    @ContentChild(SDBadgeDirective, { static: true }) badgeTempl: SDBadgeDirective;\r\n\r\n\r\n    @ViewChild('searchInput') searchInput: ElementRef;\r\n    @ViewChild('selectedList') selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\r\n\r\n    @HostBinding('class.disabled') isDisabled = false;\r\n    @HostBinding('class.active') isActive = false;\r\n\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: SerFilterListFilterPipe;\r\n    selectedItems: any[] = [];\r\n    isSelectAll = false;\r\n    isFilterSelectAll = false;\r\n    groupedData: any[];\r\n    filter: any;\r\n    chunkArray: any[];\r\n    scrollTop: any;\r\n    chunkIndex: any[] = [];\r\n    cachedItems: any[] = [];\r\n    groupCachedItems: any[] = [];\r\n    totalRows: any;\r\n    itemHeight: any = 41.6;\r\n    screenItemsLen: any;\r\n    totalHeight: any;\r\n    scroller: any;\r\n    selectedListHeight: any;\r\n    filterLength: any = 0;\r\n    viewPortItems: any;\r\n    labelActive = false;\r\n    item: any;\r\n\r\n    private dropdownSubs: Subscription[] = [];\r\n    private subscription: Subscription;\r\n    defaultSettings: FilterSettings = {\r\n        enableCheckAll: true,\r\n        selectAllText: 'Seleccionar todo',\r\n        unSelectAllText: 'Deseleccionar todo',\r\n        filterSelectAllText: 'Seleccionar todos los resultados filtrados',\r\n        filterUnSelectAllText: 'Deseleccionar todos los resultados filtrados',\r\n        searchBy: ['name'],\r\n        maxHeight: 300,\r\n        classes: '',\r\n        searchPlaceholderText: 'Filtrar',\r\n        noDataLabel: 'Sin datos disponibles',\r\n        labelKey: 'name',\r\n        primaryKey: 'id',\r\n        disabledKey: 'disabled',\r\n        enableFilterSelectAll: true,\r\n        clearAll: true\r\n    };\r\n\r\n    randomSize = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    public isDisabledItemPresent = false;\r\n\r\n    hasValue = hasValue;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private _renderer: Renderer2, @Optional() @Attribute('primaryKey') primaryKey: any,\r\n                @Optional() @Attribute('labelKey') labelKey: any) {\r\n\r\n        if (primaryKey !== null) {\r\n            this.defaultSettings.primaryKey = primaryKey;\r\n        }\r\n\r\n        if (labelKey !== null) {\r\n            this.defaultSettings.labelKey = labelKey;\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        this.cachedItems = this.cloneArray(this.data);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes.data && !changes.data.firstChange) {\r\n\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n\r\n        if (changes.loading) {\r\n        }\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    onItemClick(item: any, k: number, e: any) {\r\n\r\n        if (this.isDisabled || item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n\r\n        if (!found) {\r\n            this.addSelected(item);\r\n            this.onSelect.emit(item);\r\n\r\n        } else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length === this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n    }\r\n\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n\r\n    writeValue(value: any) {\r\n\r\n        if (hasValue(value)) {\r\n            if (!Array.isArray(value)) {\r\n                throw Error('Single value detected as input, please set \"singleSelection\" setting in true or remove \"multiple\" attribute in the select if you added');\r\n            }\r\n\r\n            const selectedObjects = this.data?.filter(item => {\r\n                return inArray(item[this.settings.primaryKey], value);\r\n            });\r\n\r\n            if (hasValue(selectedObjects)) {\r\n                this.selectedItems = selectedObjects;\r\n            } else {\r\n                this.selectedItems = [];\r\n                throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n            }\r\n\r\n            if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                this.isSelectAll = true;\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n\r\n    trackByFn(item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n\r\n    isSelected(clickedItem: any) {\r\n\r\n        if (clickedItem[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = false;\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            for (const item of this.selectedItems) {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    addSelected(item: any) {\r\n        this.selectedItems.push(item);\r\n        const items = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n        this.onChangeCallback(items);\r\n        this.onTouchedCallback(items);\r\n    }\r\n\r\n    removeSelected(clickedItem: any) {\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            this.selectedItems.forEach((item, index) => {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    this.selectedItems.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n    }\r\n\r\n    //#region dropdown status\r\n\r\n    toggleDropdown(evt: any) {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = !this.isActive;\r\n\r\n        if (this.isActive) {\r\n            this.openDropdown();\r\n        } else {\r\n            this.closeDropdown();\r\n        }\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    public openDropdown() {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = true;\r\n        this.labelActive = true;\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'click')\r\n            .pipe(filter((e: MouseEvent) => !this._elementRef.nativeElement.contains(e.target) ))\r\n            .subscribe(() => this.closeDropdown())\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'keyup')\r\n            .pipe(filter((e: KeyboardEvent) => e.key.toLowerCase() === 'escape' ))\r\n            .subscribe(() => this.closeDropdown() )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(this._elementRef.nativeElement, 'scroll').subscribe(() => console.log('scroll') )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'resize').subscribe(() => this.setPositionDropdown() )\r\n        );\r\n\r\n        this.setPositionDropdown();\r\n\r\n        this._renderer.appendChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n        this.onOpen.emit(true);\r\n    }\r\n\r\n    public closeDropdown() {\r\n\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = '';\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.isActive = false;\r\n        this.labelActive = false;\r\n\r\n        this.dropdownSubs.forEach(s => s.unsubscribe() );\r\n        this.dropdownSubs = [];\r\n\r\n        this.onClose.emit(false);\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    setPositionDropdown() {\r\n\r\n        setTimeout(() => {\r\n\r\n            const dropdown = (this.dropdownListElem.nativeElement as HTMLDivElement);\r\n            // const el = (this._elementRef.nativeElement as HTMLElement);\r\n            const el = (this.searchInput.nativeElement as HTMLElement);\r\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\r\n\r\n            this._renderer.setStyle(dropdown, 'width', (el.offsetWidth) + 'px');\r\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left) + 'px');\r\n\r\n            if (remainingHeight > 0) {\r\n                this._renderer.removeClass(el, 'ontop');\r\n                this._renderer.removeClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('bottom');\r\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\r\n            } else {\r\n                this._renderer.addClass(el, 'ontop');\r\n                this._renderer.addClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('top');\r\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData[this.settings.disabledKey]);\r\n            const selectedItems = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(selectedItems);\r\n            this.onTouchedCallback(selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        } else {\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n\r\n        this.closeDropdown();\r\n    }\r\n\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        } else {\r\n            let removed = [];\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n\r\n        this.closeDropdown();\r\n    }\r\n\r\n    clearSearch() {\r\n\r\n        this.filter = '';\r\n        this.isFilterSelectAll = false;\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n    }\r\n\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter === '' || data.length === 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength === cnt) {\r\n            this.isFilterSelectAll = true;\r\n        } else if (cnt > 0 && this.filterLength !== cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    cloneArray(arr: any) {\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw Error('Cannot clone array containing an object!');\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n\r\n        this.onScrollToEnd.emit(e);\r\n    }\r\n\r\n    clearSelection(e: MouseEvent) {\r\n\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.isSelectAll = false;\r\n\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n\r\n        e.stopPropagation();\r\n    }\r\n\r\n    getItemContext(item: any) {\r\n        return item;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n        this.dropdownSubs.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n\r\n    }\r\n}\r\n","// tslint:disable: max-line-length\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SerFilterListFilterPipe } from './ser-filter-list-filter.pipe';\r\nimport { SerFilterComponent } from './ser-filter.component';\r\n\r\nconst dependencies = [\r\n    SerFilterComponent,\r\n    SerFilterListFilterPipe\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, FormsModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies],\r\n    providers: []\r\n})\r\nexport class SerFilterModule { }\r\n","import { ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { SerFormElementComponent } from './ser-form-element/ser-form-element.component';\r\nimport { SerControlDirective } from './ser-form-element/ser-control.directive';\r\nimport { SerErrorDirective } from './ser-errors/ser-error.directive';\r\nimport { SerErrorsDirective } from './ser-errors/ser-errors.directive';\r\nimport { PinInputComponent } from './pin/pin-input.component';\r\nimport { SerSelectModule } from './select/ser-select.module';\r\nimport { AddressColComponent } from './address/address-col/address-col.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SerFilterModule } from './filter/ser-filter.module';\r\n\r\nconst dependencies = [\r\n    SerFormElementComponent,\r\n    SerControlDirective,\r\n    SerErrorsDirective,\r\n    SerErrorDirective,\r\n    PinInputComponent,\r\n    AddressColComponent\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, ReactiveFormsModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies, SerSelectModule, SerFilterModule]\r\n})\r\nexport class SerFormModule { }\r\n","import { Directive, ElementRef, OnDestroy, Output, EventEmitter, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[whenScrolled]'\r\n})\r\nexport class WhenScrolledDirective implements OnDestroy {\r\n\r\n    @Output() callback: EventEmitter<any> = new EventEmitter();\r\n    listener: any;\r\n\r\n    constructor(private _elementRef: ElementRef, rendered: Renderer2) {\r\n        this.listener = rendered.listen(this._elementRef.nativeElement, 'scroll', (ev: any) => {\r\n            if (ev.target.scrollTop + ev.target.offsetHeight >= ev.target.scrollHeight) {\r\n                this.callback.emit();\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.listener();\r\n    }\r\n\r\n}\r\n","import { Directive, Output, EventEmitter, ElementRef, Renderer2, OnDestroy } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[finishTyping]'\r\n})\r\nexport class FinishTypingDirective implements OnDestroy {\r\n\r\n    @Output() callback: EventEmitter<any> = new EventEmitter();\r\n    listener: any;\r\n    inputChangedPromise: ReturnType<typeof setTimeout>;\r\n\r\n    constructor(private _elementRef: ElementRef, rendered: Renderer2) {\r\n        this.listener = rendered.listen(this._elementRef.nativeElement, 'keyup', () => {\r\n\r\n            if (this.inputChangedPromise) {\r\n                clearTimeout(this.inputChangedPromise);\r\n            }\r\n\r\n            this.inputChangedPromise = setTimeout(() => {\r\n                this.callback.emit();\r\n            }, 500);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.listener();\r\n    }\r\n\r\n}\r\n","import { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[copyToClipboard]'\r\n})\r\nexport class CopyToClipboardDirective {\r\n\r\n    @Input('copyToClipboard') valToCopy = '';\r\n    @Output() copied = new EventEmitter<string>();\r\n\r\n    @HostListener('click', ['$event']) onClick(val: any) {\r\n        const selBox = document.createElement('textarea');\r\n        selBox.style.position = 'fixed';\r\n        selBox.style.zIndex = '-1000';\r\n        selBox.style.left = '0';\r\n        selBox.style.top = '0';\r\n        selBox.style.opacity = '0';\r\n        selBox.value = this.valToCopy;\r\n        document.body.appendChild(selBox);\r\n        selBox.focus();\r\n        selBox.select();\r\n        document.execCommand('copy');\r\n        document.body.removeChild(selBox);\r\n\r\n        this.copied.emit(this.valToCopy);\r\n    }\r\n\r\n}\r\n","import { Directive, OnChanges, Input, ElementRef, Renderer2 } from '@angular/core';\r\nimport { readAsDataURL } from '../file/read';\r\nimport { take } from 'rxjs/operators';\r\nimport { AwsService } from '../aws/aws.service';\r\nimport { hasValue } from '../utils/check';\r\n\r\ninterface BgImage {\r\n    url?: string;\r\n    file?: File;\r\n}\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[bgImage]'\r\n})\r\nexport class BgImageDirective implements OnChanges {\r\n\r\n    @Input('bgImage')\r\n    image: BgImage;\r\n    imageRegex = /(image\\/(jpe?g|png|gif|bmp))/i;\r\n\r\n    constructor(private el: ElementRef, private rendered: Renderer2, private aws: AwsService) { }\r\n\r\n    ngOnChanges() {\r\n        if (hasValue(this.image.file) && this.image.file instanceof File && this.imageRegex.test(this.image.file.type)) {\r\n\r\n            readAsDataURL(this.image.file).pipe(take(1)).subscribe((result) => {\r\n                this.rendered.setStyle(this.el.nativeElement, 'background-image', `url(${result})`);\r\n            });\r\n\r\n        } else if (hasValue(this.image.url)) {\r\n            this.rendered.setStyle(this.el.nativeElement, 'background-image', this.aws.getS3BgUrl(this.image.url));\r\n        } else {\r\n            this.rendered.removeStyle(this.el.nativeElement, 'background-image');\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { WhenScrolledDirective } from './when-scrolled.directive';\r\nimport { FinishTypingDirective } from './finish-typing.directive';\r\nimport { BgImageDirective } from './bg-image.directive';\r\nimport { CopyToClipboardDirective } from './copy-to-clipboard.directive';\r\n\r\nconst dependencies = [\r\n  WhenScrolledDirective,\r\n  FinishTypingDirective,\r\n  BgImageDirective,\r\n  CopyToClipboardDirective\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...dependencies],\r\n  exports: [...dependencies]\r\n})\r\nexport class SerUiModule {}\r\n","\r\n/**\r\n * @description\r\n * Funcin para verificar si el navegador dispone de lector PDF\r\n * @returns {boolean}\r\n */\r\nexport function hasPdfViewer() {\r\n  for (let index = 0; index < window.navigator.plugins.length; index++) {\r\n      if (window.navigator.plugins[index].name.toLowerCase().indexOf('pdf') > -1) {\r\n          return true;\r\n      }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para extraer todas las reglas CSS aplicadas a un elemento DOM\r\n * @param {Element} element Elemento DOM\r\n * @returns {CSSStyleDeclaration}\r\n */\r\nexport function getStyles(element: Element) {\r\n  return !(element instanceof HTMLElement) ? {} :\r\n      element.ownerDocument && element.ownerDocument.defaultView.opener\r\n          ? element.ownerDocument.defaultView.getComputedStyle(element)\r\n          : window.getComputedStyle(element);\r\n}\r\n\r\n/**\r\n * @description\r\n * Funcin para obtener el ancho de la ventana o pestaa de la pgina\r\n * @returns {number}\r\n */\r\nexport function browserWidth(): number {\r\n  return 0 < window.innerWidth ? window.innerWidth : screen.width;\r\n}\r\n\r\n/* if (bowser) {\r\n  $('body').addClass('bos-' + bowser.osname.replace(/ /g, \"\") + ' bosv-' + bowser.osversion.replace(/ /g, \"\")\r\n  + ' bn-' + bowser.name.replace(/ /g, \"\") + ' bv-' + bowser.version.replace(/ /g, \"\"));\r\n} */\r\n","import { hasValue } from '../utils/check';\r\n\r\n/**\r\n * @description\r\n * Funcin para transformar un objeto en un string apto para filtrar resultados GraphQL\r\n * @param {any} obj Objeto a convertir\r\n * @returns {string}\r\n */\r\nexport function objectToGraphParams(obj: any): string {\r\n\r\n  let graph_params = '';\r\n\r\n  for (const [key, value] of Object.entries(obj)) {\r\n      if (hasValue(value)) {\r\n          graph_params += key + ': ';\r\n\r\n          if (typeof (value) === 'string') {\r\n              graph_params += '\"' + value + '\"';\r\n          } else {\r\n              graph_params += value;\r\n          }\r\n\r\n          graph_params += ',';\r\n      }\r\n  }\r\n\r\n  if (hasValue(graph_params)) {\r\n      graph_params = graph_params.substring(0, graph_params.length - 1);\r\n  }\r\n\r\n  return graph_params;\r\n}\r\n","import { Renderer2 } from '@angular/core';\r\nimport { Parser } from 'bowser';\r\n\r\n/**\r\n * @description Agrega 4 clases css a un elemento HTML\r\n * @example <body class=\"bos-macOS bosv-10.15.4 bn-Chrome bv-81.0.4044.129\">\r\n * @param {Parser.Parser} bowserInstance Objeto Bowser parseado\r\n * @param {Renderer2} renderer Elemento a modificar\r\n */\r\nexport function setBowserClasses(bowserInstance: Parser.Parser, renderer: Renderer2) {\r\n    renderer.addClass(document.body, 'bos-' + bowserInstance.getOSName().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bosv-' + bowserInstance.getOSVersion().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bn-' + bowserInstance.getBrowserName().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bv-' + bowserInstance.getBrowserVersion().replace(/ +/g, '-'));\r\n}\r\n"]}