import { hasValue } from '../../utils/check';
export function lowerThan(BasePathField, TargetPathField) {
    return (fg) => {
        const base = fg.get(BasePathField);
        const target = fg.get(TargetPathField);
        if (base.value < target.value) {
            if (hasValue(target.errors)) {
                delete base.errors.lowerThan;
                if (hasValue(base.errors)) {
                    base.setErrors(base.errors);
                }
                else {
                    base.setErrors(null);
                }
            }
            else {
                base.setErrors(null);
            }
        }
        else {
            if (hasValue(base.errors)) {
                base.errors.lowerThan = true;
                base.setErrors(base.errors);
            }
            else {
                base.setErrors({
                    lowerThan: true
                });
            }
        }
        return null;
    };
}
export function lowerOrEqualThan(BasePathField, TargetPathField) {
    return (fg) => {
        const base = fg.get(BasePathField);
        const target = fg.get(TargetPathField);
        if (base.value <= target.value) {
            if (hasValue(target.errors)) {
                delete base.errors.lowerOrEqualThan;
                if (hasValue(base.errors)) {
                    base.setErrors(base.errors);
                }
                else {
                    base.setErrors(null);
                }
            }
            else {
                base.setErrors(null);
            }
        }
        else {
            if (hasValue(base.errors)) {
                base.errors.lowerOrEqualThan = true;
                base.setErrors(base.errors);
            }
            else {
                base.setErrors({
                    lowerOrEqualThan: true
                });
            }
        }
        return null;
    };
}
export function greaterThan(BasePathField, TargetPathField) {
    return (fg) => {
        const base = fg.get(BasePathField);
        const target = fg.get(TargetPathField);
        if (base.value > target.value) {
            if (hasValue(target.errors)) {
                delete base.errors.greaterThan;
                if (hasValue(base.errors)) {
                    base.setErrors(base.errors);
                }
                else {
                    base.setErrors(null);
                }
            }
            else {
                base.setErrors(null);
            }
        }
        else {
            if (hasValue(base.errors)) {
                base.errors.greaterThan = true;
                base.setErrors(base.errors);
            }
            else {
                base.setErrors({
                    greaterThan: true
                });
            }
        }
        return null;
    };
}
export function greaterOrEqualThan(BasePathField, TargetPathField) {
    return (fg) => {
        const base = fg.get(BasePathField);
        const target = fg.get(TargetPathField);
        if (base.value >= target.value) {
            if (hasValue(target.errors)) {
                delete base.errors.greaterOrEqualThan;
                if (hasValue(base.errors)) {
                    base.setErrors(base.errors);
                }
                else {
                    base.setErrors(null);
                }
            }
            else {
                base.setErrors(null);
            }
        }
        else {
            if (hasValue(base.errors)) {
                base.errors.greaterOrEqualThan = true;
                base.setErrors(base.errors);
            }
            else {
                base.setErrors({
                    greaterOrEqualThan: true
                });
            }
        }
        return null;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGFyaXNvbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzZXJzb2wvbmd4LyIsInNvdXJjZXMiOlsiZm9ybS92YWxpZGF0aW9ucy9jb21wYXJpc29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUU3QyxNQUFNLFVBQVUsU0FBUyxDQUFDLGFBQXFCLEVBQUUsZUFBdUI7SUFDcEUsT0FBTyxDQUFDLEVBQWEsRUFBMkIsRUFBRTtRQUU5QyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ25DLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFFdkMsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUU7WUFDM0IsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUN6QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO2dCQUU3QixJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUMvQjtxQkFBTTtvQkFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUN4QjthQUNKO2lCQUFNO2dCQUNILElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDeEI7U0FFSjthQUFNO1lBRUgsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQy9CO2lCQUFNO2dCQUNILElBQUks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QyxhQUFxQixFQUFFLGVBQXVCO0lBQzdFLE9BQU8sQ0FBQyxFQUFhLEVBQTJCLEVBQUU7UUFFOUMsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNuQyxNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBRXZDLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFO1lBQzVCLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDekIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDO2dCQUV0QyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUMvQjtxQkFBTTtvQkFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUN4QjthQUNKO2lCQUFNO2dCQUNILElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDeEI7U0FFSjthQUFNO1lBRUgsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDL0I7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFNBQVMsQ0FBQztvQkFDWCxrQkFBa0IsRUFBRSxJQUFJO2lCQUMzQixDQUFDLENBQUM7YUFDTjtTQUNKO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQyxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZvcm1Hcm91cCwgVmFsaWRhdGlvbkVycm9ycywgVmFsaWRhdG9yRm4gfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IGhhc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2hlY2snO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvd2VyVGhhbihCYXNlUGF0aEZpZWxkOiBzdHJpbmcsIFRhcmdldFBhdGhGaWVsZDogc3RyaW5nKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChmZzogRm9ybUdyb3VwKTogVmFsaWRhdGlvbkVycm9ycyB8IG51bGwgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBiYXNlID0gZmcuZ2V0KEJhc2VQYXRoRmllbGQpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGZnLmdldChUYXJnZXRQYXRoRmllbGQpO1xyXG5cclxuICAgICAgICBpZiAoYmFzZS52YWx1ZSA8IHRhcmdldC52YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUodGFyZ2V0LmVycm9ycykpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBiYXNlLmVycm9ycy5sb3dlclRoYW47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKGJhc2UuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKGJhc2UuZXJyb3JzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5zZXRFcnJvcnMobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlLnNldEVycm9ycyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKGJhc2UuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZS5lcnJvcnMubG93ZXJUaGFuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKGJhc2UuZXJyb3JzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKHtcclxuICAgICAgICAgICAgICAgICAgICBsb3dlclRoYW46IHRydWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG93ZXJPckVxdWFsVGhhbihCYXNlUGF0aEZpZWxkOiBzdHJpbmcsIFRhcmdldFBhdGhGaWVsZDogc3RyaW5nKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChmZzogRm9ybUdyb3VwKTogVmFsaWRhdGlvbkVycm9ycyB8IG51bGwgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBiYXNlID0gZmcuZ2V0KEJhc2VQYXRoRmllbGQpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGZnLmdldChUYXJnZXRQYXRoRmllbGQpO1xyXG5cclxuICAgICAgICBpZiAoYmFzZS52YWx1ZSA8PSB0YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKHRhcmdldC5lcnJvcnMpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgYmFzZS5lcnJvcnMubG93ZXJPckVxdWFsVGhhbjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzVmFsdWUoYmFzZS5lcnJvcnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5zZXRFcnJvcnMoYmFzZS5lcnJvcnMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLnNldEVycm9ycyhudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUoYmFzZS5lcnJvcnMpKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlLmVycm9ycy5sb3dlck9yRXF1YWxUaGFuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKGJhc2UuZXJyb3JzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKHtcclxuICAgICAgICAgICAgICAgICAgICBsb3dlck9yRXF1YWxUaGFuOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3JlYXRlclRoYW4oQmFzZVBhdGhGaWVsZDogc3RyaW5nLCBUYXJnZXRQYXRoRmllbGQ6IHN0cmluZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoZmc6IEZvcm1Hcm91cCk6IFZhbGlkYXRpb25FcnJvcnMgfCBudWxsID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgYmFzZSA9IGZnLmdldChCYXNlUGF0aEZpZWxkKTtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBmZy5nZXQoVGFyZ2V0UGF0aEZpZWxkKTtcclxuXHJcbiAgICAgICAgaWYgKGJhc2UudmFsdWUgPiB0YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKHRhcmdldC5lcnJvcnMpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgYmFzZS5lcnJvcnMuZ3JlYXRlclRoYW47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKGJhc2UuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKGJhc2UuZXJyb3JzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5zZXRFcnJvcnMobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlLnNldEVycm9ycyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKGJhc2UuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZS5lcnJvcnMuZ3JlYXRlclRoYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYmFzZS5zZXRFcnJvcnMoYmFzZS5lcnJvcnMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmFzZS5zZXRFcnJvcnMoe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyZWF0ZXJUaGFuOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3JlYXRlck9yRXF1YWxUaGFuKEJhc2VQYXRoRmllbGQ6IHN0cmluZywgVGFyZ2V0UGF0aEZpZWxkOiBzdHJpbmcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGZnOiBGb3JtR3JvdXApOiBWYWxpZGF0aW9uRXJyb3JzIHwgbnVsbCA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhc2UgPSBmZy5nZXQoQmFzZVBhdGhGaWVsZCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZmcuZ2V0KFRhcmdldFBhdGhGaWVsZCk7XHJcblxyXG4gICAgICAgIGlmIChiYXNlLnZhbHVlID49IHRhcmdldC52YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUodGFyZ2V0LmVycm9ycykpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBiYXNlLmVycm9ycy5ncmVhdGVyT3JFcXVhbFRoYW47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKGJhc2UuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKGJhc2UuZXJyb3JzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5zZXRFcnJvcnMobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlLnNldEVycm9ycyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKGJhc2UuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZS5lcnJvcnMuZ3JlYXRlck9yRXF1YWxUaGFuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKGJhc2UuZXJyb3JzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJhc2Uuc2V0RXJyb3JzKHtcclxuICAgICAgICAgICAgICAgICAgICBncmVhdGVyT3JFcXVhbFRoYW46IHRydWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbn1cclxuIl19