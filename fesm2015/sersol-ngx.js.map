{"version":3,"file":"sersol-ngx.js","sources":["ng://@sersol/ngx/cookie/cookies.service.ts","ng://@sersol/ngx/external-script/external-script.service.ts","ng://@sersol/ngx/prefers-color-scheme/prefers-color-scheme.service.ts","ng://@sersol/ngx/utils/check.ts","ng://@sersol/ngx/aws/aws.service.ts","ng://@sersol/ngx/aws/aws.module.ts","ng://@sersol/ngx/google/config/google-sdk.config.ts","ng://@sersol/ngx/google/Igoogle.ts","ng://@sersol/ngx/google/google-sdk.service.ts","ng://@sersol/ngx/google/google-sdk.module.ts","ng://@sersol/ngx/facebook/config/facebook-sdk.config.ts","ng://@sersol/ngx/facebook/facebook-sdk.service.ts","ng://@sersol/ngx/facebook/facebook-sdk.module.ts","ng://@sersol/ngx/utils/array.ts","ng://@sersol/ngx/open-id/claims.service.ts","ng://@sersol/ngx/graphql/utils.ts","ng://@sersol/ngx/utils/object.ts","ng://@sersol/ngx/utils/bowser.ts","ng://@sersol/ngx/utils/navigator.ts","ng://@sersol/ngx/utils/random.ts","ng://@sersol/ngx/utils/keyboard-keys.ts","ng://@sersol/ngx/utils/patterns.ts","ng://@sersol/ngx/map/map.service.ts","ng://@sersol/ngx/map/leaflet/providers.ts","ng://@sersol/ngx/map/leaflet/main.ts","ng://@sersol/ngx/file/read.ts","ng://@sersol/ngx/form/validations/comparison.ts","ng://@sersol/ngx/form/validations/match.ts","ng://@sersol/ngx/form/validations/file.ts","ng://@sersol/ngx/form/validations/remote.ts","ng://@sersol/ngx/form/validations/custom-validators.ts","ng://@sersol/ngx/form/ser-form-element/ser-control.directive.ts","ng://@sersol/ngx/form/ser-form-element/ser-form-element.component.ts","ng://@sersol/ngx/form/ser-errors/ser-errors.directive.ts","ng://@sersol/ngx/form/ser-errors/ser-error.directive.ts","ng://@sersol/ngx/form/pin/pin-input.component.ts","ng://@sersol/ngx/form/select/ser-select.service.ts","ng://@sersol/ngx/form/select/ser-select-list-filter.pipe.ts","ng://@sersol/ngx/form/select/ser-select-menu-item.directive.ts","ng://@sersol/ngx/form/select/virtual-scroll/virtual-scroll.ts","ng://@sersol/ngx/form/select/ser-select.component.ts","ng://@sersol/ngx/form/select/ser-select.module.ts","ng://@sersol/ngx/form/address/address-col/address-col.component.ts","ng://@sersol/ngx/form/filter/ser-filter-list-filter.pipe.ts","ng://@sersol/ngx/form/filter/ser-filter.component.ts","ng://@sersol/ngx/form/filter/ser-filter.module.ts","ng://@sersol/ngx/form/ser-form.module.ts","ng://@sersol/ngx/ui/when-scrolled.directive.ts","ng://@sersol/ngx/ui/finish-typing.directive.ts","ng://@sersol/ngx/ui/copy-to-clipboard.directive.ts","ng://@sersol/ngx/ui/bg-image.directive.ts","ng://@sersol/ngx/ui/ser-ui.module.ts","ng://@sersol/ngx/public-api.ts","ng://@sersol/ngx/sersol-ngx.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Servicio para obtener, actualizar y borrar cookies en el navegador web\r\n * @example\r\n * constructor(cookiesService: CookiesService) { }\r\n *\r\n * this.cookiesService.get('Test'); // Obtiene el valor de una cookie\r\n * this.cookiesService.set('Test', '123'); // Setea valor de una cookie\r\n * this.cookiesService.delete('Test'); // Elimina una cookie\r\n * this.cookiesService.deleteAll(); // Elimina todas las cookies\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CookiesService {\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * @description\r\n   * Obtiene todas las cookies\r\n   * @returns {}\r\n   */\r\n  public getAll(): {} {\r\n\r\n    const cookies: {} = {};\r\n\r\n    if (document.cookie && document.cookie !== '') {\r\n      const split: string[] = document.cookie.split('; ');\r\n\r\n      for (let i = 0; i < split.length; i += 1) {\r\n        const cookie = split[i].split('=');\r\n        const currentCookie: string = decodeURIComponent(cookie[0].trim());\r\n        const currentValue: any = decodeURIComponent(cookie.slice(1, split[i].length - 1).join('='));\r\n\r\n        // Intenta convertir a tipos de dato diferentes a 'string'\r\n        if (currentValue === 'true') {\r\n          cookies[currentCookie] = true;\r\n        } else if (currentValue === 'false') {\r\n          cookies[currentCookie] = false;\r\n\r\n        } else {\r\n          try {\r\n            cookies[currentCookie] = JSON.parse(currentValue);\r\n          } catch {\r\n            cookies[currentCookie] = currentValue;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    return cookies;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Obtiene el valor de una cookie\r\n   * @param {string} name - Nombre de la cookie\r\n   * @returns {any} Valor de la cookie\r\n   */\r\n  public get(name: string): any {\r\n\r\n    const cookies = this.getAll();\r\n\r\n    if (cookies.hasOwnProperty(name)) {\r\n      return cookies[name];\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  /**\r\n   * @param name     Nombre\r\n   * @param value    valor\r\n   * @param expires  Unix Timestamp en que será vigente la cookie o un objeto `Date`\r\n   * @param path     Ruta\r\n   * @param domain   Dominio\r\n   * @param secure   Cookie segura\r\n   * @param sameSite OWASP samesite token `Lax` ó `Strict`\r\n   */\r\n  public set(\r\n    name: string,\r\n    value: any,\r\n    expires?: number | Date,\r\n    path?: string,\r\n    domain?: string,\r\n    secure?: boolean,\r\n    sameSite?: 'Lax' | 'Strict'\r\n  ): void {\r\n\r\n    if (typeof value === 'object') {\r\n      value = JSON.stringify(value);\r\n    }\r\n\r\n    let cookieString: string = encodeURIComponent(name) + '=' + encodeURIComponent(value) + ';';\r\n\r\n    if (expires) {\r\n      if (typeof expires === 'number') {\r\n        const dateExpires: Date = new Date(expires * 1000);\r\n\r\n        cookieString += 'expires=' + dateExpires.toUTCString() + ';';\r\n      } else {\r\n        cookieString += 'expires=' + expires.toUTCString() + ';';\r\n      }\r\n    }\r\n\r\n    if (path) {\r\n      cookieString += 'path=' + path + ';';\r\n    }\r\n\r\n    if (domain) {\r\n      cookieString += 'domain=' + domain + ';';\r\n    }\r\n\r\n    if (secure) {\r\n      cookieString += 'secure;';\r\n    }\r\n\r\n    if (sameSite) {\r\n      cookieString += 'sameSite=' + sameSite + ';';\r\n    }\r\n\r\n    document.cookie = cookieString;\r\n  }\r\n\r\n\r\n  /**\r\n  * @param name   Nombre\r\n  * @param path   Ruta\r\n  * @param domain Dominio\r\n  */\r\n  public delete(name: string, path?: string, domain?: string): void {\r\n\r\n    this.set(name, '', new Date('Thu, 01 Jan 1970 00:00:01 GMT'), path, domain);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * elimina todas las cookes\r\n   */\r\n  public deleteAll() {\r\n    const cookies = document.cookie.split(';');\r\n\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i];\r\n      const eqPos = cookie.indexOf('=');\r\n      const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Función para insertar scritps externos (ejem: gapi, facebook sdk)\r\n * @example\r\n * constructor(private externalScriptService: ExternalScriptService) { }\r\n *\r\n * this.externalScriptService.insert('google-jssdk', 'https://apis.google.com/js/platform.js?onload=googleSDKLoaded');\r\n * @param {string} id - Id para la etiqueta script\r\n * @param {string} src - url para la etiqueta script\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExternalScriptService {\r\n\r\n  constructor() { }\r\n\r\n  insert(id: string, src: string) {\r\n    const fjs = document.getElementsByTagName('script')[0];\r\n    if (document.getElementById(id)) { return; }\r\n    const js = document.createElement('script') as HTMLScriptElement;\r\n    js.id = id;\r\n    js.src = src;\r\n    fjs.parentNode.insertBefore(js, fjs);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * @description\r\n * Clase para obtener, observar y cambiar el esquema de color claro/oscuro\r\n * @example\r\n * constructor(prefersColorSchemeService: PrefersColorSchemeService) { }\r\n *\r\n * this.prefersColorSchemeService.init(); // Setea el esquema inicial\r\n * this.prefersColorSchemeService.watch(); // Observa cambio de esquema en OS\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PrefersColorSchemeService {\r\n  private _Scheme: MediaQueryList;\r\n  public get Scheme(): MediaQueryList {\r\n    return this._Scheme;\r\n  }\r\n  public set Scheme(value: MediaQueryList) {\r\n    this._Scheme = value;\r\n  }\r\n\r\n  private _SchemeLightClassName = 'scheme-light';\r\n  public get SchemeLightClassName() {\r\n    return this._SchemeLightClassName;\r\n  }\r\n  public set SchemeLightClassName(value) {\r\n    this._SchemeLightClassName = value;\r\n  }\r\n\r\n  private _SchemeDarkClassName = 'scheme-dark';\r\n  public get SchemeDarkClassName() {\r\n    return this._SchemeDarkClassName;\r\n  }\r\n  public set SchemeDarkClassName(value) {\r\n    this._SchemeDarkClassName = value;\r\n  }\r\n\r\n  constructor() {\r\n    this.Scheme = window.matchMedia('(prefers-color-scheme: dark)');\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Inicializar el esquema de color\r\n   * @usageNotes\r\n   * Usarse unicamente si se desea aplicar el esquema de color acorde al esquema de color del sistema operativo\r\n   */\r\n  init() {\r\n    if (this.Scheme.matches) {\r\n      this.enableDark();\r\n    } else {\r\n      this.enableLight();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Obtener el esquema de color actual del SO\r\n   * @returns {string} Esquema de color\r\n   */\r\n  get(): string {\r\n    if (this.Scheme.matches) {\r\n      return 'dark';\r\n    } else {\r\n      return 'light';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Agrega SchemeDarkClassName y remueve SchemeLightClassName a la etiqueta body\r\n   */\r\n  enableDark() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    if (body.classList.contains(this.SchemeLightClassName)) {\r\n      body.classList.remove(this.SchemeLightClassName);\r\n    }\r\n\r\n    body.classList.add(this.SchemeDarkClassName);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Agrega SchemeLightClassName y remueve SchemeDarkClassName a la etiqueta body\r\n   */\r\n  enableLight() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    if (body.classList.contains(this.SchemeDarkClassName)) {\r\n      body.classList.remove(this.SchemeDarkClassName);\r\n    }\r\n\r\n    body.classList.add(this.SchemeLightClassName);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Habilita el cambio automatico de esquema de color según el cambio de esquema de color del SO\r\n   */\r\n  watch() {\r\n\r\n    const setScheme = (ev: MediaQueryListEvent) => {\r\n      if (ev.matches) {\r\n        console.log('Changed to dark mode');\r\n        this.enableDark();\r\n      } else {\r\n        console.log('Changed to light mode');\r\n        this.enableLight();\r\n      }\r\n    };\r\n\r\n    if (typeof this.Scheme.onchange === 'function') {\r\n\r\n      this.Scheme.onchange  = setScheme;\r\n\r\n    } else if (typeof this.Scheme.addEventListener === 'function') {\r\n\r\n      this.Scheme.addEventListener('change', setScheme);\r\n\r\n    // tslint:disable-next-line: deprecation\r\n    } else if (typeof this.Scheme.addListener === 'function') {\r\n\r\n      // tslint:disable-next-line: deprecation\r\n      this.Scheme.addListener(setScheme);\r\n\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @description\r\n * Función para verificar si una variable cumple con los siguiente:\r\n * - Si es un arreglo, verifica si tiene un tamaño mayor a cero\r\n * - No tiene ninguno de estos valores: '', null, undefined, NaN\r\n * @param {any | any[]} variable Variable a verificar\r\n * @returns {boolean}\r\n */\r\nexport function hasValue(variable: any | any[]): boolean {\r\n  if (Array.isArray(variable)) {\r\n    return 0 < variable.length;\r\n  } else {\r\n    return ['', null, undefined, NaN].indexOf(variable) === -1;\r\n  }\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para verificar si un objeto no esta vacío\r\n * @param {any} value Objeto a verificar\r\n * @returns {boolean}\r\n */\r\nexport function objHasValue(value: any): boolean {\r\n  return Object.keys(value).length > 0;\r\n}\r\n","import { AwsData } from './Iaws';\r\nimport { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport { hasValue } from '../utils/check';\r\n\r\nexport let AWS_CONFIG: InjectionToken<AwsData> = new InjectionToken<AwsData>('aws.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para verificar si es usuario tiene o no permisos para realizar ciertas acciones\r\n * @example\r\n * constructor(private claimsService: ClaimsService) { }\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AwsService {\r\n\r\n    private _awsData: AwsData;\r\n    public get awsData(): AwsData {\r\n        return this._awsData;\r\n    }\r\n    public set awsData(value: AwsData) {\r\n        this._awsData = value;\r\n    }\r\n\r\n    constructor(@Inject(AWS_CONFIG) config: AwsData) {\r\n        this.awsData = config;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método obtener url de assets en S3\r\n     * @param {string} key - Ruta del objeto en el bucket (Sin '/' al principio)\r\n     * @example\r\n     * this.awsService.getS3Url('assets/file.png');\r\n     * @returns {string}\r\n     */\r\n    public getS3Url(key: string): string {\r\n        if (hasValue(key)) {\r\n            return `https://${this.awsData.s3.bucket}.s3.amazonaws.com/${key}`;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método obtener url de assets en S3\r\n     * @param {string} key - Ruta del objeto en el bucket (Sin '/' al principio)\r\n     * @example\r\n     * this.awsService.getS3Url('assets/file.png');\r\n     * @returns {string}\r\n     */\r\n    public getS3BgUrl(key: string): string {\r\n        if (hasValue(key)) {\r\n            return `url(https://${this.awsData.s3.bucket}.s3.amazonaws.com/${key})`;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { AwsService } from './aws.service';\r\n\r\n/**\r\n * @description\r\n * Módulo para inicializar el servicio AwsService\r\n * @example\r\n * import { AWS_CONFIG, AwsModule } from '@sersol/ngx';\r\n *\r\n * @NgModule({\r\n    imports: [\r\n      ...,\r\n      AwsModule.forRoot({\r\n          provide: AWS_CONFIG,\r\n          useValue: {\r\n              s3: {\r\n                bucket: 'ser-app'\r\n              }\r\n          }\r\n      }),\r\n      ...\r\n    ],\r\n    declarations: [...],\r\n    schemas: [...],\r\n    providers: [...],\r\n    bootstrap: [...]\r\n})\r\nexport class AppModule { }\r\n */\r\n@NgModule()\r\nexport class AwsModule {\r\n  static forRoot(ConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: AwsModule,\r\n      providers: [\r\n        ConfigProvider,\r\n        AwsService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","\r\n\r\nexport class GoogleSDKConfig {\r\n  private _clientConfig: gapi.auth2.ClientConfig;\r\n  public get clientConfig(): gapi.auth2.ClientConfig {\r\n    return this._clientConfig;\r\n  }\r\n  public set clientConfig(value: gapi.auth2.ClientConfig) {\r\n    this._clientConfig = value;\r\n  }\r\n\r\n  constructor(clientConfig: gapi.auth2.ClientConfig) {\r\n    this.clientConfig = clientConfig;\r\n  }\r\n}\r\n","// Type definitions for Google API Client\r\n// Project: https://github.com/google/google-api-javascript-client\r\n// Definitions by: Frank M <https://github.com/sgtfrankieboy>, grant <https://github.com/grant>\r\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\r\n// TypeScript Version: 2.3\r\n\r\nexport interface GoogleUserProfile {\r\n  id: string;\r\n  id_token: string;\r\n  first_name: string;\r\n  last_name?: string;\r\n  email?: string;\r\n  picture?: string;\r\n}\r\n\r\nexport class GoogleClientConfig implements gapi.auth2.ClientConfig { }\r\n","/// <reference types=\"gapi\" />\r\n/// <reference types=\"gapi.auth2\" />\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { Inject, Injectable, InjectionToken, Output, EventEmitter } from '@angular/core';\r\nimport { Observer } from 'rxjs';\r\nimport { GoogleSDKConfig } from './config/google-sdk.config';\r\nimport { GoogleUserProfile, GoogleClientConfig } from './Igoogle';\r\n\r\nexport let NG_GAPI_CONFIG: InjectionToken<GoogleClientConfig> = new InjectionToken<GoogleClientConfig>('google.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para interactuar con la API de Google\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GoogleSDKService {\r\n  private readonly gapiUrl: string = 'https://apis.google.com/js/api.js';\r\n\r\n  @Output() onload: EventEmitter<void> = new EventEmitter();\r\n\r\n  private _config: GoogleSDKConfig;\r\n  public get config(): GoogleSDKConfig {\r\n    return this._config;\r\n  }\r\n  public set config(value: GoogleSDKConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  private _GoogleAuth: gapi.auth2.GoogleAuth;\r\n  public get GoogleAuth(): gapi.auth2.GoogleAuth {\r\n    return this._GoogleAuth;\r\n  }\r\n  public set GoogleAuth(value: gapi.auth2.GoogleAuth) {\r\n    this._GoogleAuth = value;\r\n  }\r\n\r\n  constructor(@Inject(NG_GAPI_CONFIG) config: GoogleClientConfig) {\r\n    this.config = new GoogleSDKConfig(config);\r\n    this.loadSDK().subscribe(() => {\r\n      console.log('Google: SDK loaded');\r\n      this.onload.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Método para obtener un token de inicio de sesión junto con la información de perfil\r\n   * @returns {Observable<GoogleUserProfile>}\r\n   */\r\n  public login(): Observable<GoogleUserProfile> {\r\n    return new Observable((observer: Observer<GoogleUserProfile>) => {\r\n\r\n      this.GoogleAuth.signIn().then((res: gapi.auth2.GoogleUser) => {\r\n\r\n        const profile = res.getBasicProfile();\r\n\r\n        const googleProfile: GoogleUserProfile = {\r\n          id: profile.getId(),\r\n          id_token: res.getAuthResponse().id_token,\r\n          first_name: profile.getGivenName(),\r\n          last_name: profile.getFamilyName(),\r\n          email: profile.getEmail(),\r\n          picture: profile.getImageUrl().replace('=s96-', '=-')\r\n        };\r\n\r\n        observer.next(googleProfile);\r\n        observer.complete();\r\n\r\n      }, (err: any) => {\r\n          return observer.error(err);\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Metodo privado que carga la libreria de Google, al cargarse correctamente, se emite el evento 'onload'\r\n   */\r\n  private loadSDK(): Observable<void> {\r\n    return new Observable((observer: Observer<void>) => {\r\n\r\n      if ((window as any).gapi == null) {\r\n\r\n        const node = document.createElement('script');\r\n        node.src = this.gapiUrl;\r\n        node.type = 'text/javascript';\r\n        node.async = true;\r\n        node.defer = true;\r\n        node.id = 'google-api';\r\n        document.getElementsByTagName('head')[0].appendChild(node);\r\n        node.onload = () => {\r\n          gapi.load('auth2', () => {\r\n            gapi.auth2.init(this.config.clientConfig).then((auth: gapi.auth2.GoogleAuth) => {\r\n              this.GoogleAuth = auth;\r\n              observer.next();\r\n              observer.complete();\r\n            }).catch((err: any) => observer.error(err));\r\n          });\r\n        };\r\n\r\n      } else {\r\n        observer.next();\r\n        observer.complete();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { GoogleSDKService } from './google-sdk.service';\r\n\r\n/**\r\n * @description\r\n * Módulo para parametrizar la autenticación con Google\r\n * @example\r\n * import { NG_GAPI_CONFIG, GoogleSDKModule } from '@sersol/ngx';\r\n * @NgModule({\r\n *  imports: [\r\n *    ...,\r\n *    GoogleSDKModule.forRoot({\r\n *        provide: NG_GAPI_CONFIG,\r\n *        useValue: {\r\n *            client_id: GOOGLE_CLIENT_ID,\r\n *            scope: 'profile email'\r\n *        }\r\n *    }),\r\n *    ...\r\n *  ],\r\n *  declarations: [...],\r\n *  schemas: [...],\r\n *  providers: [...],\r\n *  bootstrap: [...]\r\n * })\r\n * export class AppModule { }\r\n */\r\n@NgModule()\r\nexport class GoogleSDKModule {\r\n  static forRoot(gapiConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: GoogleSDKModule,\r\n      providers: [\r\n        gapiConfigProvider,\r\n        GoogleSDKService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import ClientConfig = facebook.InitParams;\r\n\r\nexport class FacebookSDKConfig {\r\n  private _clientConfig: ClientConfig;\r\n  public get clientConfig(): ClientConfig {\r\n    return this._clientConfig;\r\n  }\r\n  public set clientConfig(value: ClientConfig) {\r\n    this._clientConfig = value;\r\n  }\r\n\r\n  constructor(clientConfig: ClientConfig) {\r\n    this.clientConfig = clientConfig;\r\n  }\r\n}\r\n","/// <reference types=\"facebook-js-sdk\" />\r\n\r\nimport { FacebookUserProfile } from './Ifacebook';\r\nimport { Observable } from 'rxjs';\r\nimport { Inject, Injectable, InjectionToken, Output, EventEmitter } from '@angular/core';\r\nimport { FacebookSDKConfig } from './config/facebook-sdk.config';\r\nimport { Observer } from 'rxjs';\r\n\r\nexport let NG_FSDK_CONFIG: InjectionToken<facebook.InitParams> = new InjectionToken<facebook.InitParams>('facebook.config');\r\n\r\n/**\r\n * @description\r\n * Servicio para interacturar con el SDK de Facebook\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FacebookSDKService {\r\n  private readonly fsdkUrl: string = 'https://connect.facebook.net/en_US/sdk.js';\r\n  private _config: FacebookSDKConfig;\r\n  public get config(): FacebookSDKConfig {\r\n    return this._config;\r\n  }\r\n  public set config(value: FacebookSDKConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  @Output() onload: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(@Inject(NG_FSDK_CONFIG) config: facebook.InitParams) {\r\n    this.config = new FacebookSDKConfig(config);\r\n    this.loadSDK().subscribe(() => {\r\n      console.log('Facebook: SDK loaded');\r\n      this.onload.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Método para obtener un token de inicio de sesión junto con la información de perfil\r\n   * @returns {Observable<FacebookUserProfile>}\r\n   */\r\n  public login(): Observable<FacebookUserProfile> {\r\n    return new Observable((observer: Observer<FacebookUserProfile>) => {\r\n\r\n      FB.login((response: any) => {\r\n        if (response.status === 'connected') {\r\n          FB.api('/me', { fields: 'first_name,last_name,email' }, (res: any) => {\r\n\r\n            FB.api('/me/picture', {\r\n              width: 300,\r\n              redirect: 'false'\r\n            }, (pic: any) => {\r\n\r\n              const facebookProfile: FacebookUserProfile = {\r\n                id: res.id,\r\n                access_token: response.authResponse.accessToken,\r\n                first_name: res.first_name,\r\n                last_name: res.last_name,\r\n                email: res.email,\r\n              };\r\n\r\n              if (pic?.data?.url) {\r\n                facebookProfile.picture = pic.data.url;\r\n              }\r\n\r\n              observer.next(facebookProfile);\r\n              observer.complete();\r\n\r\n            });\r\n\r\n          });\r\n\r\n        } else {\r\n          console.warn('Facebook: Popup closed by user');\r\n        }\r\n      }, { scope: 'public_profile,email' });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Metodo privado que carga la libreria de Facebook, al cargarse correctamente, se emite el evento 'onload'\r\n   */\r\n  public loadSDK(): Observable<boolean> {\r\n    return new Observable((observer: Observer<boolean>) => {\r\n\r\n      if ((window as any).FB == null) {\r\n\r\n        const node = document.createElement('script');\r\n        node.src = this.fsdkUrl;\r\n        node.type = 'text/javascript';\r\n        node.async = true;\r\n        node.defer = true;\r\n        node.id = 'facebook-sdk';\r\n        document.getElementsByTagName('head')[0].appendChild(node);\r\n        node.onload = () => {\r\n          FB.init(this.config.clientConfig);\r\n          FB.AppEvents.logPageView();\r\n\r\n          observer.next(true);\r\n          observer.complete();\r\n        };\r\n\r\n      } else {\r\n        observer.next(true);\r\n        observer.complete();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\r\nimport { FacebookSDKService } from './facebook-sdk.service';\r\n\r\n/**\r\n * @description\r\n * Módulo para parametrizar la autenticación con Facebook\r\n * @example\r\n * import { NG_FSDK_CONFIG, FacebookSDKModule } from '@sersol/ngx';\r\n * @NgModule({\r\n    imports: [\r\n      ...,\r\n      FacebookSDKModule.forRoot({\r\n          provide: NG_FSDK_CONFIG,\r\n          useValue: {\r\n              appId: FACEBOOK_CLIENT_ID,\r\n              cookie: true,\r\n              xfbml: true,\r\n              version: 'v6.0'\r\n          }\r\n      }),\r\n      ...\r\n    ],\r\n    declarations: [...],\r\n    schemas: [...],\r\n    providers: [...],\r\n    bootstrap: [...]\r\n})\r\nexport class AppModule { }\r\n */\r\n@NgModule()\r\nexport class FacebookSDKModule {\r\n  static forRoot(fsdkConfigProvider: Provider): ModuleWithProviders {\r\n    return {\r\n      ngModule: FacebookSDKModule,\r\n      providers: [\r\n        fsdkConfigProvider,\r\n        FacebookSDKService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","/**\r\n * @description\r\n * Función para verificar si un valor existe en un arreglo\r\n * @param {any} value Valor a encontrar\r\n * @param {any[]} array Arreglo objetivo de la busqueda\r\n * @returns {boolean}\r\n */\r\nexport function inArray(value: any, array: any[]): boolean {\r\n  return array ? array.indexOf(value) !== -1 : false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para verificar si un valor NO existe en un arreglo\r\n * @param {any} value Valor a encontrar\r\n * @param {any[]} array Arreglo objetivo de la busqueda\r\n * @returns {boolean}\r\n */\r\nexport function notInArray(value: any, array: any[]): boolean {\r\n  return array ? array.indexOf(value) === -1 : false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para convertir un string en string[]\r\n * @param value Valor a convertir\r\n */\r\nexport const toArray = (value: any): string[] => Array.isArray(value) ? value : [value];\r\n\r\n/**\r\n * @description\r\n * Función para crear un objeto con los datos agrupado de un arreglo por un valor dado\r\n * @param {any[]} array Arreglo para agrupar\r\n * @param {string | number} field Campo para agrupar\r\n * @returns {boolean}\r\n */\r\nexport function arrayGroupBy(array: any[], field: string | number): object {\r\n\r\n  const array_group_by = {};\r\n\r\n  for (let index = 0; index < array.length; ++index) {\r\n\r\n    if (array_group_by[array[index][field]] === undefined) {\r\n      array_group_by[array[index][field]] = [];\r\n    }\r\n\r\n    array_group_by[array[index][field]].push(array[index]);\r\n  }\r\n\r\n  return array_group_by;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener un objeto contenido en un arreglo usando una pareja clave-valor para su busqueda\r\n * @param {any[]} array Arreglo de objetos\r\n * @param {string | number} field Campo de busqueda\r\n * @param {any} value Valor del campo de busqueda\r\n * @returns {object}\r\n */\r\nexport function getObjectByValue(array: any[], field: string | number, value: any): {} {\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    if (array[i].hasOwnProperty(field)) {\r\n\r\n      if (array[i][field] === value) {\r\n\r\n        return array[i];\r\n\r\n      } else {\r\n\r\n        for (const prop in array[i][field]) {\r\n\r\n          if (array[i][field][prop] === value) {\r\n\r\n            return array[i];\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener el índice de un objeto contenido en un arreglo usando una pareja clave-valor para su busqueda\r\n * @param {any[]} array Arreglo de objetos\r\n * @param {string | number} field Campo de busqueda\r\n * @param {any} value Valor del campo de busqueda\r\n * @returns {number}\r\n */\r\nexport function getObjIndexByValue(array: any[], field: string | number, value: any): number {\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    if (array[i].hasOwnProperty(field)) {\r\n\r\n      if (array[i][field] === value) {\r\n\r\n        return i;\r\n\r\n      } else {\r\n\r\n        for (const prop in array[i][field]) {\r\n\r\n          if (array[i][field][prop] === value) {\r\n\r\n            return i;\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n}\r\n","import { OpenIdData } from './Iopen-id-client';\r\nimport { Injectable } from '@angular/core';\r\nimport { inArray } from '../utils/array';\r\n\r\n/**\r\n * @description\r\n * Servicio para verificar si es usuario tiene o no permisos para realizar ciertas acciones\r\n * @example\r\n * constructor(private claimsService: ClaimsService) { }\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ClaimsService {\r\n\r\n    private _openIdData: OpenIdData;\r\n    public get openIdData(): OpenIdData {\r\n        return this._openIdData;\r\n    }\r\n    public set openIdData(value: OpenIdData) {\r\n        this._openIdData = value;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método para verificar si el usuario tiene un permiso\r\n     * @param {string} requiredPermission - Nombre del permiso a consultar\r\n     * @example\r\n     * this.claimsService.hasPermission('users.view');\r\n     * @returns {boolean}\r\n     */\r\n    public hasPermission(requiredPermission: string): boolean {\r\n        return this.openIdData.claims.indexOf(requiredPermission) !== -1;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método para verificar si el usuario tiene un al menos un permiso del listado consultado\r\n     * @param {string[]} requiredPermissions - Arreglo de permisos a consultar\r\n     * @example\r\n     * this.claimsService.atLeastPermissions(['users.view', 'users.update', 'users.add']);\r\n     * @returns {boolean}\r\n     */\r\n    public atLeastPermissions(requiredPermissions: string[]): boolean {\r\n        for (let index = 0; index < requiredPermissions.length; index++) {\r\n\r\n            if (inArray(requiredPermissions[index], this.openIdData.claims)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Método para verificar si el usuario tiene todos los permisos consultados\r\n     * @param {string[]} requiredPermissions - Arreglo de permisos a consultar\r\n     * @example\r\n     * this.claimsService.hasPermissions(['users.view', 'users.update', 'users.add']);\r\n     * @returns {boolean}\r\n     */\r\n    public hasPermissions(requiredPermissions: string[]): boolean {\r\n\r\n        for (let index = 0; index < requiredPermissions.length; index++) {\r\n\r\n            if (!inArray(requiredPermissions[index], this.openIdData.claims)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { hasValue } from '../utils/check';\r\n\r\n/**\r\n * @description\r\n * Función para transformar un objeto en un string apto para filtrar resultados GraphQL\r\n * @param {any} obj Objeto a convertir\r\n * @returns {string}\r\n */\r\nexport function objectToGraphParams(obj: any): string {\r\n\r\n  let graph_params = '';\r\n\r\n  for (const [key, value] of Object.entries(obj)) {\r\n      if (hasValue(value)) {\r\n          graph_params += key + ': ';\r\n\r\n          if (typeof (value) === 'string') {\r\n              graph_params += '\"' + value + '\"';\r\n          } else {\r\n              graph_params += value;\r\n          }\r\n\r\n          graph_params += ',';\r\n      }\r\n  }\r\n\r\n  if (hasValue(graph_params)) {\r\n      graph_params = graph_params.substring(0, graph_params.length - 1);\r\n  }\r\n\r\n  return graph_params;\r\n}\r\n","/**\r\n * Deep merge source object into target object\r\n * @param target Target object\r\n * @param source Source object\r\n */\r\nexport function mergeObjs(target: any, source: any) {\r\n    const isObject = (obj: any) => obj && typeof obj === 'object';\r\n\r\n    if (!isObject(target) || !isObject(source)) {\r\n        return source;\r\n    }\r\n\r\n    Object.keys(source).forEach(key => {\r\n        const targetValue = target[key];\r\n        const sourceValue = source[key];\r\n\r\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\r\n            target[key] = targetValue.concat(sourceValue);\r\n        } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n            target[key] = mergeObjs(Object.assign({}, targetValue), sourceValue);\r\n        } else {\r\n            target[key] = sourceValue;\r\n        }\r\n    });\r\n\r\n    return target;\r\n}\r\n","import { Renderer2 } from '@angular/core';\r\nimport { Parser } from 'bowser';\r\n\r\n/**\r\n * @description Agrega 4 clases css a un elemento HTML\r\n * @example <body class=\"bos-macOS bosv-10.15.4 bn-Chrome bv-81.0.4044.129\">\r\n * @param {Parser.Parser} bowserInstance Objeto Bowser parseado\r\n * @param {Renderer2} renderer Elemento a modificar\r\n */\r\nexport function setBowserClasses(bowserInstance: Parser.Parser, renderer: Renderer2) {\r\n    renderer.addClass(document.body, 'bos-' + bowserInstance.getOSName().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bosv-' + bowserInstance.getOSVersion().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bn-' + bowserInstance.getBrowserName().replace(/ +/g, '-'));\r\n    renderer.addClass(document.body, 'bv-' + bowserInstance.getBrowserVersion().replace(/ +/g, '-'));\r\n}\r\n","\r\n/**\r\n * @description\r\n * Función para verificar si el navegador dispone de lector PDF\r\n * @returns {boolean}\r\n */\r\nexport function hasPdfViewer() {\r\n  for (let index = 0; index < window.navigator.plugins.length; index++) {\r\n      if (window.navigator.plugins[index].name.toLowerCase().indexOf('pdf') > -1) {\r\n          return true;\r\n      }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para extraer todas las reglas CSS aplicadas a un elemento DOM\r\n * @param {Element} element Elemento DOM\r\n * @returns {CSSStyleDeclaration}\r\n */\r\nexport function getStyles(element: Element) {\r\n  return !(element instanceof HTMLElement) ? {} :\r\n      element.ownerDocument && element.ownerDocument.defaultView.opener\r\n          ? element.ownerDocument.defaultView.getComputedStyle(element)\r\n          : window.getComputedStyle(element);\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener el ancho de la ventana o pestaña de la página\r\n * @returns {number}\r\n */\r\nexport function browserWidth(): number {\r\n  return 0 < window.innerWidth ? window.innerWidth : screen.width;\r\n}\r\n\r\n/* if (bowser) {\r\n  $('body').addClass('bos-' + bowser.osname.replace(/ /g, \"\") + ' bosv-' + bowser.osversion.replace(/ /g, \"\")\r\n  + ' bn-' + bowser.name.replace(/ /g, \"\") + ' bv-' + bowser.version.replace(/ /g, \"\"));\r\n} */\r\n","import { mergeObjs } from './object';\r\n\r\n/**\r\n * @description\r\n * Función para generar un código GUID aleatorio\r\n * @returns {string}\r\n */\r\nexport function guid(): string {\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para generar un código alfanúmerico único\r\n * @returns {string}\r\n */\r\nexport function uniqueId(): string {\r\n  const today = new Date();\r\n  return s4() + s4() + s4() + s4() + s4() + s4() + s4() + s4() + Math.floor((today.getTime() * Math.random()));\r\n}\r\n\r\nfunction s4(): string {\r\n  return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n}\r\n\r\n/**\r\n * @description\r\n * Función para obtener un número aleatorio\r\n * @param {number} min Número mínimo\r\n * @param {number} max Número máximo\r\n * @returns {number}\r\n */\r\nexport function getRandomInt(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n\r\nexport interface RandomPasswordOps {\r\n    /**\r\n     * Tamaño de la contraseña\r\n     */\r\n    length?: number;\r\n\r\n    /***\r\n     * Habilita si se incluyen números\r\n     */\r\n    numbers?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen caracteres especiales\r\n     */\r\n    specialChars?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen letras en mayúsculas\r\n     */\r\n    lettersUpperCase?: boolean;\r\n\r\n    /**\r\n     * Habilita si se incluyen letras en minúsculas\r\n     */\r\n    lettersLowerCase?: boolean;\r\n}\r\n\r\n/**\r\n * Función para generar contraseñas aleatorias\r\n * @param options Parametros de contraseña\r\n */\r\nexport function generatePassword(options?: RandomPasswordOps) {\r\n\r\n    const defaultOptions: RandomPasswordOps = {\r\n        length: 8,\r\n        numbers: true,\r\n        specialChars: false,\r\n        lettersLowerCase: true,\r\n        lettersUpperCase: true\r\n    };\r\n\r\n    mergeObjs(defaultOptions, options);\r\n\r\n    let charset = '';\r\n\r\n    if (defaultOptions?.numbers) {\r\n        charset += '0123456789';\r\n    }\r\n\r\n    if (defaultOptions?.lettersLowerCase) {\r\n        charset += 'abcdefghijklmnopqrstuvwxyz';\r\n    }\r\n\r\n    if (defaultOptions?.lettersUpperCase) {\r\n        charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    }\r\n\r\n    if (defaultOptions?.specialChars) {\r\n        charset += '!#$%&\\()*+,-./:;<=>?@^[\\\\]^_`{|}~';\r\n    }\r\n\r\n    let retVal = '';\r\n\r\n    for (let i = 0, n = charset.length; i < defaultOptions.length; ++i) {\r\n        retVal += charset.charAt(Math.floor(Math.random() * n));\r\n    }\r\n\r\n    return retVal;\r\n}\r\n","/**\r\n * @description\r\n * Mapeo de teclas con su respectivo código númerico\r\n */\r\nexport const KEYBOARD_KEYS = {\r\n  up: 38,\r\n  down: 40,\r\n  left: 37,\r\n  right: 39,\r\n  escape: 27,\r\n  enter: 13,\r\n  backspace: 8,\r\n  delete: 46,\r\n  shift: 16,\r\n  leftCmd: 91,\r\n  rightCmd: 93,\r\n  ctrl: 17,\r\n  alt: 18,\r\n  tab: 9\r\n};\r\n","/**\r\n * @description Colección de Regex comunes\r\n */\r\nexport module Patterns {\r\n  export const PASSWORD = /^((?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])).{6,}$/;\r\n  export const DOMAIN = /^([a-zA-Z0-9\\_\\-\\.]{2,63})\\.([a-zA-Z0-9]{2,})$/;\r\n  export const EMAIL = /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/;\r\n  export const IMAGE = /^image\\/([a-zA-Z].*)$/;\r\n  export const NUMBER = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n  export const CC = /((\\d{8})|(\\d{10})|(\\d{11})|(\\d{6}-\\d{5}))?/g;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { LatLng2LatLngOptions } from './types';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class MapService {\r\n\r\n    /**\r\n     * Metodo para obtener la posisión GPS actual usando Observable\r\n     * @example\r\n     * this.mapService.getCurrentPosition().pipe(take(1)).subscribe({\r\n     *      next(position) {\r\n     *        console.log('Current Position: ', position);\r\n     *      },\r\n     *      error(msg) {\r\n     *        console.log('Error Getting Location: ', msg);\r\n     *      }\r\n     *   });\r\n     */\r\n    getCurrentPosition(): Observable<Position> {\r\n\r\n        return new Observable((observer) => {\r\n\r\n            // Simple geolocation API check provides values to publish\r\n            if ('geolocation' in navigator) {\r\n                navigator.geolocation.getCurrentPosition((position: Position) => {\r\n                    observer.next(position);\r\n                }, (error: PositionError) => {\r\n                    observer.error(error);\r\n                });\r\n            } else {\r\n                observer.error('Geolocation not available');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Verifica si la latitud y longitud son válidas\r\n     * @param lat Latitud\r\n     * @param lng Longitud\r\n     */\r\n    checkLatLog(lat: number, lng: number) {\r\n        return (-90 <= lat) && (90 >= lat) && (-180 <= lng) && (180 >= lng);\r\n    }\r\n\r\n    /**\r\n     * Obtiene la distancia en km entre dos puntos LatLng\r\n     * @param lon1 Latitud\r\n     */\r\n    distancePoints(options: LatLng2LatLngOptions) {\r\n        // tslint:disable-next-line: max-line-length\r\n        const a = Math.sin(((options.to.lat - options.from.lat) * Math.PI / 180) / 2) * Math.sin(((options.to.lat - options.from.lat) * Math.PI / 180) / 2) + Math.cos(options.from.lat * Math.PI / 180) * Math.cos(options.to.lat * Math.PI / 180) * Math.sin(((options.to.lng - options.from.lng) * Math.PI / 180) / 2) * Math.sin(((options.to.lng - options.from.lng) * Math.PI / 180) / 2);\r\n        return (6371 * (2 * Math.asin(Math.sqrt(a)))) * 1.60934;\r\n    }\r\n\r\n    cutPrecision(obj: any, precision: number) {\r\n        if ('number' === typeof obj[0]) {\r\n            for (let i = 0; i < obj.length; i++) { obj[i] = Math.round(obj[i] * precision) / precision; }\r\n        } else {\r\n            const arr = obj.features || obj.geometries || obj.coordinates || obj;\r\n            for (let i = 0; i < arr.length; i++) { this.cutPrecision(arr[i], precision); }\r\n        }\r\n    }\r\n\r\n    middlePoint(options: LatLng2LatLngOptions) {\r\n\r\n        if ((options.from.lng !== options.to.lng) || (options.from.lat !== options.to.lat)) {\r\n\r\n            const lat1 = options.from.lat * Math.PI / 180;\r\n            const lat2 = options.to.lat * Math.PI / 180;\r\n            const lon1 = options.from.lng * Math.PI / 180;\r\n            const lon2 = options.to.lng * Math.PI / 180;\r\n            const dLon = lon2 - lon1;\r\n            const x = Math.cos(lat2) * Math.cos(dLon);\r\n            const y = Math.cos(lat2) * Math.sin(dLon);\r\n            let lat3 = Math.atan2(Math.sin(lat1) + Math.sin(lat2), Math.sqrt((Math.cos(lat1) + x) * (Math.cos(lat1) + x) + y * y));\r\n            let lon3 = lon1 + Math.atan2(y, Math.cos(lat1) + x);\r\n            lat3 *= 180 / Math.PI;\r\n            lon3 *= 180 / Math.PI;\r\n            const deltaY = options.to.lng - options.from.lng;\r\n            const deltaX = options.to.lat - options.from.lat;\r\n            const angleInDegrees = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\r\n            return {\r\n                longitude: lon3,\r\n                Latitude: lat3,\r\n                angle: angleInDegrees,\r\n                distance: this.distancePoints(options)\r\n            };\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n}\r\n","import * as L from 'leaflet';\r\n\r\n// Layers Maps for Leaflet\r\nexport const LEAFLET_MAP_LAYERS = {\r\n    'OpenStreetMap Street': L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }),\r\n    'Mapbox Street': L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n        maxZoom: 18,\r\n        id: 'mapbox/streets-v11',\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken: (window as any).mapbox_access_token\r\n    })\r\n};\r\n","import * as L from 'leaflet';\r\nimport 'leaflet.markercluster';\r\nimport '@sersol/leaflet-plugins/leaflet-fullscreen';\r\nimport '@sersol/leaflet-plugins/leaflet-mouseposition';\r\nimport { mergeObjs } from '../../utils/object';\r\nimport { hasValue } from '../../utils/check';\r\nimport { LeafletMapOptions, LeafletPadding } from './types';\r\nimport { CenterPoint, LatLng } from '../types';\r\nimport { LEAFLET_MAP_LAYERS } from './providers';\r\n\r\nexport class LeafletMap {\r\n    map: L.Map;\r\n    markers: any = {};\r\n    markerCluster: L.MarkerClusterGroup;\r\n    layerControl: L.Control.Layers;\r\n    options: LeafletMapOptions = {\r\n        container: 'leaflet-map',\r\n        initialView: {\r\n            lat: 4.6288702,\r\n            lng: -74.1193724,\r\n            zoom: 11\r\n        },\r\n        clusterMarkers: {\r\n            enable: true,\r\n            config: {}\r\n        },\r\n        layers: LEAFLET_MAP_LAYERS,\r\n        mapOptions: {\r\n            positionControl: true,\r\n            layers: [LEAFLET_MAP_LAYERS['Mapbox Street']],\r\n            zoomControl: false\r\n        },\r\n        layersOptions: {\r\n            position: 'topright'\r\n        }\r\n    };\r\n\r\n    constructor(options: LeafletMapOptions) {\r\n\r\n        mergeObjs(this.options, options);\r\n\r\n        this.map = new L.Map(this.options.container, this.options.mapOptions);\r\n\r\n        this.layerControl = new L.Control.Layers(this.options.layers, null, this.options.layersOptions);\r\n        this.map.addControl(new L.Control.MousePosition(this.options.mousePositionOptions));\r\n        this.map.addControl(this.layerControl);\r\n        this.map.addControl(new L.Control.Fullscreen(this.options.fullscreen));\r\n        this.map.addControl(new L.Control.Zoom(this.options.zoom));\r\n\r\n        this.map.setView([this.options.initialView.lat, this.options.initialView.lng], this.options.initialView.zoom);\r\n\r\n        // Create cluster and scope\r\n        if (this.options.clusterMarkers.enable) {\r\n            this.initMarkerCluster();\r\n        }\r\n\r\n    }\r\n\r\n    initMarkerCluster() {\r\n        if (L.MarkerClusterGroup) {\r\n            this.markerCluster = new L.MarkerClusterGroup([], this.options.clusterMarkers.config);\r\n            this.map.addLayer(this.markerCluster);\r\n        }\r\n    }\r\n\r\n    fitMarkersBounds(padding?: LeafletPadding, flyTo?: boolean) {\r\n\r\n        if (hasValue(this.markers)) {\r\n\r\n            const groupWrapper = [];\r\n\r\n            // tslint:disable-next-line: forin\r\n            for (const key in this.markers) {\r\n                groupWrapper.push(this.markers[key]);\r\n            }\r\n\r\n            if (hasValue(groupWrapper)) {\r\n\r\n                const pad: LeafletPadding = {\r\n                    paddingTopLeft: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    paddingBottomRight: {\r\n                        x: 0,\r\n                        y: 0\r\n                    }\r\n                };\r\n\r\n                mergeObjs(pad, padding);\r\n\r\n                const group = L.featureGroup(groupWrapper);\r\n\r\n                if (flyTo) {\r\n                    this.map.flyToBounds(group.getBounds(), {\r\n                        duration: 0.5,\r\n                        paddingTopLeft: [pad.paddingTopLeft.x, pad.paddingTopLeft.y],\r\n                        paddingBottomRight: [pad.paddingBottomRight.x, pad.paddingBottomRight.y]\r\n                    });\r\n                } else {\r\n                    this.map.fitBounds(group.getBounds(), {\r\n                        paddingTopLeft: [pad.paddingTopLeft.x, pad.paddingTopLeft.y],\r\n                        paddingBottomRight: [pad.paddingBottomRight.x, pad.paddingBottomRight.y]\r\n                    });\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    addMarker(latLng: LatLng, id: any) {\r\n\r\n        this.markers[id] = L.marker([latLng.lat, latLng.lng]);\r\n\r\n        if (this.options.clusterMarkers.enable) {\r\n            this.markerCluster.addLayer(this.markers[id]);\r\n        } else {\r\n            this.markers[id].addTo(this.map);\r\n        }\r\n\r\n        return this.markers[id];\r\n    }\r\n\r\n    panTo(latlng: L.LatLng, offset?: L.PointExpression, options?: L.ZoomPanOptions) {\r\n\r\n        if (hasValue(offset)) {\r\n            const x = this.map.latLngToContainerPoint(latlng).x - offset[0];\r\n            const y = this.map.latLngToContainerPoint(latlng).y - offset[1];\r\n            const point = this.map.containerPointToLatLng([x, y]);\r\n            return this.map.setView(point, this.map.getZoom(), options);\r\n        } else {\r\n            return this.map.setView(latlng, this.map.getZoom(), options);\r\n        }\r\n    }\r\n\r\n    setView(latlng: L.LatLng, targetZoom: number, offset?: L.PointExpression, options?: L.ZoomPanOptions) {\r\n\r\n        if (hasValue(offset)) {\r\n            const targetPoint = this.map.project(latlng, targetZoom).subtract(offset);\r\n            const targetLatLng = this.map.unproject(targetPoint, targetZoom);\r\n            return this.map.setView(targetLatLng, targetZoom, options);\r\n        } else {\r\n            return this.map.setView(latlng, targetZoom, options);\r\n        }\r\n\r\n    }\r\n\r\n    centerPoint(options: CenterPoint) {\r\n        this.map.flyTo([options.lat, options.lng], options.preserve_zoom ? this.map.getZoom() : 19, {\r\n            duration: 0.5\r\n        });\r\n    }\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\n/**\r\n * Read the content of a File or Blob using the FileReader interface.\r\n * This is an async interface so it makes sense to handle it with Rx.\r\n * @param File | Blob\r\n */\r\nexport function readAsArrayBuffer(blob: Blob): Observable<any> {\r\n\r\n    return new Observable((obs: any): void => {\r\n        if (!(blob instanceof Blob)) {\r\n            obs.error(new Error('`blob` must be an instance of File or Blob.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onerror = err => obs.error(err);\r\n        reader.onabort = err => obs.error(err);\r\n        reader.onload = () => obs.next(reader.result);\r\n        reader.onloadend = () => obs.complete();\r\n\r\n        reader.readAsArrayBuffer(blob);\r\n    });\r\n}\r\n\r\n/**\r\n * Read the content of a File or Blob using the FileReader interface.\r\n * This is an async interface so it makes sense to handle it with Rx.\r\n * @param File | Blob\r\n */\r\nexport function readAsDataURL(blob: Blob): Observable<any> {\r\n\r\n    return new Observable((obs: any): void => {\r\n        if (!(blob instanceof Blob)) {\r\n            obs.error(new Error('`blob` must be an instance of File or Blob.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onerror = err => obs.error(err);\r\n        reader.onabort = err => obs.error(err);\r\n        reader.onload = () => obs.next(reader.result);\r\n        reader.onloadend = () => obs.complete();\r\n\r\n        reader.readAsDataURL(blob);\r\n    });\r\n}\r\n\r\n/**\r\n * @description Get file type based on header info\r\n * @param arrayBuffer Result of FileReader.readAsArrayBuffer()\r\n */\r\nexport function getFileType(arrayBuffer: ArrayBuffer) {\r\n\r\n    const arr = (new Uint8Array(arrayBuffer)).subarray(0, 4);\r\n\r\n    let header = '';\r\n    for (const i of arr) {\r\n        header += i.toString(16);\r\n    }\r\n\r\n    console.log('Header file: ', header);\r\n\r\n    switch (header) {\r\n        case '89504e47':\r\n            return 'png';\r\n\r\n        case '47494638':\r\n            return 'gif';\r\n\r\n        case 'ffd8ffe0':\r\n        case 'ffd8ffe1':\r\n        case 'ffd8ffe2':\r\n        case 'ffd8ffe3':\r\n        case 'ffd8ffe8':\r\n            return 'jpeg';\r\n\r\n        case '25504446':\r\n            return 'ia';\r\n\r\n        case '504b34':\r\n            return 'xlsx';\r\n\r\n        case '25504446':\r\n            return 'pdf';\r\n\r\n        default:\r\n            return 'unknown';\r\n    }\r\n}\r\n","import { FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function lowerThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value < target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.lowerThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.lowerThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    lowerThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n}\r\n\r\nexport function lowerOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value <= target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.lowerOrEqualThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.lowerOrEqualThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    lowerOrEqualThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function greaterThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value > target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.greaterThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.greaterThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    greaterThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function greaterOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n    return (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const base = fg.get(BasePathField);\r\n        const target = fg.get(TargetPathField);\r\n\r\n        if (base.value >= target.value) {\r\n            if (hasValue(target.errors)) {\r\n                delete base.errors.greaterOrEqualThan;\r\n\r\n                if (hasValue(base.errors)) {\r\n                    base.setErrors(base.errors);\r\n                } else {\r\n                    base.setErrors(null);\r\n                }\r\n            } else {\r\n                base.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(base.errors)) {\r\n                base.errors.greaterOrEqualThan = true;\r\n                base.setErrors(base.errors);\r\n            } else {\r\n                base.setErrors({\r\n                    greaterOrEqualThan: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n","import { FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function match(originalPathField: string, duplicatePathField: string): ValidatorFn {\r\n    const validation = (fg: FormGroup): ValidationErrors | null => {\r\n\r\n        const original = fg.get(originalPathField);\r\n        const duplicate = fg.get(duplicatePathField);\r\n\r\n        if (original.value === duplicate.value) {\r\n            if (hasValue(duplicate.errors)) {\r\n                delete duplicate.errors.match;\r\n\r\n                if (hasValue(duplicate.errors)) {\r\n                    duplicate.setErrors(duplicate.errors);\r\n                } else {\r\n                    duplicate.setErrors(null);\r\n                }\r\n            } else {\r\n                duplicate.setErrors(null);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (hasValue(duplicate.errors)) {\r\n                duplicate.errors.match = true;\r\n                duplicate.setErrors(duplicate.errors);\r\n            } else {\r\n                duplicate.setErrors({\r\n                    match: true\r\n                });\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    return validation;\r\n}\r\n","import { AsyncValidatorFn, FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { getFileType, readAsArrayBuffer } from '../../file/read';\r\nimport { inArray } from '../../utils/array';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport function maxFileSize(size: string): ValidatorFn {\r\n    return (control: FormControl): ValidationErrors | null => {\r\n\r\n        const number = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n        const sizeNumber = size.match(number);\r\n        let multiplier = 1;\r\n\r\n        switch (true) {\r\n            case /[. 0-9]+(KB)/i.test(size):\r\n                multiplier = 1e3;\r\n                break;\r\n\r\n            case /[. 0-9]+(MB)/i.test(size):\r\n                multiplier = 1e6;\r\n                break;\r\n\r\n            case /[. 0-9]+(GB)/i.test(size):\r\n                multiplier = 1e9;\r\n                break;\r\n        }\r\n\r\n        if (hasValue(sizeNumber)) {\r\n            const sizeOnBytes = parseFloat(sizeNumber.join('')) * multiplier;\r\n\r\n            if (control.value) {\r\n\r\n                if (control.value.size >= sizeOnBytes) {\r\n                    return {\r\n                        maxFileSize: true\r\n                    };\r\n                }\r\n\r\n                return null;\r\n            }\r\n        } else {\r\n            console.error('maxFileSize validation: Size must have a number');\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\n\r\nexport function minFileSize(size: string): ValidatorFn {\r\n    return (control: FormControl): ValidationErrors | null => {\r\n\r\n        const number = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\r\n        const sizeNumber = size.match(number);\r\n        let multiplier = 1;\r\n\r\n        switch (true) {\r\n            case /[. 0-9]+(KB)/i.test(size):\r\n                multiplier = 1e3;\r\n                break;\r\n\r\n            case /[. 0-9]+(MB)/i.test(size):\r\n                multiplier = 1e6;\r\n                break;\r\n\r\n            case /[. 0-9]+(GB)/i.test(size):\r\n                multiplier = 1e9;\r\n                break;\r\n        }\r\n\r\n        if (hasValue(sizeNumber)) {\r\n            const sizeOnBytes = parseFloat(sizeNumber.join('')) * multiplier;\r\n\r\n            if (control.value) {\r\n\r\n                if (control.value.size <= sizeOnBytes) {\r\n                    return {\r\n                        minFileSize: true\r\n                    };\r\n                }\r\n\r\n                return null;\r\n            }\r\n        } else {\r\n            console.error('minFileSize validation: Size must have a number');\r\n        }\r\n\r\n        return null;\r\n    };\r\n}\r\n\r\nexport function requiredFileType(ext: string | string[]): AsyncValidatorFn {\r\n    return (control: FormControl): Observable<ValidationErrors | null> => {\r\n\r\n        const file = control.value;\r\n\r\n        if (file) {\r\n\r\n            if (!Array.isArray(ext)) {\r\n                ext = [ext];\r\n            }\r\n\r\n            const types = ext.map((type) => type.toLowerCase());\r\n\r\n            return readAsArrayBuffer(file)\r\n                .pipe(\r\n                    map((result: ArrayBuffer) => {\r\n\r\n                        if (inArray(getFileType(result), types)) {\r\n                            return null;\r\n                        } else {\r\n                            return {\r\n                                requiredFileType: true\r\n                            };\r\n                        }\r\n\r\n                    })\r\n                );\r\n        }\r\n\r\n        return of(null);\r\n    };\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { AsyncValidatorFn, FormControl, ValidationErrors } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, delay, map, switchMap } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\n\r\nexport interface BaseValidationModel {\r\n    Model: string;\r\n    Field: string;\r\n    Id?: string | number;\r\n    Value?: any;\r\n}\r\n\r\nexport function alreadyExist(http: HttpClient, url: string, requestBody: BaseValidationModel): AsyncValidatorFn {\r\n    return (control: FormControl): Observable<ValidationErrors | null> => {\r\n\r\n        return of(control.value).pipe(\r\n            delay(1000),\r\n            switchMap((value) => {\r\n                if (hasValue(value)) {\r\n\r\n                    requestBody.Value = value;\r\n\r\n                    return http.post(url, requestBody).pipe(\r\n                      map(() => ({ alreadyExist: true })),\r\n                      catchError(() => of(null))\r\n                    );\r\n                }\r\n\r\n                return of(null);\r\n            }\r\n        ));\r\n    };\r\n}\r\n","import { ValidationErrors, ValidatorFn, FormGroup, FormControl, AsyncValidatorFn } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, delay, map, switchMap } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { greaterOrEqualThan, greaterThan, lowerOrEqualThan, lowerThan } from './comparison';\r\nimport { match } from './match';\r\nimport { maxFileSize, minFileSize, requiredFileType } from './file';\r\nimport { alreadyExist, BaseValidationModel } from './remote';\r\n\r\n// @dynamic\r\n/**\r\n * Validaciones adicionales para Form Control's\r\n */\r\nexport class CustomValidators {\r\n\r\n    /**\r\n     * Verifica si los campos proveidos son iguales\r\n     * @param originalPathField Path del campo original\r\n     * @param duplicatePathField Path del campo que deberia ser igual al original\r\n     */\r\n    static match(originalPathField: string, duplicatePathField: string): ValidatorFn {\r\n        return match(originalPathField, duplicatePathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es menor a otro\r\n     * @param BasePathField Path del campo que debe ser menor\r\n     * @param TargetPathField Path del campo que deberia ser mayor\r\n     */\r\n    static lowerThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return lowerThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es menor o igual a otro\r\n     * @param BasePathField Path del campo que debe ser menor o igual\r\n     * @param TargetPathField Path del campo que deberia ser mayor o igual\r\n     */\r\n    static lowerOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return lowerOrEqualThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es mayor a otro\r\n     * @param BasePathField Path del campo que debe ser mayor\r\n     * @param TargetPathField Path del campo que deberia ser menor\r\n     */\r\n    static greaterThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return greaterThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si un campo es mayor o igual a otro\r\n     * @param BasePathField Path del campo que debe ser mayor o igual\r\n     * @param TargetPathField Path del campo que deberia ser menor o igual\r\n     */\r\n    static greaterOrEqualThan(BasePathField: string, TargetPathField: string): ValidatorFn {\r\n        return greaterOrEqualThan(BasePathField, TargetPathField);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el tamaño no excede el tamaño maximo indicado\r\n     * @param size Tamaño en KB, MG ó GB (ejem: 100MB)\r\n     */\r\n    static maxFileSize(size: string): ValidatorFn {\r\n        return maxFileSize(size);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el tamaño es mayor el tamaño mínimo indicado\r\n     * @param size Tamaño en KB, MG ó GB (ejem: 100MB)\r\n     */\r\n    static minFileSize(size: string): ValidatorFn {\r\n        return minFileSize(size);\r\n    }\r\n\r\n    /**\r\n     * Verifica si el archivo tiene una extensión adminitida por medio de su cabecera\r\n     * @param ext Extensiones admitidas\r\n     */\r\n    static requiredFileType(ext: string | string[]): AsyncValidatorFn {\r\n        return requiredFileType(ext);\r\n    }\r\n\r\n    /**\r\n     * Verifica si existe dicho valor en la DB si coincide con el modelo y el nombre de campo\r\n     * @param http\r\n     * @param url\r\n     * @param requestBody propiedad Id opcional para excluir de la busqueda un registro\r\n     */\r\n    static alreadyExist(http: HttpClient, url: string, requestBody: BaseValidationModel): AsyncValidatorFn {\r\n        return alreadyExist(http, url, requestBody);\r\n    }\r\n\r\n}\r\n","import { Directive, HostListener, OnInit, OnDestroy } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serControl]'\r\n})\r\nexport class SerControlDirective implements OnInit, OnDestroy {\r\n    disabled = false;\r\n    focus = false;\r\n    dirty = false;\r\n    valid = false;\r\n    invalid = false;\r\n    pending = false;\r\n    hasValue = false;\r\n    observer: Subscription;\r\n\r\n    constructor(private _ngControl: NgControl) { }\r\n\r\n    @HostListener('focus')\r\n    onFocus() {\r\n        this.focus = true;\r\n    }\r\n\r\n    @HostListener('blur')\r\n    onBlur() {\r\n        this.focus = false;\r\n    }\r\n\r\n    onChangeValue(value: any) {\r\n        this.hasValue = hasValue(value);\r\n        this.valid = this._ngControl?.control?.valid;\r\n        this.invalid = this._ngControl?.control?.invalid;\r\n        this.dirty = this._ngControl?.control?.dirty;\r\n        this.disabled = this._ngControl?.control?.disabled;\r\n        this.pending = this._ngControl?.control?.pending;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.onChangeValue(this._ngControl?.control?.value);\r\n\r\n        this.observer = this._ngControl?.control?.valueChanges.subscribe((value: any) => {\r\n            this.onChangeValue(value);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.observer?.unsubscribe();\r\n    }\r\n\r\n}\r\n","// tslint:disable: component-selector\r\nimport { Subscription } from 'rxjs';\r\nimport { Component, ContentChild, ViewEncapsulation, HostBinding } from '@angular/core';\r\nimport { SerControlDirective } from './ser-control.directive';\r\n\r\n@Component({\r\n    selector: 'ser-form-element',\r\n    template: '<ng-content></ng-content>',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerFormElementComponent {\r\n\r\n    @ContentChild(SerControlDirective) formElement: SerControlDirective;\r\n    observer: Subscription;\r\n\r\n    @HostBinding('class.disabled')\r\n    get disabled() {\r\n        return this.formElement?.disabled;\r\n    }\r\n\r\n    @HostBinding('class.focus')\r\n    get focus() {\r\n        return this.formElement?.focus;\r\n    }\r\n\r\n    @HostBinding('class.active')\r\n    get active() {\r\n        return this.formElement?.hasValue;\r\n    }\r\n\r\n    @HostBinding('class.dirty')\r\n    get dirty() {\r\n        return this.formElement?.dirty;\r\n    }\r\n\r\n    @HostBinding('class.valid')\r\n    get valid() {\r\n        return this.formElement?.valid;\r\n    }\r\n\r\n    @HostBinding('class.invalid')\r\n    get invalid() {\r\n        return this.formElement?.invalid;\r\n    }\r\n\r\n    @HostBinding('class.pending')\r\n    get pending() {\r\n        return this.formElement?.pending;\r\n    }\r\n\r\n}\r\n","import { Directive, Input, OnChanges, OnDestroy, AfterViewInit, HostBinding } from '@angular/core';\r\nimport { FormGroupDirective, AbstractControl } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { ErrorDetails, ErrorOptions } from './ser-errors';\r\nimport { toArray } from '../../utils/array';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serErrors]',\r\n    exportAs: 'serErrors'\r\n})\r\nexport class SerErrorsDirective implements OnChanges, OnDestroy, AfterViewInit {\r\n\r\n    // tslint:disable-next-line: no-input-rename\r\n    @Input('serErrors')\r\n    controlName: string;\r\n\r\n    subject = new BehaviorSubject<ErrorDetails>(null);\r\n    control: AbstractControl;\r\n    ready = false;\r\n\r\n    constructor(private _form: FormGroupDirective) { }\r\n\r\n    get errors() {\r\n        if (!this.ready) { return; }\r\n        return this.control.errors;\r\n    }\r\n\r\n    get hasErrors() {\r\n        return !!this.errors;\r\n    }\r\n\r\n    hasError(name: string, conditions: ErrorOptions): boolean {\r\n        return this.checkPropState('invalid', name, conditions);\r\n    }\r\n\r\n    isValid(name: string, conditions: ErrorOptions): boolean {\r\n        return this.checkPropState('valid', name, conditions);\r\n    }\r\n\r\n    getError(name: string) {\r\n        if (!this.ready) { return; }\r\n        return this.control.getError(name);\r\n    }\r\n\r\n    private checkPropState(prop: string, name: string, conditions: ErrorOptions): boolean {\r\n\r\n        if (!this.ready) { return; }\r\n        const controlPropsState = (\r\n            !conditions || toArray(conditions).every((condition: string) => this.control[condition])\r\n        );\r\n\r\n        if (name.charAt(0) === '*') {\r\n            return this.control[prop] && controlPropsState;\r\n        }\r\n\r\n        return (\r\n            prop === 'valid' ? !this.control.hasError(name) : this.control.hasError(name) && controlPropsState\r\n        );\r\n    }\r\n\r\n    private checkStatus() {\r\n        const control = this.control;\r\n        const errors = control.errors;\r\n        this.ready = true;\r\n\r\n        if (!errors) {\r\n            return;\r\n        }\r\n\r\n        for (const errorName in errors) {\r\n            if (this.errors.hasOwnProperty(errorName)) {\r\n                this.subject.next({ control, errorName });\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges() {\r\n        this.control = this._form.control.get(this.controlName);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        setTimeout(() => {\r\n            this.checkStatus();\r\n            this.control.statusChanges.subscribe(this.checkStatus.bind(this));\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subject.unsubscribe();\r\n    }\r\n\r\n}\r\n","import { Directive, Input, OnInit, OnDestroy, DoCheck, Inject, HostBinding, forwardRef } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport 'rxjs/add/observable/combineLatest';\r\nimport { ErrorOptions } from './ser-errors';\r\nimport { SerErrorsDirective } from './ser-errors.directive';\r\nimport { toArray } from '../../utils/array';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[serError]'\r\n})\r\nexport class SerErrorDirective implements OnInit, OnDestroy, DoCheck {\r\n\r\n    @Input() set serError(value: ErrorOptions) {\r\n        this.errorNames = toArray(value);\r\n    }\r\n\r\n    @Input() set when(value: ErrorOptions) {\r\n        this.rules = toArray(value);\r\n    }\r\n\r\n    @HostBinding('hidden')\r\n    hidden = true;\r\n\r\n    rules: string[] = [];\r\n    errorNames: string[] = [];\r\n    subscription: Subscription;\r\n    _states: Subject<string[]>;\r\n    states: Observable<string[]>;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => SerErrorsDirective)) private _serErrors: SerErrorsDirective\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this._states = new Subject<string[]>();\r\n        this.states = this._states.asObservable().distinctUntilChanged();\r\n\r\n        const errors = this._serErrors.subject\r\n            .filter(Boolean)\r\n            // tslint:disable-next-line: no-bitwise\r\n            .filter((obj: any) => !!~this.errorNames.indexOf(obj.errorName));\r\n\r\n        const states = this.states\r\n            // tslint:disable-next-line: no-bitwise\r\n            .map(states => this.rules.every(rule => !!~states.indexOf(rule)));\r\n\r\n        this.subscription = Observable.combineLatest([states, errors])\r\n            .subscribe(([states, errors]) => {\r\n                this.hidden = !(states && errors.control.hasError(errors.errorName));\r\n            });\r\n\r\n    }\r\n\r\n    ngDoCheck() {\r\n        this._states.next(\r\n            this.rules.filter((rule) => (this._serErrors.control as any)[rule])\r\n        );\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","// tslint:disable: component-selector\r\nimport { AfterViewInit, Component, ElementRef, forwardRef, HostBinding, Input, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n@Component({\r\n    selector: 'pin-input',\r\n    templateUrl: './pin-input.component.html',\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => PinInputComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class PinInputComponent implements AfterViewInit, OnInit, ControlValueAccessor {\r\n\r\n    @ViewChildren('input') inputsList: QueryList<ElementRef>;\r\n    @HostBinding('class.show') show = false;\r\n\r\n    private inputs: HTMLInputElement[] = [];\r\n\r\n    @Input() codeLength = 4;\r\n    @Input() onlyNumber = true;\r\n    @Input() isCodeHidden = false;\r\n\r\n    codeInputs: number[] | string[];\r\n    value = [];\r\n    type: string;\r\n    isDisabled = false;\r\n\r\n    writeValue(obj: any) {\r\n        if (hasValue(obj)) {\r\n            this.value = obj.toString().split('');\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.type = (this.isCodeHidden) ? 'password' : 'text';\r\n        this.codeInputs = Array(this.codeLength);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.inputsList.forEach((item, i) => {\r\n\r\n            if (hasValue(this.value[i])) {\r\n                (item.nativeElement as HTMLInputElement).value = this.value[i];\r\n            }\r\n\r\n            this.inputs.push(item.nativeElement);\r\n        });\r\n    }\r\n\r\n    private canInputValue(value: any): boolean {\r\n        if (!hasValue(value)) {\r\n            return true;\r\n        }\r\n\r\n        if (this.onlyNumber) {\r\n            return /^[0-9]+$/.test(value.toString());\r\n        } else {\r\n            return /^[0-9a-zA-Z]+$/.test(value.toString());\r\n        }\r\n    }\r\n\r\n    generateValue(): string | number {\r\n        const values: string[] = [];\r\n\r\n        this.inputs.forEach((input) => {\r\n\r\n            if (hasValue(input.value)) {\r\n                values.push(input.value.trim());\r\n            }\r\n\r\n        });\r\n\r\n        if (values.length === this.codeLength) {\r\n            return values.join('');\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    onInput(e: any, i: number) {\r\n        const next = i + 1;\r\n        const target = e.target;\r\n        const value = e.data || target.value;\r\n\r\n        this.onTouch();\r\n\r\n        if (!this.canInputValue(value)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n\r\n        if (next < this.codeLength && hasValue(value)) {\r\n            this.inputs[next].focus();\r\n        }\r\n\r\n        this.onChange(this.generateValue());\r\n\r\n    }\r\n\r\n    async onKeydown(e: KeyboardEvent, i: number) {\r\n        const prev = i - 1;\r\n        const next = i + 1;\r\n        const value = (e.target as HTMLInputElement).value;\r\n        const backspace = e.key.toLowerCase() === 'backspace';\r\n\r\n        if (backspace) {\r\n\r\n            if (prev >= 0) {\r\n\r\n                setTimeout(() => {\r\n                    this.inputs[prev].focus();\r\n                });\r\n            }\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        if (!this.canInputValue(e.key.toLowerCase())) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n\r\n        if (hasValue(value)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            if (next < this.codeLength) {\r\n                this.inputs[next].focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    onClick(e: any) {\r\n\r\n        let index = this.codeLength - 1;\r\n        e.target.setSelectionRange(e.target.value.length, e.target.value.length);\r\n\r\n        for (let i = 0; i < this.inputs.length; i++) {\r\n\r\n            if (!hasValue(this.inputs[i].value)) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (hasValue(index)) {\r\n            this.inputs[index].focus();\r\n        }\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    onChange(_: any) { }\r\n\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouch = fn;\r\n    }\r\n    onTouch() { }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n    filteredData: any = [];\r\n    private subject = new Subject<any>();\r\n\r\n    setData(data: any) {\r\n\r\n        this.filteredData = data;\r\n        this.subject.next(data);\r\n    }\r\n\r\n    getData(): Observable<any> {\r\n        return this.subject.asObservable();\r\n    }\r\n\r\n    getFilteredData() {\r\n        if (this.filteredData && this.filteredData.length > 0) {\r\n            return this.filteredData;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { hasValue } from '../../utils/check';\r\nimport { DataService } from './ser-select.service';\r\n\r\n\r\n@Pipe({\r\n    name: 'serSelectListFilter',\r\n    pure: true\r\n})\r\nexport class SerSelectListFilterPipe implements PipeTransform {\r\n\r\n    constructor(private ds: DataService) { }\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!hasValue(items) || !hasValue(filter)) {\r\n            // this.ds.setData(items);\r\n            return items;\r\n        }\r\n\r\n        const filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n        // this.ds.setData(filteredList);\r\n\r\n        if (hasValue(filteredList)) {\r\n            return filteredList;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (let t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] !== '') {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (const prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}\r\n","// tslint:disable: directive-class-suffix\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: directive-selector\r\nimport { TemplateRef, Directive } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[sd-item]'\r\n})\r\nexport class SDItemDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[sd-badge]'\r\n})\r\nexport class SDBadgeDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[sd-search]'\r\n})\r\nexport class SDSearchDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n","import {\r\n\tComponent,\r\n\tContentChild,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tInject,\r\n\tOptional,\r\n\tInput,\r\n\tNgModule,\r\n\tNgZone,\r\n\tOnChanges,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tOutput,\r\n\tRenderer2,\r\n\tViewChild,\r\n\tChangeDetectorRef,\r\n\tInjectionToken\r\n} from '@angular/core';\r\n\r\nimport { PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformServer } from '@angular/common';\r\n\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport * as tween from '@tweenjs/tween.js'\r\nimport { VirtualScrollerDefaultOptions } from './defaultoptions';\r\nimport { IPageInfo } from './ipageinfo';\r\nimport { IViewport } from './iviewport';\r\n\r\nimport { WrapGroupDimensions } from './wrapgroupdimensions';\r\nimport { WrapGroupDimension } from './wrapgroupdimension';\r\n\r\nimport { IDimensions } from './idimension';\r\n\r\n \r\n\r\n\r\n\r\nexport function VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY(): VirtualScrollerDefaultOptions {\r\n\treturn {\r\n\t\tscrollThrottlingTime: 0,\r\n\t\tscrollDebounceTime: 0,\r\n\t\tscrollAnimationTime: 750,\r\n\t\tcheckResizeInterval: 1000,\r\n\t\tresizeBypassRefreshThreshold: 5,\r\n\t\tmodifyOverflowStyleOfParentScroll: true,\r\n\t\tstripedTable: false\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Component({\r\n\tselector: 'virtual-scroller,[virtualScroller]',\r\n\texportAs: 'virtualScroller',\r\n\ttemplate: `\r\n    <div class=\"total-padding\" #invisiblePadding></div>\r\n    <div class=\"scrollable-content\" #content>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `,\r\n\thost: {\r\n\t\t'[class.horizontal]': \"horizontal\",\r\n\t\t'[class.vertical]': \"!horizontal\",\r\n\t\t'[class.selfScroll]': \"!parentScroll\"\r\n\t},\r\n\tstyles: [`\r\n    :host {\r\n      position: relative;\r\n\t  display: block;\r\n      -webkit-overflow-scrolling: touch;\r\n    }\r\n\t\r\n\t:host.horizontal.selfScroll {\r\n      overflow-y: visible;\r\n      overflow-x: auto;\r\n\t}\r\n\t:host.vertical.selfScroll {\r\n      overflow-y: auto;\r\n      overflow-x: visible;\r\n\t}\r\n\t\r\n    .scrollable-content {\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      max-width: 100vw;\r\n      max-height: 100vh;\r\n      position: absolute;\r\n    }\r\n\r\n\t.scrollable-content ::ng-deep > * {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t:host.horizontal {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content ::ng-deep > * {\r\n\t\tflex-shrink: 0;\r\n\t\tflex-grow: 0;\r\n\t\twhite-space: initial;\r\n\t}\r\n\t\r\n    .total-padding {\r\n      width: 1px;\r\n      opacity: 0;\r\n    }\r\n    \r\n    :host.horizontal .total-padding {\r\n      height: 100%;\r\n    }\r\n  `]\r\n})\r\nexport class VirtualScrollerComponent implements OnInit, OnChanges, OnDestroy {\r\n\tpublic viewPortItems: any[];\r\n\tpublic window = window;\r\n\r\n\tpublic get viewPortInfo(): IPageInfo {\r\n\t\tlet pageInfo: IViewport = this.previousViewPort || <any>{};\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex || 0,\r\n\t\t\tendIndex: pageInfo.endIndex || 0,\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition || 0,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition || 0,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition || 0,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer || 0,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer || 0\r\n\t\t};\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic executeRefreshOutsideAngularZone: boolean = false;\r\n\r\n\tprotected _enableUnequalChildrenSizes: boolean = false;\r\n\t@Input()\r\n\tpublic get enableUnequalChildrenSizes(): boolean {\r\n\t\treturn this._enableUnequalChildrenSizes;\r\n\t}\r\n\tpublic set enableUnequalChildrenSizes(value: boolean) {\r\n\t\tif (this._enableUnequalChildrenSizes === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._enableUnequalChildrenSizes = value;\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic useMarginInsteadOfTranslate: boolean = false;\r\n\r\n\t@Input()\r\n\tpublic modifyOverflowStyleOfParentScroll: boolean;\r\n\r\n\t@Input()\r\n\tpublic stripedTable: boolean;\r\n\r\n\t@Input()\r\n\tpublic scrollbarWidth: number;\r\n\r\n\t@Input()\r\n\tpublic scrollbarHeight: number;\r\n\r\n\t@Input()\r\n\tpublic childWidth: number;\r\n\r\n\t@Input()\r\n\tpublic childHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildWidth: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportWidth: number = 1920;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportHeight: number = 1080;\r\n\r\n\tprotected _bufferAmount: number = 0;\r\n\t@Input()\r\n\tpublic get bufferAmount(): number {\r\n\t\tif (typeof (this._bufferAmount) === 'number' && this._bufferAmount >= 0) {\r\n\t\t\treturn this._bufferAmount;\r\n\t\t} else {\r\n\t\t\treturn this.enableUnequalChildrenSizes ? 5 : 0;\t\r\n\t\t}\r\n\t}\r\n\tpublic set bufferAmount(value: number) {\r\n\t\tthis._bufferAmount = value;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic scrollAnimationTime: number;\r\n\r\n\t@Input()\r\n\tpublic resizeBypassRefreshThreshold: number;\r\n\r\n\tprotected _scrollThrottlingTime: number;\r\n\t@Input()\r\n\tpublic get scrollThrottlingTime(): number {\r\n\t\treturn this._scrollThrottlingTime;\r\n\t}\r\n\tpublic set scrollThrottlingTime(value: number) {\r\n\t\tthis._scrollThrottlingTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected _scrollDebounceTime: number;\r\n\t@Input()\r\n\tpublic get scrollDebounceTime(): number {\r\n\t\treturn this._scrollDebounceTime;\r\n\t}\r\n\tpublic set scrollDebounceTime(value: number) {\r\n\t\tthis._scrollDebounceTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected onScroll: () => void;\r\n\tprotected updateOnScrollFunction(): void {\r\n\t\tif (this.scrollDebounceTime) {\r\n\t\t\tthis.onScroll = <any>this.debounce(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollDebounceTime);\r\n\t\t}\r\n\t\telse if (this.scrollThrottlingTime) {\r\n\t\t\tthis.onScroll = <any>this.throttleTrailing(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollThrottlingTime);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.onScroll = () => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tprotected checkScrollElementResizedTimer: number;\r\n\tprotected _checkResizeInterval: number;\r\n\t@Input()\r\n\tpublic get checkResizeInterval(): number {\r\n\t\treturn this._checkResizeInterval;\r\n\t}\r\n\tpublic set checkResizeInterval(value: number) {\r\n\t\tif (this._checkResizeInterval === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._checkResizeInterval = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tprotected _items: any[] = [];\r\n\t@Input()\r\n\tpublic get items(): any[] {\r\n\t\treturn this._items;\r\n\t}\r\n\tpublic set items(value: any[]) {\r\n\t\tif (value === this._items) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._items = value || [];\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic compareItems: (item1: any, item2: any) => boolean = (item1: any, item2: any) => item1 === item2;\r\n\r\n\tprotected _horizontal: boolean;\r\n\t@Input()\r\n\tpublic get horizontal(): boolean {\r\n\t\treturn this._horizontal;\r\n\t}\r\n\tpublic set horizontal(value: boolean) {\r\n\t\tthis._horizontal = value;\r\n\t\tthis.updateDirection();\r\n\t}\r\n\r\n\tprotected revertParentOverscroll(): void {\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (scrollElement && this.oldParentScrollOverflow) {\r\n\t\t\tscrollElement.style['overflow-y'] = this.oldParentScrollOverflow.y;\r\n\t\t\tscrollElement.style['overflow-x'] = this.oldParentScrollOverflow.x;\r\n\t\t}\r\n\r\n\t\tthis.oldParentScrollOverflow = undefined;\r\n\t}\r\n\r\n\tprotected oldParentScrollOverflow: { x: string, y: string };\r\n\tprotected _parentScroll: Element | Window;\r\n\t@Input()\r\n\tpublic get parentScroll(): Element | Window {\r\n\t\treturn this._parentScroll;\r\n\t}\r\n\tpublic set parentScroll(value: Element | Window) {\r\n\t\tif (this._parentScroll === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.revertParentOverscroll();\r\n\t\tthis._parentScroll = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (this.modifyOverflowStyleOfParentScroll && scrollElement !== this.element.nativeElement) {\r\n\t\t\tthis.oldParentScrollOverflow = { x: scrollElement.style['overflow-x'], y: scrollElement.style['overflow-y'] };\r\n\t\t\tscrollElement.style['overflow-y'] = this.horizontal ? 'visible' : 'auto';\r\n\t\t\tscrollElement.style['overflow-x'] = this.horizontal ? 'auto' : 'visible';\r\n\t\t}\r\n\t}\r\n\r\n\t@Output()\r\n\tpublic vsUpdate: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n\r\n\t@Output()\r\n\tpublic vsChange: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsStart: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsEnd: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@ViewChild('content', { read: ElementRef, static: false })\r\n\tprotected contentElementRef: ElementRef;\r\n\r\n\t@ViewChild('invisiblePadding', { read: ElementRef, static: false })\r\n\tprotected invisiblePaddingElementRef: ElementRef;\r\n\r\n\t@ContentChild('header', { read: ElementRef, static: false })\r\n\tprotected headerElementRef: ElementRef;\r\n\r\n\t@ContentChild('container', { read: ElementRef, static: false })\r\n\tprotected containerElementRef: ElementRef;\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis.removeScrollEventHandlers();\r\n\t\tthis.revertParentOverscroll();\r\n\t}\r\n\r\n\tpublic ngOnChanges(changes: any): void {\r\n\t\tlet indexLengthChanged = this.cachedItemsLength !== this.items.length;\r\n\t\tthis.cachedItemsLength = this.items.length;\r\n\r\n\t\tconst firstRun: boolean = !changes.items || !changes.items.previousValue || changes.items.previousValue.length === 0;\r\n\t\tthis.refresh_internal(indexLengthChanged || firstRun);\r\n\t}\r\n\r\n\t\r\n\tpublic ngDoCheck(): void {\r\n\t\tif (this.cachedItemsLength !== this.items.length) {\r\n\t\t\tthis.cachedItemsLength = this.items.length;\r\n\t\t\tthis.refresh_internal(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.previousViewPort && this.viewPortItems && this.viewPortItems.length > 0) {\r\n\t\t\tlet itemsArrayChanged = false;\r\n\t\t\tfor (let i = 0; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\tif (!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer + i], this.viewPortItems[i])) {\r\n\t\t\t\t\titemsArrayChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (itemsArrayChanged) {\r\n\t\t\t\tthis.refresh_internal(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic refresh(): void {\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\tpublic invalidateAllCachedMeasurements(): void {\r\n\t\tthis.wrapGroupDimensions = {\r\n\t\t\tmaxChildSizePerWrapGroup: [],\r\n\t\t\tnumberOfKnownWrapGroupChildSizes: 0,\r\n\t\t\tsumOfKnownWrapGroupChildWidths: 0,\r\n\t\t\tsumOfKnownWrapGroupChildHeights: 0\r\n\t\t};\r\n\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementForItem(item: any): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet index = this.items && this.items.indexOf(item);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tthis.invalidateCachedMeasurementAtIndex(index);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementAtIndex(index: number): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet cachedMeasurement = this.wrapGroupDimensions.maxChildSizePerWrapGroup[index];\r\n\t\t\tif (cachedMeasurement) {\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[index] = undefined;\r\n\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= cachedMeasurement.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= cachedMeasurement.childHeight || 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic scrollInto(item: any, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet index: number = this.items.indexOf(item);\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.scrollToIndex(index, alignToBeginning, additionalOffset, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToIndex(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet maxRetries: number = 5;\r\n\r\n\t\tlet retryIfNeeded = () => {\r\n\t\t\t--maxRetries;\r\n\t\t\tif (maxRetries <= 0) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet dimensions = this.calculateDimensions();\r\n\t\t\tlet desiredStartIndex = Math.min(Math.max(index, 0), dimensions.itemCount - 1);\r\n\t\t\tif (this.previousViewPort.startIndex === desiredStartIndex) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, 0, retryIfNeeded);\r\n\t\t};\r\n\r\n\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, animationMilliseconds, retryIfNeeded);\r\n\t}\r\n\r\n\tprotected scrollToIndex_internal(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet scroll = this.calculatePadding(index, dimensions) + additionalOffset;\r\n\t\tif (!alignToBeginning) {\r\n\t\t\tscroll -= dimensions.wrapGroupsPerPage * dimensions[this._childScrollDim];\r\n\t\t}\r\n\r\n\t\tthis.scrollToPosition(scroll, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToPosition(scrollPosition: number, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tscrollPosition += this.getElementsOffset();\r\n\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tlet animationRequest: number;\r\n\r\n\t\tif (this.currentTween) {\r\n\t\t\tthis.currentTween.stop();\r\n\t\t\tthis.currentTween = undefined;\r\n\t\t}\r\n\r\n\t\tif (!animationMilliseconds) {\r\n\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, scrollPosition);\r\n\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tweenConfigObj = { scrollPosition: scrollElement[this._scrollType] };\r\n\r\n\t\tlet newTween = new tween.Tween(tweenConfigObj)\r\n\t\t\t.to({ scrollPosition }, animationMilliseconds)\r\n\t\t\t.easing(tween.Easing.Quadratic.Out)\r\n\t\t\t.onUpdate((data) => {\r\n\t\t\t\tif (isNaN(data.scrollPosition)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, data.scrollPosition);\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t})\r\n\t\t\t.onStop(() => {\r\n\t\t\t\tcancelAnimationFrame(animationRequest);\r\n\t\t\t})\r\n\t\t\t.start();\r\n\r\n\t\tconst animate = (time?: number) => {\r\n\t\t\tif (!newTween[\"isPlaying\"]()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnewTween.update(time);\r\n\t\t\tif (tweenConfigObj.scrollPosition === scrollPosition) {\r\n\t\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\t\tanimationRequest = requestAnimationFrame(animate);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tanimate();\r\n\t\tthis.currentTween = newTween;\r\n\t}\r\n\r\n\tprotected isAngularUniversalSSR: boolean;\r\n\r\n\tconstructor(protected readonly element: ElementRef,\r\n\t\tprotected readonly renderer: Renderer2,\r\n\t\tprotected readonly zone: NgZone,\r\n\t\tprotected changeDetectorRef: ChangeDetectorRef,\r\n\t\t@Inject(PLATFORM_ID) platformId: Object,\r\n\t\t@Optional() @Inject('virtual-scroller-default-options')\r\n\t\toptions: VirtualScrollerDefaultOptions) {\r\n\t\t\t\r\n\t\tthis.isAngularUniversalSSR = isPlatformServer(platformId);\r\n\r\n\t\tthis.scrollThrottlingTime = options.scrollThrottlingTime;\r\n\t\tthis.scrollDebounceTime = options.scrollDebounceTime;\r\n\t\tthis.scrollAnimationTime = options.scrollAnimationTime;\r\n\t\tthis.scrollbarWidth = options.scrollbarWidth;\r\n\t\tthis.scrollbarHeight = options.scrollbarHeight;\r\n\t\tthis.checkResizeInterval = options.checkResizeInterval;\r\n\t\tthis.resizeBypassRefreshThreshold = options.resizeBypassRefreshThreshold;\r\n\t\tthis.modifyOverflowStyleOfParentScroll = options.modifyOverflowStyleOfParentScroll;\r\n\t\tthis.stripedTable = options.stripedTable;\r\n\r\n\t\tthis.horizontal = false;\r\n\t\tthis.resetWrapGroupDimensions();\r\n\t}\r\n\t\r\n\tprotected getElementSize(element: HTMLElement) : ClientRect {\r\n\t\tlet result = element.getBoundingClientRect();\r\n\t\tlet styles = getComputedStyle(element);\r\n\t\tlet marginTop = parseInt(styles['margin-top'], 10) || 0;\r\n\t\tlet marginBottom = parseInt(styles['margin-bottom'], 10) || 0;\r\n\t\tlet marginLeft = parseInt(styles['margin-left'], 10) || 0;\r\n\t\tlet marginRight = parseInt(styles['margin-right'], 10) || 0;\r\n\t\t\r\n\t\treturn {\r\n\t\t\ttop: result.top + marginTop,\r\n\t\t\tbottom: result.bottom + marginBottom,\r\n\t\t\tleft: result.left + marginLeft,\r\n\t\t\tright: result.right + marginRight,\r\n\t\t\twidth: result.width + marginLeft + marginRight,\r\n\t\t\theight: result.height + marginTop + marginBottom\r\n\t\t};\r\n\t}\r\n\r\n\tprotected previousScrollBoundingRect: ClientRect;\r\n\tprotected checkScrollElementResized(): void {\r\n\t\tlet boundingRect = this.getElementSize(this.getScrollElement());\r\n\r\n\t\tlet sizeChanged: boolean;\r\n\t\tif (!this.previousScrollBoundingRect) {\r\n\t\t\tsizeChanged = true;\r\n\t\t} else {\r\n\t\t\tlet widthChange = Math.abs(boundingRect.width - this.previousScrollBoundingRect.width);\r\n\t\t\tlet heightChange = Math.abs(boundingRect.height - this.previousScrollBoundingRect.height);\r\n\t\t\tsizeChanged = widthChange > this.resizeBypassRefreshThreshold || heightChange > this.resizeBypassRefreshThreshold;\r\n\t\t}\r\n\r\n\t\tif (sizeChanged) {\r\n\t\t\tthis.previousScrollBoundingRect = boundingRect;\r\n\t\t\tif (boundingRect.width > 0 && boundingRect.height > 0) {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _invisiblePaddingProperty;\r\n\tprotected _offsetType;\r\n\tprotected _scrollType;\r\n\tprotected _pageOffsetType;\r\n\tprotected _childScrollDim;\r\n\tprotected _translateDir;\r\n\tprotected _marginDir;\r\n\tprotected updateDirection(): void {\r\n\t\tif (this.horizontal) {\r\n\t\t\tthis._invisiblePaddingProperty = 'width';\r\n\t\t\tthis._offsetType = 'offsetLeft';\r\n\t\t\tthis._pageOffsetType = 'pageXOffset';\r\n\t\t\tthis._childScrollDim = 'childWidth';\r\n\t\t\tthis._marginDir = 'margin-left';\r\n\t\t\tthis._translateDir = 'translateX';\r\n\t\t\tthis._scrollType = 'scrollLeft';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._invisiblePaddingProperty = 'height';\r\n\t\t\tthis._offsetType = 'offsetTop';\r\n\t\t\tthis._pageOffsetType = 'pageYOffset';\r\n\t\t\tthis._childScrollDim = 'childHeight';\r\n\t\t\tthis._marginDir = 'margin-top';\r\n\t\t\tthis._translateDir = 'translateY';\r\n\t\t\tthis._scrollType = 'scrollTop';\r\n\t\t}\r\n\t}\r\n\r\n\tprotected debounce(func: Function, wait: number): Function {\r\n\t\tconst throttled = this.throttleTrailing(func, wait);\r\n\t\tconst result = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t\tthrottled.apply(this, arguments);\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected throttleTrailing(func: Function, wait: number): Function {\r\n\t\tlet timeout = undefined;\r\n\t\tlet _arguments = arguments;\r\n\t\tconst result = function () {\r\n\t\t\tconst _this = this;\r\n\t\t\t_arguments = arguments\r\n\r\n\t\t\tif (timeout) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (wait <= 0) {\r\n\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t} else {\r\n\t\t\t\ttimeout = setTimeout(function () {\r\n\t\t\t\t\ttimeout = undefined;\r\n\t\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t\t}, wait);\r\n\t\t\t}\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = undefined;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatedScrollbarWidth: number = 0;\r\n\tprotected calculatedScrollbarHeight: number = 0;\r\n\r\n\tprotected padding: number = 0;\r\n\tprotected previousViewPort: IViewport = <any>{};\r\n\tprotected currentTween: tween.Tween;\r\n\tprotected cachedItemsLength: number;\r\n\r\n\tprotected disposeScrollHandler: () => void | undefined;\r\n\tprotected disposeResizeHandler: () => void | undefined;\r\n\r\n\tprotected refresh_internal(itemsArrayModified: boolean, refreshCompletedCallback: () => void = undefined, maxRunTimes: number = 2): void {\r\n\t\t//note: maxRunTimes is to force it to keep recalculating if the previous iteration caused a re-render (different sliced items in viewport or scrollPosition changed).\r\n\t\t//The default of 2x max will probably be accurate enough without causing too large a performance bottleneck\r\n\t\t//The code would typically quit out on the 2nd iteration anyways. The main time it'd think more than 2 runs would be necessary would be for vastly different sized child items or if this is the 1st time the items array was initialized.\r\n\t\t//Without maxRunTimes, If the user is actively scrolling this code would become an infinite loop until they stopped scrolling. This would be okay, except each scroll event would start an additional infinte loop. We want to short-circuit it to prevent this.\r\n\r\n\t\tif (itemsArrayModified && this.previousViewPort && this.previousViewPort.scrollStartPosition > 0) {\r\n\t\t//if items were prepended, scroll forward to keep same items visible\r\n\t\t\tlet oldViewPort = this.previousViewPort;\r\n\t\t\tlet oldViewPortItems = this.viewPortItems;\r\n\t\t\t\r\n\t\t\tlet oldRefreshCompletedCallback = refreshCompletedCallback;\r\n\t\t\trefreshCompletedCallback = () => {\r\n\t\t\t\tlet scrollLengthDelta = this.previousViewPort.scrollLength - oldViewPort.scrollLength;\r\n\t\t\t\tif (scrollLengthDelta > 0 && this.viewPortItems) {\r\n\t\t\t\t\tlet oldStartItem = oldViewPortItems[0];\r\n\t\t\t\t\tlet oldStartItemIndex = this.items.findIndex(x => this.compareItems(oldStartItem, x));\r\n\t\t\t\t\tif (oldStartItemIndex > this.previousViewPort.startIndexWithBuffer) {\r\n\t\t\t\t\t\tlet itemOrderChanged = false;\r\n\t\t\t\t\t\tfor (let i = 1; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\t\t\t\tif (!this.compareItems(this.items[oldStartItemIndex + i], oldViewPortItems[i])) {\r\n\t\t\t\t\t\t\t\titemOrderChanged = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!itemOrderChanged) {\r\n\t\t\t\t\t\t\tthis.scrollToPosition(this.previousViewPort.scrollStartPosition + scrollLengthDelta , 0, oldRefreshCompletedCallback);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (oldRefreshCompletedCallback) {\r\n\t\t\t\t\toldRefreshCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\t\t\t\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\trequestAnimationFrame(() => {\r\n\r\n\t\t\t\tif (itemsArrayModified) {\r\n\t\t\t\t\tthis.resetWrapGroupDimensions();\r\n\t\t\t\t}\r\n\t\t\t\tlet viewport = this.calculateViewport();\r\n\r\n\t\t\t\tlet startChanged = itemsArrayModified || viewport.startIndex !== this.previousViewPort.startIndex;\r\n\t\t\t\tlet endChanged = itemsArrayModified || viewport.endIndex !== this.previousViewPort.endIndex;\r\n\t\t\t\tlet scrollLengthChanged = viewport.scrollLength !== this.previousViewPort.scrollLength;\r\n\t\t\t\tlet paddingChanged = viewport.padding !== this.previousViewPort.padding;\r\n\t\t\t\tlet scrollPositionChanged = viewport.scrollStartPosition !== this.previousViewPort.scrollStartPosition || viewport.scrollEndPosition !== this.previousViewPort.scrollEndPosition || viewport.maxScrollPosition !== this.previousViewPort.maxScrollPosition;\r\n\r\n\t\t\t\tthis.previousViewPort = viewport;\r\n\r\n\t\t\t\tif (scrollLengthChanged) {\r\n\t\t\t\t\tthis.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement, this._invisiblePaddingProperty, `${viewport.scrollLength}px`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (paddingChanged) {\r\n\t\t\t\t\tif (this.useMarginInsteadOfTranslate) {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, this._marginDir, `${viewport.padding}px`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'transform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.headerElementRef) {\r\n\t\t\t\t\tlet scrollPosition = this.getScrollElement()[this._scrollType];\r\n\t\t\t\t\tlet containerOffset = this.getElementsOffset();\r\n\t\t\t\t\tlet offset = Math.max(scrollPosition - viewport.padding - containerOffset + this.headerElementRef.nativeElement.clientHeight, 0);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'transform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst changeEventArg: IPageInfo = (startChanged || endChanged) ? {\r\n\t\t\t\t\tstartIndex: viewport.startIndex,\r\n\t\t\t\t\tendIndex: viewport.endIndex,\r\n\t\t\t\t\tscrollStartPosition: viewport.scrollStartPosition,\r\n\t\t\t\t\tscrollEndPosition: viewport.scrollEndPosition,\r\n\t\t\t\t\tstartIndexWithBuffer: viewport.startIndexWithBuffer,\r\n\t\t\t\t\tendIndexWithBuffer: viewport.endIndexWithBuffer,\r\n\t\t\t\t\tmaxScrollPosition: viewport.maxScrollPosition\r\n\t\t\t\t} : undefined;\r\n\r\n\r\n\t\t\t\tif (startChanged || endChanged || scrollPositionChanged) {\r\n\t\t\t\t\tconst handleChanged = () => {\r\n\t\t\t\t\t\t// update the scroll list to trigger re-render of components in viewport\r\n\t\t\t\t\t\tthis.viewPortItems = viewport.startIndexWithBuffer >= 0 && viewport.endIndexWithBuffer >= 0 ? this.items.slice(viewport.startIndexWithBuffer, viewport.endIndexWithBuffer + 1) : [];\r\n\t\t\t\t\t\tthis.vsUpdate.emit(this.viewPortItems);\r\n\r\n\t\t\t\t\t\tif (startChanged) {\r\n\t\t\t\t\t\t\tthis.vsStart.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (endChanged) {\r\n\t\t\t\t\t\t\tthis.vsEnd.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (startChanged || endChanged) {\r\n\t\t\t\t\t\t\tthis.changeDetectorRef.markForCheck();\r\n\t\t\t\t\t\t\tthis.vsChange.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (maxRunTimes > 0) {\r\n\t\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tif (this.executeRefreshOutsideAngularZone) {\r\n\t\t\t\t\t\thandleChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.zone.run(handleChanged);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (maxRunTimes > 0 && (scrollLengthChanged || paddingChanged)) {\r\n\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprotected getScrollElement(): HTMLElement {\r\n\t\treturn this.parentScroll instanceof Window ? document.scrollingElement || document.documentElement || document.body : this.parentScroll || this.element.nativeElement;\r\n\t}\r\n\r\n\tprotected addScrollEventHandlers(): void {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tthis.removeScrollEventHandlers();\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen('window', 'scroll', this.onScroll);\r\n\t\t\t\tthis.disposeResizeHandler = this.renderer.listen('window', 'resize', this.onScroll);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen(scrollElement, 'scroll', this.onScroll);\r\n\t\t\t\tif (this._checkResizeInterval > 0) {\r\n\t\t\t\t\tthis.checkScrollElementResizedTimer = <any>setInterval(() => { this.checkScrollElementResized(); }, this._checkResizeInterval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprotected removeScrollEventHandlers(): void {\r\n\t\tif (this.checkScrollElementResizedTimer) {\r\n\t\t\tclearInterval(this.checkScrollElementResizedTimer);\r\n\t\t}\r\n\r\n\t\tif (this.disposeScrollHandler) {\r\n\t\t\tthis.disposeScrollHandler();\r\n\t\t\tthis.disposeScrollHandler = undefined;\r\n\t\t}\r\n\r\n\t\tif (this.disposeResizeHandler) {\r\n\t\t\tthis.disposeResizeHandler();\r\n\t\t\tthis.disposeResizeHandler = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getElementsOffset(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet offset = 0;\r\n\r\n\t\tif (this.containerElementRef && this.containerElementRef.nativeElement) {\r\n\t\t\toffset += this.containerElementRef.nativeElement[this._offsetType];\r\n\t\t}\r\n\r\n\t\tif (this.parentScroll) {\r\n\t\t\tlet scrollElement = this.getScrollElement();\r\n\t\t\tlet elementClientRect = this.getElementSize(this.element.nativeElement);\r\n\t\t\tlet scrollClientRect = this.getElementSize(scrollElement);\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\toffset += elementClientRect.left - scrollClientRect.left;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\toffset += elementClientRect.top - scrollClientRect.top;\r\n\t\t\t}\r\n\r\n\t\t\tif (!(this.parentScroll instanceof Window)) {\r\n\t\t\t\toffset += scrollElement[this._scrollType];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn offset;\r\n\t}\r\n\r\n\tprotected countItemsPerWrapGroup(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn Math.round(this.horizontal ? this.ssrViewportHeight / this.ssrChildHeight : this.ssrViewportWidth / this.ssrChildWidth);\r\n\t\t}\r\n\r\n\t\tlet propertyName = this.horizontal ? 'offsetLeft' : 'offsetTop';\r\n\t\tlet children = ((this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement).children;\r\n\r\n\t\tlet childrenLength = children ? children.length : 0;\r\n\t\tif (childrenLength === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tlet firstOffset = children[0][propertyName];\r\n\t\tlet result = 1;\r\n\t\twhile (result < childrenLength && firstOffset === children[result][propertyName]) {\r\n\t\t\t++result;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getScrollStartPosition(): number {\r\n\t\tlet windowScrollValue = undefined;\r\n\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\twindowScrollValue = window[this._pageOffsetType];\r\n\t\t}\r\n\r\n\t\treturn windowScrollValue || this.getScrollElement()[this._scrollType] || 0;\r\n\t}\r\n\r\n\tprotected minMeasuredChildWidth: number;\r\n\tprotected minMeasuredChildHeight: number;\r\n\r\n\tprotected wrapGroupDimensions: WrapGroupDimensions;\r\n\r\n\tprotected resetWrapGroupDimensions(): void {\r\n\t\tconst oldWrapGroupDimensions = this.wrapGroupDimensions;\r\n\t\tthis.invalidateAllCachedMeasurements();\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes || !oldWrapGroupDimensions || oldWrapGroupDimensions.numberOfKnownWrapGroupChildSizes === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst itemsPerWrapGroup: number = this.countItemsPerWrapGroup();\r\n\t\tfor (let wrapGroupIndex = 0; wrapGroupIndex < oldWrapGroupDimensions.maxChildSizePerWrapGroup.length; ++wrapGroupIndex) {\r\n\t\t\tconst oldWrapGroupDimension: WrapGroupDimension = oldWrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\tif (!oldWrapGroupDimension || !oldWrapGroupDimension.items || !oldWrapGroupDimension.items.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (oldWrapGroupDimension.items.length !== itemsPerWrapGroup) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet itemsChanged = false;\r\n\t\t\tlet arrayStartIndex = itemsPerWrapGroup * wrapGroupIndex;\r\n\t\t\tfor (let i = 0; i < itemsPerWrapGroup; ++i) {\r\n\t\t\t\tif (!this.compareItems(oldWrapGroupDimension.items[i], this.items[arrayStartIndex + i])) {\r\n\t\t\t\t\titemsChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!itemsChanged) {\r\n\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += oldWrapGroupDimension.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += oldWrapGroupDimension.childHeight || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = oldWrapGroupDimension;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected calculateDimensions(): IDimensions {\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tconst maxCalculatedScrollBarSize: number = 25; // Note: Formula to auto-calculate doesn't work for ParentScroll, so we default to this if not set by consuming application\r\n\t\tthis.calculatedScrollbarHeight = Math.max(Math.min(scrollElement.offsetHeight - scrollElement.clientHeight, maxCalculatedScrollBarSize), this.calculatedScrollbarHeight);\r\n\t\tthis.calculatedScrollbarWidth = Math.max(Math.min(scrollElement.offsetWidth - scrollElement.clientWidth, maxCalculatedScrollBarSize), this.calculatedScrollbarWidth);\r\n\r\n\t\tlet viewportWidth = scrollElement.offsetWidth - (this.scrollbarWidth || this.calculatedScrollbarWidth || (this.horizontal ? 0 : maxCalculatedScrollBarSize));\r\n\t\tlet viewportHeight = scrollElement.offsetHeight - (this.scrollbarHeight || this.calculatedScrollbarHeight || (this.horizontal ? maxCalculatedScrollBarSize : 0));\r\n\r\n\t\tlet content = (this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement;\r\n\r\n\t\tlet itemsPerWrapGroup = this.countItemsPerWrapGroup();\r\n\t\tlet wrapGroupsPerPage;\r\n\r\n\t\tlet defaultChildWidth;\r\n\t\tlet defaultChildHeight;\r\n\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\tviewportWidth = this.ssrViewportWidth;\r\n\t\t\tviewportHeight = this.ssrViewportHeight;\r\n\t\t\tdefaultChildWidth = this.ssrChildWidth;\r\n\t\t\tdefaultChildHeight = this.ssrChildHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t}\r\n\t\telse if (!this.enableUnequalChildrenSizes) {\r\n\t\t\tif (content.children.length > 0) {\r\n\t\t\t\tif (!this.childWidth || !this.childHeight) {\r\n\t\t\t\t\tif (!this.minMeasuredChildWidth && viewportWidth > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildWidth = viewportWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.minMeasuredChildHeight && viewportHeight > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildHeight = viewportHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet child = content.children[0];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\t\t\t\tthis.minMeasuredChildWidth = Math.min(this.minMeasuredChildWidth, clientRect.width);\r\n\t\t\t\tthis.minMeasuredChildHeight = Math.min(this.minMeasuredChildHeight, clientRect.height);\r\n\t\t\t}\r\n\r\n\t\t\tdefaultChildWidth = this.childWidth || this.minMeasuredChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || this.minMeasuredChildHeight || viewportHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t} else {\r\n\t\t\tlet scrollOffset = scrollElement[this._scrollType] - (this.previousViewPort ? this.previousViewPort.padding : 0);\r\n\r\n\t\t\tlet arrayStartIndex = this.previousViewPort.startIndexWithBuffer || 0;\r\n\t\t\tlet wrapGroupIndex = Math.ceil(arrayStartIndex / itemsPerWrapGroup);\r\n\r\n\t\t\tlet maxWidthForWrapGroup = 0;\r\n\t\t\tlet maxHeightForWrapGroup = 0;\r\n\t\t\tlet sumOfVisibleMaxWidths = 0;\r\n\t\t\tlet sumOfVisibleMaxHeights = 0;\r\n\t\t\twrapGroupsPerPage = 0;\r\n\r\n\t\t\tfor (let i = 0; i < content.children.length; ++i) {\r\n\t\t\t\t++arrayStartIndex;\r\n\t\t\t\tlet child = content.children[i];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\r\n\t\t\t\tmaxWidthForWrapGroup = Math.max(maxWidthForWrapGroup, clientRect.width);\r\n\t\t\t\tmaxHeightForWrapGroup = Math.max(maxHeightForWrapGroup, clientRect.height);\r\n\r\n\t\t\t\tif (arrayStartIndex % itemsPerWrapGroup === 0) {\r\n\t\t\t\t\tlet oldValue = this.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\t\t\tif (oldValue) {\r\n\t\t\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= oldValue.childWidth || 0;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= oldValue.childHeight || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\tconst items = this.items.slice(arrayStartIndex - itemsPerWrapGroup, arrayStartIndex);\r\n\t\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = {\r\n\t\t\t\t\t\tchildWidth: maxWidthForWrapGroup,\r\n\t\t\t\t\t\tchildHeight: maxHeightForWrapGroup,\r\n\t\t\t\t\t\titems: items\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += maxWidthForWrapGroup;\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += maxHeightForWrapGroup;\r\n\r\n\t\t\t\t\tif (this.horizontal) {\r\n\t\t\t\t\t\tlet maxVisibleWidthForWrapGroup = Math.min(maxWidthForWrapGroup, Math.max(viewportWidth - sumOfVisibleMaxWidths, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleWidthForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleWidthForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxWidths += maxVisibleWidthForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleWidthForWrapGroup > 0 && viewportWidth >= sumOfVisibleMaxWidths) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet maxVisibleHeightForWrapGroup = Math.min(maxHeightForWrapGroup, Math.max(viewportHeight - sumOfVisibleMaxHeights, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleHeightForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleHeightForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxHeights += maxVisibleHeightForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleHeightForWrapGroup > 0 && viewportHeight >= sumOfVisibleMaxHeights) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++wrapGroupIndex;\r\n\r\n\t\t\t\t\tmaxWidthForWrapGroup = 0;\r\n\t\t\t\t\tmaxHeightForWrapGroup = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet averageChildWidth = this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tlet averageChildHeight = this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tdefaultChildWidth = this.childWidth || averageChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || averageChildHeight || viewportHeight;\r\n\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\tif (viewportWidth > sumOfVisibleMaxWidths) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportWidth - sumOfVisibleMaxWidths) / defaultChildWidth);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (viewportHeight > sumOfVisibleMaxHeights) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportHeight - sumOfVisibleMaxHeights) / defaultChildHeight);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet itemCount = this.items.length;\r\n\t\tlet itemsPerPage = itemsPerWrapGroup * wrapGroupsPerPage;\r\n\t\tlet pageCount_fractional = itemCount / itemsPerPage;\r\n\t\tlet numberOfWrapGroups = Math.ceil(itemCount / itemsPerWrapGroup);\r\n\r\n\t\tlet scrollLength = 0;\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = this.horizontal ? defaultChildWidth : defaultChildHeight;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet numUnknownChildSizes = 0;\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\tscrollLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscrollLength += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\t\t} else {\r\n\t\t\tscrollLength = numberOfWrapGroups * defaultScrollLengthPerWrapGroup;\r\n\t\t}\r\n\r\n\t\tif (this.headerElementRef) {\r\n\t\t\tscrollLength += this.headerElementRef.nativeElement.clientHeight;\r\n\t\t}\r\n\r\n\t\tlet viewportLength = this.horizontal ? viewportWidth : viewportHeight;\r\n\t\tlet maxScrollPosition = Math.max(scrollLength - viewportLength, 0);\r\n\r\n\t\treturn {\r\n\t\t\titemCount: itemCount,\r\n\t\t\titemsPerWrapGroup: itemsPerWrapGroup,\r\n\t\t\twrapGroupsPerPage: wrapGroupsPerPage,\r\n\t\t\titemsPerPage: itemsPerPage,\r\n\t\t\tpageCount_fractional: pageCount_fractional,\r\n\t\t\tchildWidth: defaultChildWidth,\r\n\t\t\tchildHeight: defaultChildHeight,\r\n\t\t\tscrollLength: scrollLength,\r\n\t\t\tviewportLength: viewportLength,\r\n\t\t\tmaxScrollPosition: maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected cachedPageSize: number = 0;\r\n\tprotected previousScrollNumberElements: number = 0;\r\n\r\n\tprotected calculatePadding(arrayStartIndexWithBuffer: number, dimensions: IDimensions): number {\r\n\t\tif (dimensions.itemCount === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\tlet startingWrapGroupIndex = Math.floor(arrayStartIndexWithBuffer / dimensions.itemsPerWrapGroup) || 0;\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes) {\r\n\t\t\treturn defaultScrollLengthPerWrapGroup * startingWrapGroupIndex;\r\n\t\t}\r\n\r\n\t\tlet numUnknownChildSizes = 0;\r\n\t\tlet result = 0;\r\n\t\tfor (let i = 0; i < startingWrapGroupIndex; ++i) {\r\n\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\tif (childSize) {\r\n\t\t\t\tresult += childSize;\r\n\t\t\t} else {\r\n\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatePageInfo(scrollPosition: number, dimensions: IDimensions): IPageInfo {\r\n\t\tlet scrollPercentage = 0;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tconst numberOfWrapGroups = Math.ceil(dimensions.itemCount / dimensions.itemsPerWrapGroup);\r\n\t\t\tlet totalScrolledLength = 0;\r\n\t\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\ttotalScrolledLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotalScrolledLength += defaultScrollLengthPerWrapGroup;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollPosition < totalScrolledLength) {\r\n\t\t\t\t\tscrollPercentage = i / numberOfWrapGroups;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tscrollPercentage = scrollPosition / dimensions.scrollLength;\r\n\t\t}\r\n\r\n\t\tlet startingArrayIndex_fractional = Math.min(Math.max(scrollPercentage * dimensions.pageCount_fractional, 0), dimensions.pageCount_fractional) * dimensions.itemsPerPage;\r\n\r\n\t\tlet maxStart = dimensions.itemCount - dimensions.itemsPerPage - 1;\r\n\t\tlet arrayStartIndex = Math.min(Math.floor(startingArrayIndex_fractional), maxStart);\r\n\t\tarrayStartIndex -= arrayStartIndex % dimensions.itemsPerWrapGroup; // round down to start of wrapGroup\r\n\r\n\t\tif (this.stripedTable) {\r\n\t\t\tlet bufferBoundary = 2 * dimensions.itemsPerWrapGroup;\r\n\t\t\tif (arrayStartIndex % bufferBoundary !== 0) {\r\n\t\t\t\tarrayStartIndex = Math.max(arrayStartIndex - arrayStartIndex % bufferBoundary, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet arrayEndIndex = Math.ceil(startingArrayIndex_fractional) + dimensions.itemsPerPage - 1;\r\n\t\tlet endIndexWithinWrapGroup = (arrayEndIndex + 1) % dimensions.itemsPerWrapGroup;\r\n\t\tif (endIndexWithinWrapGroup > 0) {\r\n\t\t\tarrayEndIndex += dimensions.itemsPerWrapGroup - endIndexWithinWrapGroup; // round up to end of wrapGroup\r\n\t\t}\r\n\r\n\t\tif (isNaN(arrayStartIndex)) {\r\n\t\t\tarrayStartIndex = 0;\r\n\t\t}\r\n\t\tif (isNaN(arrayEndIndex)) {\r\n\t\t\tarrayEndIndex = 0;\r\n\t\t}\r\n\r\n\t\tarrayStartIndex = Math.min(Math.max(arrayStartIndex, 0), dimensions.itemCount - 1);\r\n\t\tarrayEndIndex = Math.min(Math.max(arrayEndIndex, 0), dimensions.itemCount - 1);\r\n\r\n\t\tlet bufferSize = this.bufferAmount * dimensions.itemsPerWrapGroup;\r\n\t\tlet startIndexWithBuffer = Math.min(Math.max(arrayStartIndex - bufferSize, 0), dimensions.itemCount - 1);\r\n\t\tlet endIndexWithBuffer = Math.min(Math.max(arrayEndIndex + bufferSize, 0), dimensions.itemCount - 1);\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: arrayStartIndex,\r\n\t\t\tendIndex: arrayEndIndex,\r\n\t\t\tstartIndexWithBuffer: startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: endIndexWithBuffer,\r\n\t\t\tscrollStartPosition: scrollPosition,\r\n\t\t\tscrollEndPosition: scrollPosition + dimensions.viewportLength,\r\n\t\t\tmaxScrollPosition: dimensions.maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected calculateViewport(): IViewport {\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet offset = this.getElementsOffset();\r\n\r\n\t\tlet scrollStartPosition = this.getScrollStartPosition();\r\n\t\tif (scrollStartPosition > (dimensions.scrollLength + offset) && !(this.parentScroll instanceof Window)) {\r\n\t\t\tscrollStartPosition = dimensions.scrollLength;\r\n\t\t} else {\r\n\t\t\tscrollStartPosition -= offset;\r\n\t\t}\r\n\t\tscrollStartPosition = Math.max(0, scrollStartPosition);\r\n\r\n\t\tlet pageInfo = this.calculatePageInfo(scrollStartPosition, dimensions);\r\n\t\tlet newPadding = this.calculatePadding(pageInfo.startIndexWithBuffer, dimensions);\r\n\t\tlet newScrollLength = dimensions.scrollLength;\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex,\r\n\t\t\tendIndex: pageInfo.endIndex,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer,\r\n\t\t\tpadding: Math.round(newPadding),\r\n\t\t\tscrollLength: Math.round(newScrollLength),\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\texports: [VirtualScrollerComponent],\r\n\tdeclarations: [VirtualScrollerComponent],\r\n\timports: [CommonModule],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: 'virtual-scroller-default-options',\r\n\t\t\tuseFactory: VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY\r\n\t\t}\r\n\t]\r\n})\r\nexport class VirtualScrollerModule { }","// tslint:disable: no-use-before-declare\r\n// tslint:disable: no-host-metadata-property\r\n// tslint:disable: max-line-length\r\n// tslint:disable: no-output-rename\r\n// tslint:disable: no-output-on-prefix\r\n// tslint:disable: prefer-const\r\n// tslint:disable: no-conflicting-lifecycle\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: component-selector\r\n\r\nimport { Attribute, HostBinding, Optional, Renderer2 } from '@angular/core';\r\nimport { Component, OnInit, OnDestroy, SimpleChanges, OnChanges, ChangeDetectorRef, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { DropdownSettings } from './ser-select.interface';\r\nimport { SerSelectListFilterPipe } from './ser-select-list-filter.pipe';\r\nimport { SDItemDirective, SDBadgeDirective, SDSearchDirective } from './ser-select-menu-item.directive';\r\nimport { DataService } from './ser-select.service';\r\nimport { Subscription, Subject, fromEvent } from 'rxjs';\r\nimport { VirtualScrollerComponent } from './virtual-scroll/virtual-scroll';\r\nimport { debounceTime, distinctUntilChanged, tap, filter } from 'rxjs/operators';\r\nimport { hasValue } from '../../utils/check';\r\nimport { inArray } from '../../utils/array';\r\n\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'ser-select',\r\n    templateUrl: './ser-select.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => SerSelectComponent),\r\n            multi: true\r\n        },\r\n        {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => SerSelectComponent),\r\n            multi: true,\r\n        }\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerSelectComponent implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewInit, OnDestroy {\r\n\r\n    @Input() data = [];\r\n\r\n    @Input() settings: DropdownSettings;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(SDItemDirective, { static: true }) itemTempl: SDItemDirective;\r\n    @ContentChild(SDBadgeDirective, { static: true }) badgeTempl: SDBadgeDirective;\r\n    @ContentChild(SDSearchDirective, { static: true }) searchTempl: SDSearchDirective;\r\n\r\n\r\n    @ViewChild('searchInput') searchInput: ElementRef;\r\n    @ViewChild('selectedList') selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\r\n\r\n    @HostBinding('class.disabled') isDisabled = false;\r\n    @HostBinding('class.active') isActive = false;\r\n    @HostBinding('class.multiple') multipleClass = false;\r\n\r\n    virtualdata: any = [];\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: SerSelectListFilterPipe;\r\n    selectedItems: any[] = [];\r\n    isSelectAll = false;\r\n    isFilterSelectAll = false;\r\n    isInfiniteFilterSelectAll = false;\r\n    groupedData: any[];\r\n    filter: any;\r\n    chunkArray: any[];\r\n    scrollTop: any;\r\n    chunkIndex: any[] = [];\r\n    cachedItems: any[] = [];\r\n    groupCachedItems: any[] = [];\r\n    totalRows: any;\r\n    itemHeight: any = 41.6;\r\n    screenItemsLen: any;\r\n    cachedItemsLen: any;\r\n    totalHeight: any;\r\n    scroller: any;\r\n    maxBuffer: any;\r\n    lastScrolled: any;\r\n    lastRepaintY: any;\r\n    selectedListHeight: any;\r\n    filterLength: any = 0;\r\n    infiniteFilterLength: any = 0;\r\n    viewPortItems: any;\r\n    item: any;\r\n\r\n    private dropdownSubs: Subscription[] = [];\r\n    private subscription: Subscription;\r\n    defaultSettings: DropdownSettings = {\r\n        singleSelection: true,\r\n        enableCheckAll: true,\r\n        selectAllText: 'Seleccionar todo',\r\n        unSelectAllText: 'Deseleccionar todo',\r\n        filterSelectAllText: 'Seleccionar todos los resultados filtrados',\r\n        filterUnSelectAllText: 'Deseleccionar todos los resultados filtrados',\r\n        enableSearchFilter: true,\r\n        searchBy: ['name'],\r\n        maxHeight: 300,\r\n        badgeShowLimit: 999999999999,\r\n        classes: '',\r\n        searchPlaceholderText: 'Buscar',\r\n        showCheckbox: true,\r\n        noDataLabel: 'Sin datos disponibles',\r\n        lazyLoading: false,\r\n        labelKey: 'name',\r\n        primaryKey: 'id',\r\n        disabledKey: 'disabled',\r\n        enableFilterSelectAll: true,\r\n        selectGroup: false,\r\n        addNewItemOnFilter: false,\r\n        addNewButtonText: 'Agregar',\r\n        escapeToClose: true,\r\n        clearAll: true\r\n    };\r\n\r\n    randomSize = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    virtualScroollInit = false;\r\n    @ViewChild(VirtualScrollerComponent, { static: false })\r\n    private virtualScroller: VirtualScrollerComponent;\r\n    public isDisabledItemPresent = false;\r\n\r\n    hasValue = hasValue;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private ds: DataService, private _renderer: Renderer2, @Optional() @Attribute('multiple') multipleAttr: any,\r\n                @Optional() @Attribute('simple') simple: any, @Optional() @Attribute('primaryKey') primaryKey: any, @Optional() @Attribute('labelKey') labelKey: any) {\r\n\r\n        this.multiple = multipleAttr !== null;\r\n\r\n        if (this.multiple) {\r\n            this.defaultSettings.singleSelection = false;\r\n        }\r\n\r\n        if (simple !== null) {\r\n            this.defaultSettings.enableSearchFilter = false;\r\n            this.defaultSettings.clearAll = false;\r\n        }\r\n\r\n        if (primaryKey !== null) {\r\n            this.defaultSettings.primaryKey = primaryKey;\r\n        }\r\n\r\n        if (labelKey !== null) {\r\n            this.defaultSettings.labelKey = labelKey;\r\n        }\r\n\r\n        this.searchTerm$.asObservable().pipe(\r\n            debounceTime(1000),\r\n            distinctUntilChanged(),\r\n            tap(term => term)\r\n        ).subscribe(val => {\r\n            this.filterInfiniteList(val);\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n\r\n        this.multipleClass = !this.settings.singleSelection;\r\n\r\n        this.cachedItems = this.cloneArray(this.data);\r\n\r\n        this.subscription = this.ds.getData().subscribe(data => {\r\n            if (data) {\r\n                let len = 0;\r\n                data.forEach((obj: any) => {\r\n                    if (obj[this.settings.disabledKey]) {\r\n                        this.isDisabledItemPresent = true;\r\n                    }\r\n                    if (!obj.hasOwnProperty('grpTitle')) {\r\n                        len++;\r\n                    }\r\n                });\r\n                this.filterLength = len;\r\n                this.onFilterChange(data);\r\n            }\r\n\r\n        });\r\n\r\n        this.virtualScroollInit = false;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes.data && !changes.data.firstChange) {\r\n\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n\r\n                if (this.data.length === 0) {\r\n                    this.selectedItems = [];\r\n                }\r\n\r\n                this.groupCachedItems = this.cloneArray(this.groupedData);\r\n            }\r\n\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n\r\n        if (changes.loading) {\r\n        }\r\n\r\n        if (this.settings?.lazyLoading && this.virtualScroollInit && changes.data) {\r\n            this.virtualdata = changes.data.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    onItemClick(item: any, k: number, e: any) {\r\n\r\n        if (this.isDisabled || item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n        let limit = this.selectedItems.length < this.settings.limitSelection ? true : false;\r\n\r\n        if (!found) {\r\n            if (this.settings.limitSelection) {\r\n                if (limit) {\r\n                    this.addSelected(item);\r\n                    this.onSelect.emit(item);\r\n                }\r\n            } else {\r\n                this.addSelected(item);\r\n                this.onSelect.emit(item);\r\n            }\r\n\r\n        } else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length === this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n        if (this.settings.groupBy) {\r\n            this.updateGroupInfo(item);\r\n        }\r\n    }\r\n\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n\r\n    writeValue(value: any) {\r\n\r\n        if (hasValue(value)) {\r\n            if (this.settings.singleSelection) {\r\n\r\n                if (Array.isArray(value)) {\r\n                    throw Error('Array detected as input, please add \"multiple\" attribute in the select or set \"singleSelection\" setting in false');\r\n                }\r\n\r\n                const selectedObject = this.data?.find(item => {\r\n                    return item[this.settings.primaryKey] === value;\r\n                });\r\n\r\n                if (hasValue(selectedObject)) {\r\n                    this.selectedItems = [selectedObject];\r\n                } else {\r\n                    this.selectedItems = [];\r\n                    throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n                }\r\n\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n\r\n            } else {\r\n\r\n                if (!Array.isArray(value)) {\r\n                    throw Error('Single value detected as input, please set \"singleSelection\" setting in true or remove \"multiple\" attribute in the select if you added');\r\n                }\r\n\r\n                const selectedObjects = this.data?.filter(item => {\r\n                    return inArray(item[this.settings.primaryKey], value);\r\n                });\r\n\r\n                if (hasValue(selectedObjects)) {\r\n                    if (this.settings.limitSelection) {\r\n                        this.selectedItems = selectedObjects.slice(0, this.settings.limitSelection);\r\n                    } else {\r\n                        this.selectedItems = selectedObjects;\r\n                    }\r\n                } else {\r\n                    this.selectedItems = [];\r\n                    throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n                }\r\n\r\n                if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                    this.isSelectAll = true;\r\n                }\r\n\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n\r\n    trackByFn(item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n\r\n    isSelected(clickedItem: any) {\r\n\r\n        if (clickedItem[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = false;\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            for (const item of this.selectedItems) {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    addSelected(item: any) {\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.selectedItems = [item];\r\n            this.onChangeCallback(item[this.settings.primaryKey]);\r\n            this.onTouchedCallback(item[this.settings.primaryKey]);\r\n            this.closeDropdown();\r\n        } else {\r\n            this.selectedItems.push(item);\r\n            const items = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n            this.onChangeCallback(items);\r\n            this.onTouchedCallback(items);\r\n        }\r\n    }\r\n\r\n    removeSelected(clickedItem: any) {\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            this.selectedItems.forEach((item, index) => {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    this.selectedItems.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.onChangeCallback(null);\r\n            this.onTouchedCallback(null);\r\n        } else {\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    //#region dropdown status\r\n\r\n    toggleDropdown(evt: any) {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = !this.isActive;\r\n\r\n        if (this.isActive) {\r\n            this.openDropdown();\r\n        } else {\r\n            this.closeDropdown();\r\n        }\r\n\r\n        if (this.settings.lazyLoading) {\r\n            this.virtualdata = this.data;\r\n            this.virtualScroollInit = true;\r\n        }\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    public openDropdown() {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = true;\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'click')\r\n            .pipe(filter((e: MouseEvent) => !this._elementRef.nativeElement.contains(e.target) ))\r\n            .subscribe(() => this.closeDropdown())\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'keyup')\r\n            .pipe(filter((e: KeyboardEvent) => e.key.toLowerCase() === 'escape' && this.settings.escapeToClose ))\r\n            .subscribe(() => this.closeDropdown() )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(this._elementRef.nativeElement, 'scroll').subscribe(() => console.log('scroll') )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'resize').subscribe(() => this.setPositionDropdown() )\r\n        );\r\n\r\n        this.setPositionDropdown();\r\n\r\n        this._renderer.appendChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n\r\n        if (this.settings.enableSearchFilter && !this.searchTempl) {\r\n            setTimeout(() => {\r\n                this.searchInput?.nativeElement.focus();\r\n            }, 0);\r\n        }\r\n\r\n        this.onOpen.emit(true);\r\n    }\r\n\r\n    public closeDropdown() {\r\n\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = '';\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.isActive = false;\r\n\r\n        this.dropdownSubs.forEach(s => s.unsubscribe() );\r\n        this.dropdownSubs = [];\r\n\r\n        this.onClose.emit(false);\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    setPositionDropdown() {\r\n\r\n        setTimeout(() => {\r\n\r\n            const dropdown = (this.dropdownListElem.nativeElement as HTMLDivElement);\r\n            const el = (this._elementRef.nativeElement as HTMLElement);\r\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\r\n\r\n            this._renderer.setStyle(dropdown, 'width', (el.offsetWidth) + 'px');\r\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left) + 'px');\r\n\r\n            if (remainingHeight > 0) {\r\n                this._renderer.removeClass(el, 'ontop');\r\n                this._renderer.removeClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('bottom');\r\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\r\n            } else {\r\n                this._renderer.addClass(el, 'ontop');\r\n                this._renderer.addClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('top');\r\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = !obj[this.settings.disabledKey];\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = !obj[this.settings.disabledKey];\r\n                });\r\n            }\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData[this.settings.disabledKey]);\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        } else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n            }\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    filterFn(value: any) {\r\n\r\n        if (this.settings.groupBy && !this.settings.lazyLoading) {\r\n            this.filterGroupedList();\r\n        } else if (this.settings.lazyLoading) {\r\n            this.searchTerm$.next(value);\r\n        }\r\n\r\n    }\r\n\r\n    filterGroupedList() {\r\n        if (this.filter === '' || this.filter == null) {\r\n            this.clearSearch();\r\n            return;\r\n        }\r\n\r\n        this.groupedData = this.cloneArray(this.groupCachedItems);\r\n        this.groupedData = this.groupedData.filter(obj => {\r\n            let arr = [];\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                arr = obj.list;\r\n            } else {\r\n                arr = obj.list.filter(t => {\r\n                    return t[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                });\r\n            }\r\n\r\n            obj.list = arr;\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                return arr;\r\n            } else {\r\n                return arr.some(cat => {\r\n                    return cat[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                }\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (!this.isSelected(el)) {\r\n                                                this.addSelected(el);\r\n                                                added.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    this.updateGroupInfo(item);\r\n\r\n                                }); */\r\n\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (!this.isSelected(el) && !el.hasOwnProperty('grpTitle')) {\r\n                        this.addSelected(el);\r\n                        added.push(el);\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (!this.isSelected(item)) {\r\n                        this.addSelected(item);\r\n                        added.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        } else {\r\n            let removed = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (this.isSelected(el)) {\r\n                                                this.removeSelected(el);\r\n                                                removed.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }); */\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (this.isSelected(el)) {\r\n                        this.removeSelected(el);\r\n                        removed.push(el);\r\n                    }\r\n                });\r\n            } else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (this.isSelected(item)) {\r\n                        this.removeSelected(item);\r\n                        removed.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n    }\r\n\r\n    toggleInfiniteFilterSelectAll() {\r\n        if (!this.isInfiniteFilterSelectAll) {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (!this.isSelected(item)) {\r\n                    this.addSelected(item);\r\n                }\r\n            });\r\n            this.isInfiniteFilterSelectAll = true;\r\n        } else {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (this.isSelected(item)) {\r\n                    this.removeSelected(item);\r\n                }\r\n\r\n            });\r\n            this.isInfiniteFilterSelectAll = false;\r\n        }\r\n    }\r\n\r\n    clearSearch() {\r\n\r\n        this.filter = '';\r\n\r\n        if (this.settings.lazyLoading) {\r\n\r\n            this.isInfiniteFilterSelectAll = false;\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.groupedData = this.groupCachedItems;\r\n            this.infiniteFilterLength = 0;\r\n\r\n        } else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = [];\r\n                this.groupedData = this.cloneArray(this.groupCachedItems);\r\n            }\r\n\r\n            this.isFilterSelectAll = false;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n    }\r\n\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter === '' || data.length === 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength === cnt) {\r\n            this.isFilterSelectAll = true;\r\n        } else if (cnt > 0 && this.filterLength !== cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    cloneArray(arr: any) {\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw 'Cannot clone array containing an object!';\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    updateGroupInfo(item: any) {\r\n        if (item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n        let key = this.settings.groupBy;\r\n        this.groupedData.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] === obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = true;\r\n            } else if (obj.list && (cnt !== obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n        this.groupCachedItems.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] === obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = true;\r\n            } else if (obj.list && (cnt !== obj.list.length) && (item[key] === obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    transformData(arr: Array<any>, field: any): Array<any> {\r\n        const groupedObj: any = arr.reduce((prev: any, cur: any) => {\r\n            if (!prev[cur[field]]) {\r\n                prev[cur[field]] = [cur];\r\n            } else {\r\n                prev[cur[field]].push(cur);\r\n            }\r\n            return prev;\r\n        }, {});\r\n        const tempArr: any = [];\r\n        Object.keys(groupedObj).map((x: any) => {\r\n            let obj: any = {};\r\n            let disabledChildrens = [];\r\n            obj.grpTitle = true;\r\n            obj[this.settings.labelKey] = x;\r\n            obj[this.settings.groupBy] = x;\r\n            obj.selected = false;\r\n            obj.list = [];\r\n            let cnt = 0;\r\n            groupedObj[x].forEach((item: any) => {\r\n                item.list = [];\r\n                if (item[this.settings.disabledKey]) {\r\n                    this.isDisabledItemPresent = true;\r\n                    disabledChildrens.push(item);\r\n                }\r\n                obj.list.push(item);\r\n                if (this.isSelected(item)) {\r\n                    cnt++;\r\n                }\r\n            });\r\n            if (cnt === obj.list.length) {\r\n                obj.selected = true;\r\n            } else {\r\n                obj.selected = false;\r\n            }\r\n\r\n            // Check if current group item's all childrens are disabled or not\r\n            obj[this.settings.disabledKey] = disabledChildrens.length === groupedObj[x].length;\r\n            tempArr.push(obj);\r\n            // obj.list.forEach((item: any) => {\r\n            //     tempArr.push(item);\r\n            // });\r\n        });\r\n        return tempArr;\r\n    }\r\n\r\n    public filterInfiniteList(evt: any) {\r\n        let filteredElems: Array<any> = [];\r\n        if (this.settings.groupBy) {\r\n            this.groupedData = this.groupCachedItems.slice();\r\n        } else {\r\n            this.data = this.cachedItems.slice();\r\n            this.virtualdata = this.cachedItems.slice();\r\n        }\r\n\r\n        if ((evt != null || evt !== '') && !this.settings.groupBy) {\r\n            if (this.settings.searchBy.length > 0) {\r\n                for (let t = 0; t < this.settings.searchBy.length; t++) {\r\n\r\n                    this.virtualdata.filter((el: any) => {\r\n                        if (el[this.settings.searchBy[t].toString()].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else {\r\n                this.virtualdata.filter((el: any) => {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            this.virtualdata = [];\r\n            this.virtualdata = filteredElems;\r\n            this.infiniteFilterLength = this.virtualdata.length;\r\n        }\r\n        if (evt.toString() !== '' && this.settings.groupBy) {\r\n            this.groupedData.filter((el: any) => {\r\n                if (el.hasOwnProperty('grpTitle')) {\r\n                    filteredElems.push(el);\r\n                } else {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.groupedData = [];\r\n            this.groupedData = filteredElems;\r\n            this.infiniteFilterLength = this.groupedData.length;\r\n        } else if (evt.toString() === '' && this.cachedItems.length > 0) {\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.infiniteFilterLength = 0;\r\n        }\r\n        this.virtualScroller.refresh();\r\n    }\r\n\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n\r\n        this.onScrollToEnd.emit(e);\r\n    }\r\n\r\n    selectGroup(item: any) {\r\n        if (item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n        if (item.selected) {\r\n            item.selected = false;\r\n            item.list.forEach((obj: any) => {\r\n                this.removeSelected(obj);\r\n            });\r\n\r\n            this.onGroupDeSelect.emit(item);\r\n            this.updateGroupInfo(item);\r\n\r\n        } else {\r\n            item.selected = true;\r\n            item.list.forEach((obj: any) => {\r\n                if (!this.isSelected(obj)) {\r\n                    this.addSelected(obj);\r\n                }\r\n\r\n            });\r\n            this.onGroupSelect.emit(item);\r\n            this.updateGroupInfo(item);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    addFilterNewItem() {\r\n        this.onAddFilterNewItem.emit(this.filter);\r\n        this.filterPipe = new SerSelectListFilterPipe(this.ds);\r\n        this.filterPipe.transform(this.data, this.filter, this.settings.searchBy);\r\n    }\r\n\r\n    clearSelection(e: MouseEvent) {\r\n\r\n        if (this.settings.groupBy) {\r\n            this.groupCachedItems.forEach((obj) => {\r\n                obj.selected = false;\r\n            });\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.isSelectAll = false;\r\n\r\n        if (this.settings.singleSelection) {\r\n            this.onChangeCallback(null);\r\n            this.onTouchedCallback(null);\r\n        } else {\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n        }\r\n\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n\r\n        e.stopPropagation();\r\n    }\r\n\r\n    getItemContext(item: any) {\r\n        return item;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n        this.dropdownSubs.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n\r\n    }\r\n}\r\n","// tslint:disable: max-line-length\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SerSelectListFilterPipe } from './ser-select-list-filter.pipe';\r\nimport { SDBadgeDirective, SDItemDirective, SDSearchDirective } from './ser-select-menu-item.directive';\r\nimport { SerSelectComponent } from './ser-select.component';\r\nimport { DataService } from './ser-select.service';\r\nimport { VirtualScrollerModule } from './virtual-scroll/virtual-scroll';\r\n\r\nconst dependencies = [\r\n    SerSelectComponent,\r\n    SerSelectListFilterPipe,\r\n    SDItemDirective,\r\n    SDBadgeDirective,\r\n    SDSearchDirective\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, FormsModule, VirtualScrollerModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies],\r\n    providers: [DataService]\r\n})\r\nexport class SerSelectModule { }\r\n","import { fromEvent, Subscription } from 'rxjs';\nimport { Component, forwardRef, OnInit, ViewEncapsulation, OnDestroy, HostBinding, AfterViewInit, ElementRef, ViewChild, Renderer2 } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { hasValue } from '../../../utils/check';\nimport { inArray } from '../../..//utils/array';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'address-col-input',\n  templateUrl: './address-col.component.html',\n  providers: [\n      {\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => AddressColComponent),\n          multi: true\n      }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AddressColComponent implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\n\n    @HostBinding('class.address-input') class = true;\n    @ViewChild('viaOptionsEl') viaOptionsEl: ElementRef;\n    @ViewChild('viaElCont') viaElCont: ElementRef;\n    @ViewChild('viaEl') viaEl: ElementRef;\n    @ViewChild('viaElHint') viaElHint: ElementRef;\n    @ViewChild('address1') address1: ElementRef;\n\n    modelSub: Subscription;\n    modelForm = this._fb.group({\n        via: ['', [Validators.required]],\n        address1: ['', [Validators.required, Validators.maxLength(50)]],\n        address2: ['', Validators.maxLength(50)],\n        address3: ['', Validators.maxLength(50)]\n    });\n\n    // tslint:disable-next-line: max-line-length\n    viaOptionsSubs: Subscription[] = [];\n    viaRegex = /^Autopista|Avenida Calle|Avenida Carrera|Avenida|Calle|Carrera|Circunvalar|Circular|Diagonal|Kilometro|Manzana|Transversal$/i;\n    viaOptions = [\n        'Autopista', 'Avenida', 'Avenida Calle', 'Avenida Carrera', 'Calle', 'Carrera' , 'Circunvalar', 'Circular', 'Diagonal', 'Kilometro', 'Manzana', 'Transversal', 'Via'\n    ];\n\n    viaOptionsOriginal = [\n        'Autopista', 'Avenida', 'Avenida Calle', 'Avenida Carrera', 'Calle', 'Carrera' , 'Circunvalar', 'Circular', 'Diagonal', 'Kilometro', 'Manzana', 'Transversal', 'Via'\n    ];\n\n    constructor(private _fb: FormBuilder, private _renderer: Renderer2, private _elementRef: ElementRef) { }\n\n    writeValue(obj: any) {\n\n        if (hasValue(obj)) {\n            let address1: any;\n            let address2: any;\n            let address3: any;\n\n            obj = obj.trim().replace(/\\s+/g, ' ');\n\n            if (/(\\s?-\\s?)+/.test(obj)) {\n                address3 = obj.split(/(\\s?-\\s?)+/);\n                this.modelForm.get('address3').setValue(address3[address3.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                address2 = address3[0].trim();\n            } else {\n                address2 = obj;\n            }\n\n            if (/(\\s?[#]\\s?)+/.test(address2)) {\n                address2 = address2.split(/(\\s?[#]\\s?)+/);\n                this.modelForm.get('address2').setValue(address2[address2.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                address1 = address2[0].trim();\n            } else {\n                address1 = obj;\n            }\n\n            if (this.viaRegex.test(address1)) {\n                address1 = address1.split(this.viaRegex);\n                this.modelForm.get('address1').setValue(address1[address1.length - 1].trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n\n                setTimeout(() => {\n                    this.setVia(this.viaRegex.exec(obj)[0].split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' '));\n                });\n            }\n\n        }\n    }\n\n    generateValue() {\n        const address = this.modelForm.get('via').value + ' ' +\n        this.modelForm.get('address1').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ') +\n        ' # ' +\n        this.modelForm.get('address2').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ') +\n        ' - ' +\n        this.modelForm.get('address3').value?.trim().split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ');\n\n        return address;\n    }\n\n    registerOnChange(fn: any) {\n        this.onChange = fn;\n    }\n    onChange(_: any) { }\n\n    registerOnTouched(fn: any) {\n        this.onTouch = fn;\n    }\n    onTouch() { }\n\n    ngOnInit() {\n\n        this.modelSub = this.modelForm.valueChanges.subscribe(() => {\n            if (this.modelForm.valid) {\n                this.onChange(this.generateValue());\n            } else {\n                this.onChange(null);\n            }\n        });\n    }\n\n    ngAfterViewInit(): void {\n        this._renderer.removeChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n\n        setTimeout(() => {\n            if (!hasValue(this.viaElHint.nativeElement.value)) {\n                this.viaElHint.nativeElement.value = 'Calle';\n            }\n        });\n    }\n\n    public openViaOptions() {\n\n        this.viaOptionsSubs.push(\n            fromEvent(window, 'click')\n            .pipe(filter((e: MouseEvent) => !this.viaElCont.nativeElement.contains(e.target) ))\n            .subscribe(() => {\n                this.setVia(this.viaOptions[0]);\n            })\n        );\n\n        this.viaOptionsSubs.push(\n            fromEvent(window, 'keyup')\n            .pipe(filter((e: KeyboardEvent) => inArray(e.key.toLowerCase(), ['arrowright', 'escape', 'enter'])))\n            .subscribe(() => {\n                this.setVia(this.viaOptions[0]);\n            })\n        );\n\n        this.filterViaOptions(this.modelForm.get('via').value);\n        this.setPositionDropdown();\n\n        this._renderer.appendChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n    }\n\n    public closeDropdown() {\n        this.viaOptionsSubs.forEach(s => s.unsubscribe() );\n        this.viaOptionsSubs = [];\n        this._renderer.removeChild(this.viaElCont.nativeElement, this.viaOptionsEl.nativeElement);\n        this.address1.nativeElement.focus();\n    }\n\n    setPositionDropdown() {\n\n        setTimeout(() => {\n\n            const dropdown = (this.viaOptionsEl.nativeElement as HTMLDivElement);\n            const el = (this.viaEl.nativeElement as HTMLElement);\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\n\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left - 6) + 'px');\n\n            if (remainingHeight > 0) {\n                this._renderer.removeClass(el, 'ontop');\n                this._renderer.removeClass(dropdown, 'ontop');\n                this._elementRef.nativeElement.style.removeProperty('bottom');\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\n            } else {\n                this._renderer.addClass(el, 'ontop');\n                this._renderer.addClass(dropdown, 'ontop');\n                this._elementRef.nativeElement.style.removeProperty('top');\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\n            }\n\n        });\n    }\n\n    filterViaOptions(value: string) {\n\n        if (hasValue(value)) {\n            this.viaOptions = this.viaOptionsOriginal.filter(it => it.slice(0, value.length).toLowerCase() === value?.toLowerCase());\n\n            if (hasValue(this.viaOptions)) {\n                this.viaElHint.nativeElement.value = this.viaOptions[0];\n                this.viaEl.nativeElement.value = this.viaEl.nativeElement.value?.split(' ').map(val => val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join(' ');\n            } else {\n                this.viaElHint.nativeElement.value = '';\n            }\n\n            setTimeout(() => {\n                this.setPositionDropdown();\n            });\n        } else {\n            this.viaOptions = this.viaOptionsOriginal;\n        }\n\n    }\n\n    viaBlur() {\n        if (!hasValue(this.modelForm.get('via').value)) {\n            this.setVia(this.viaOptions[0]);\n        }\n    }\n\n    setVia(value: string) {\n        if (hasValue(value)) {\n            this.modelForm.get('via').setValue(value);\n            this.viaEl.nativeElement.value = value;\n            this.viaElHint.nativeElement.value = value;\n        } else {\n            this.viaEl.nativeElement.value = '';\n            this.viaElHint.nativeElement.value = '';\n        }\n\n        this.closeDropdown();\n    }\n\n    ngOnDestroy() {\n        this.modelSub.unsubscribe();\n        this.viaOptionsSubs?.forEach(s => s?.unsubscribe() );\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { hasValue } from '../../utils/check';\r\n\r\n\r\n@Pipe({\r\n    name: 'serFilterListFilter',\r\n    pure: true\r\n})\r\nexport class SerFilterListFilterPipe implements PipeTransform {\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!hasValue(items) || !hasValue(filter)) {\r\n            return items;\r\n        }\r\n\r\n        const filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n\r\n        if (hasValue(filteredList)) {\r\n            return filteredList;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (let t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] !== '') {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            } else {\r\n                for (const prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}\r\n","// tslint:disable: no-use-before-declare\r\n// tslint:disable: no-host-metadata-property\r\n// tslint:disable: max-line-length\r\n// tslint:disable: no-output-rename\r\n// tslint:disable: no-output-on-prefix\r\n// tslint:disable: prefer-const\r\n// tslint:disable: no-conflicting-lifecycle\r\n// tslint:disable: component-class-suffix\r\n// tslint:disable: component-selector\r\n\r\nimport { Attribute, HostBinding, Optional, Renderer2 } from '@angular/core';\r\nimport { Component, OnInit, OnDestroy, SimpleChanges, OnChanges, ChangeDetectorRef, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { FilterSettings } from './ser-filter.interface';\r\nimport { Subscription, Subject, fromEvent } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { SerFilterListFilterPipe } from './ser-filter-list-filter.pipe';\r\nimport { hasValue } from '../../utils/check';\r\nimport { SDBadgeDirective, SDItemDirective } from '../select/ser-select-menu-item.directive';\r\nimport { inArray } from '../../utils/array';\r\n\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'ser-filter',\r\n    templateUrl: './ser-filter.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => SerFilterComponent),\r\n            multi: true\r\n        },\r\n        {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => SerFilterComponent),\r\n            multi: true,\r\n        }\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SerFilterComponent implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewInit, OnDestroy {\r\n\r\n    @Input() data = [];\r\n\r\n    @Input() settings: FilterSettings;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() multiple: boolean;\r\n\r\n    @Input() label: string;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(SDItemDirective, { static: true }) itemTempl: SDItemDirective;\r\n    @ContentChild(SDBadgeDirective, { static: true }) badgeTempl: SDBadgeDirective;\r\n\r\n\r\n    @ViewChild('searchInput') searchInput: ElementRef;\r\n    @ViewChild('selectedList') selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\r\n\r\n    @HostBinding('class.disabled') isDisabled = false;\r\n    @HostBinding('class.active') isActive = false;\r\n\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: SerFilterListFilterPipe;\r\n    selectedItems: any[] = [];\r\n    isSelectAll = false;\r\n    isFilterSelectAll = false;\r\n    groupedData: any[];\r\n    filter: any;\r\n    chunkArray: any[];\r\n    scrollTop: any;\r\n    chunkIndex: any[] = [];\r\n    cachedItems: any[] = [];\r\n    groupCachedItems: any[] = [];\r\n    totalRows: any;\r\n    itemHeight: any = 41.6;\r\n    screenItemsLen: any;\r\n    totalHeight: any;\r\n    scroller: any;\r\n    selectedListHeight: any;\r\n    filterLength: any = 0;\r\n    viewPortItems: any;\r\n    labelActive = false;\r\n    item: any;\r\n\r\n    private dropdownSubs: Subscription[] = [];\r\n    private subscription: Subscription;\r\n    defaultSettings: FilterSettings = {\r\n        enableCheckAll: true,\r\n        selectAllText: 'Seleccionar todo',\r\n        unSelectAllText: 'Deseleccionar todo',\r\n        filterSelectAllText: 'Seleccionar todos los resultados filtrados',\r\n        filterUnSelectAllText: 'Deseleccionar todos los resultados filtrados',\r\n        searchBy: ['name'],\r\n        maxHeight: 300,\r\n        classes: '',\r\n        searchPlaceholderText: 'Filtrar',\r\n        noDataLabel: 'Sin datos disponibles',\r\n        labelKey: 'name',\r\n        primaryKey: 'id',\r\n        disabledKey: 'disabled',\r\n        enableFilterSelectAll: true,\r\n        clearAll: true\r\n    };\r\n\r\n    randomSize = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    public isDisabledItemPresent = false;\r\n\r\n    hasValue = hasValue;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private _renderer: Renderer2, @Optional() @Attribute('primaryKey') primaryKey: any,\r\n                @Optional() @Attribute('labelKey') labelKey: any) {\r\n\r\n        if (primaryKey !== null) {\r\n            this.defaultSettings.primaryKey = primaryKey;\r\n        }\r\n\r\n        if (labelKey !== null) {\r\n            this.defaultSettings.labelKey = labelKey;\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        this.cachedItems = this.cloneArray(this.data);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n\r\n        if (changes.data && !changes.data.firstChange) {\r\n\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n\r\n        if (changes.loading) {\r\n        }\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    onItemClick(item: any, k: number, e: any) {\r\n\r\n        if (this.isDisabled || item[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n\r\n        if (!found) {\r\n            this.addSelected(item);\r\n            this.onSelect.emit(item);\r\n\r\n        } else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length === this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n    }\r\n\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n\r\n    writeValue(value: any) {\r\n\r\n        if (hasValue(value)) {\r\n            if (!Array.isArray(value)) {\r\n                throw Error('Single value detected as input, please set \"singleSelection\" setting in true or remove \"multiple\" attribute in the select if you added');\r\n            }\r\n\r\n            const selectedObjects = this.data?.filter(item => {\r\n                return inArray(item[this.settings.primaryKey], value);\r\n            });\r\n\r\n            if (hasValue(selectedObjects)) {\r\n                this.selectedItems = selectedObjects;\r\n            } else {\r\n                this.selectedItems = [];\r\n                throw Error('No primaryKey finded in options, please set \"primaryKey\" setting with the correct value');\r\n            }\r\n\r\n            if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                this.isSelectAll = true;\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n    // tslint:disable-next-line: member-ordering\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.isDisabled = isDisabled;\r\n    }\r\n\r\n    trackByFn(item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n\r\n    isSelected(clickedItem: any) {\r\n\r\n        if (clickedItem[this.settings.disabledKey]) {\r\n            return false;\r\n        }\r\n\r\n        let found = false;\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            for (const item of this.selectedItems) {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    addSelected(item: any) {\r\n        this.selectedItems.push(item);\r\n        const items = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n        this.onChangeCallback(items);\r\n        this.onTouchedCallback(items);\r\n    }\r\n\r\n    removeSelected(clickedItem: any) {\r\n\r\n        if (hasValue(this.selectedItems)) {\r\n            this.selectedItems.forEach((item, index) => {\r\n                if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                    this.selectedItems.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n    }\r\n\r\n    //#region dropdown status\r\n\r\n    toggleDropdown(evt: any) {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = !this.isActive;\r\n\r\n        if (this.isActive) {\r\n            this.openDropdown();\r\n        } else {\r\n            this.closeDropdown();\r\n        }\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    public openDropdown() {\r\n\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        this.isActive = true;\r\n        this.labelActive = true;\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'click')\r\n            .pipe(filter((e: MouseEvent) => !this._elementRef.nativeElement.contains(e.target) ))\r\n            .subscribe(() => this.closeDropdown())\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'keyup')\r\n            .pipe(filter((e: KeyboardEvent) => e.key.toLowerCase() === 'escape' ))\r\n            .subscribe(() => this.closeDropdown() )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(this._elementRef.nativeElement, 'scroll').subscribe(() => console.log('scroll') )\r\n        );\r\n\r\n        this.dropdownSubs.push(\r\n            fromEvent(window, 'resize').subscribe(() => this.setPositionDropdown() )\r\n        );\r\n\r\n        this.setPositionDropdown();\r\n\r\n        this._renderer.appendChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n        this.onOpen.emit(true);\r\n    }\r\n\r\n    public closeDropdown() {\r\n\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = '';\r\n        }\r\n\r\n        this.clearSearch();\r\n        this.isActive = false;\r\n        this.labelActive = false;\r\n\r\n        this.dropdownSubs.forEach(s => s.unsubscribe() );\r\n        this.dropdownSubs = [];\r\n\r\n        this.onClose.emit(false);\r\n        this._renderer.removeChild(this._elementRef.nativeElement, this.dropdownListElem.nativeElement);\r\n    }\r\n\r\n    setPositionDropdown() {\r\n\r\n        setTimeout(() => {\r\n\r\n            const dropdown = (this.dropdownListElem.nativeElement as HTMLDivElement);\r\n            // const el = (this._elementRef.nativeElement as HTMLElement);\r\n            const el = (this.searchInput.nativeElement as HTMLElement);\r\n            const remainingHeight = document.documentElement.offsetHeight - (dropdown.offsetHeight + el.getBoundingClientRect().top + el.offsetHeight);\r\n\r\n            this._renderer.setStyle(dropdown, 'width', (el.offsetWidth) + 'px');\r\n            this._renderer.setStyle(dropdown, 'left', (el.getBoundingClientRect().left) + 'px');\r\n\r\n            if (remainingHeight > 0) {\r\n                this._renderer.removeClass(el, 'ontop');\r\n                this._renderer.removeClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('bottom');\r\n                this._renderer.setStyle(dropdown, 'top', el.getBoundingClientRect().bottom + 'px');\r\n            } else {\r\n                this._renderer.addClass(el, 'ontop');\r\n                this._renderer.addClass(dropdown, 'ontop');\r\n                this._elementRef.nativeElement.style.removeProperty('top');\r\n                this._renderer.setStyle(dropdown, 'bottom', (document.documentElement.offsetHeight - el.getBoundingClientRect().top) + 'px');\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData[this.settings.disabledKey]);\r\n            const selectedItems = this.selectedItems.map(element => element[this.settings.primaryKey]);\r\n\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(selectedItems);\r\n            this.onTouchedCallback(selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        } else {\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n\r\n        this.closeDropdown();\r\n    }\r\n\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        } else {\r\n            let removed = [];\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n\r\n        this.closeDropdown();\r\n    }\r\n\r\n    clearSearch() {\r\n\r\n        this.filter = '';\r\n        this.isFilterSelectAll = false;\r\n\r\n        setTimeout(() => {\r\n            this.searchInput?.nativeElement.focus();\r\n        }, 0);\r\n\r\n    }\r\n\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter === '' || data.length === 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength === cnt) {\r\n            this.isFilterSelectAll = true;\r\n        } else if (cnt > 0 && this.filterLength !== cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    cloneArray(arr: any) {\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw Error('Cannot clone array containing an object!');\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n\r\n        this.onScrollToEnd.emit(e);\r\n    }\r\n\r\n    clearSelection(e: MouseEvent) {\r\n\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.isSelectAll = false;\r\n\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n\r\n        e.stopPropagation();\r\n    }\r\n\r\n    getItemContext(item: any) {\r\n        return item;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n        this.dropdownSubs.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n\r\n    }\r\n}\r\n","// tslint:disable: max-line-length\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SerFilterListFilterPipe } from './ser-filter-list-filter.pipe';\r\nimport { SerFilterComponent } from './ser-filter.component';\r\n\r\nconst dependencies = [\r\n    SerFilterComponent,\r\n    SerFilterListFilterPipe\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, FormsModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies],\r\n    providers: []\r\n})\r\nexport class SerFilterModule { }\r\n","import { ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { SerFormElementComponent } from './ser-form-element/ser-form-element.component';\r\nimport { SerControlDirective } from './ser-form-element/ser-control.directive';\r\nimport { SerErrorDirective } from './ser-errors/ser-error.directive';\r\nimport { SerErrorsDirective } from './ser-errors/ser-errors.directive';\r\nimport { PinInputComponent } from './pin/pin-input.component';\r\nimport { SerSelectModule } from './select/ser-select.module';\r\nimport { AddressColComponent } from './address/address-col/address-col.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SerFilterModule } from './filter/ser-filter.module';\r\n\r\nconst dependencies = [\r\n    SerFormElementComponent,\r\n    SerControlDirective,\r\n    SerErrorsDirective,\r\n    SerErrorDirective,\r\n    PinInputComponent,\r\n    AddressColComponent\r\n];\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BrowserModule, ReactiveFormsModule],\r\n    declarations: [...dependencies],\r\n    exports: [...dependencies, SerSelectModule, SerFilterModule]\r\n})\r\nexport class SerFormModule { }\r\n","import { Directive, ElementRef, OnDestroy, Output, EventEmitter, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[whenScrolled]'\r\n})\r\nexport class WhenScrolledDirective implements OnDestroy {\r\n\r\n    @Output() callback: EventEmitter<any> = new EventEmitter();\r\n    listener: any;\r\n\r\n    constructor(private _elementRef: ElementRef, rendered: Renderer2) {\r\n        this.listener = rendered.listen(this._elementRef.nativeElement, 'scroll', (ev: any) => {\r\n            if (ev.target.scrollTop + ev.target.offsetHeight >= ev.target.scrollHeight) {\r\n                this.callback.emit();\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.listener();\r\n    }\r\n\r\n}\r\n","import { Directive, Output, EventEmitter, ElementRef, Renderer2, OnDestroy } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[finishTyping]'\r\n})\r\nexport class FinishTypingDirective implements OnDestroy {\r\n\r\n    @Output() callback: EventEmitter<any> = new EventEmitter();\r\n    listener: any;\r\n    inputChangedPromise: ReturnType<typeof setTimeout>;\r\n\r\n    constructor(private _elementRef: ElementRef, rendered: Renderer2) {\r\n        this.listener = rendered.listen(this._elementRef.nativeElement, 'keyup', () => {\r\n\r\n            if (this.inputChangedPromise) {\r\n                clearTimeout(this.inputChangedPromise);\r\n            }\r\n\r\n            this.inputChangedPromise = setTimeout(() => {\r\n                this.callback.emit();\r\n            }, 500);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.listener();\r\n    }\r\n\r\n}\r\n","import { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[copyToClipboard]'\r\n})\r\nexport class CopyToClipboardDirective {\r\n\r\n    @Input('copyToClipboard') valToCopy = '';\r\n    @Output() copied = new EventEmitter<string>();\r\n\r\n    @HostListener('click', ['$event']) onClick(val: any) {\r\n        const selBox = document.createElement('textarea');\r\n        selBox.style.position = 'fixed';\r\n        selBox.style.zIndex = '-1000';\r\n        selBox.style.left = '0';\r\n        selBox.style.top = '0';\r\n        selBox.style.opacity = '0';\r\n        selBox.value = this.valToCopy;\r\n        document.body.appendChild(selBox);\r\n        selBox.focus();\r\n        selBox.select();\r\n        document.execCommand('copy');\r\n        document.body.removeChild(selBox);\r\n\r\n        this.copied.emit(this.valToCopy);\r\n    }\r\n\r\n}\r\n","import { Directive, OnChanges, Input, ElementRef, Renderer2 } from '@angular/core';\r\nimport { readAsDataURL } from '../file/read';\r\nimport { take } from 'rxjs/operators';\r\nimport { AwsService } from '../aws/aws.service';\r\nimport { hasValue } from '../utils/check';\r\n\r\ninterface BgImage {\r\n    url?: string;\r\n    file?: File;\r\n}\r\n\r\n@Directive({\r\n    // tslint:disable-next-line: directive-selector\r\n    selector: '[bgImage]'\r\n})\r\nexport class BgImageDirective implements OnChanges {\r\n\r\n    @Input('bgImage')\r\n    image: BgImage;\r\n    imageRegex = /(image\\/(jpe?g|png|gif|bmp))/i;\r\n\r\n    constructor(private el: ElementRef, private rendered: Renderer2, private aws: AwsService) { }\r\n\r\n    ngOnChanges() {\r\n        if (hasValue(this.image.file) && this.image.file instanceof File && this.imageRegex.test(this.image.file.type)) {\r\n\r\n            readAsDataURL(this.image.file).pipe(take(1)).subscribe((result) => {\r\n                this.rendered.setStyle(this.el.nativeElement, 'background-image', `url(${result})`);\r\n            });\r\n\r\n        } else if (hasValue(this.image.url)) {\r\n            this.rendered.setStyle(this.el.nativeElement, 'background-image', this.aws.getS3BgUrl(this.image.url));\r\n        } else {\r\n            this.rendered.removeStyle(this.el.nativeElement, 'background-image');\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { WhenScrolledDirective } from './when-scrolled.directive';\r\nimport { FinishTypingDirective } from './finish-typing.directive';\r\nimport { BgImageDirective } from './bg-image.directive';\r\nimport { CopyToClipboardDirective } from './copy-to-clipboard.directive';\r\n\r\nconst dependencies = [\r\n  WhenScrolledDirective,\r\n  FinishTypingDirective,\r\n  BgImageDirective,\r\n  CopyToClipboardDirective\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...dependencies],\r\n  exports: [...dependencies]\r\n})\r\nexport class SerUiModule {}\r\n","/*\r\n * Public API Surface of ngx\r\n */\r\n\r\nexport * from './cookie/cookies.service';\r\nexport * from './external-script/external-script.service';\r\nexport * from './fullscreen/fullscreen-interface';\r\nexport * from './prefers-color-scheme/prefers-color-scheme.service';\r\n\r\n// AWS\r\nexport * from './aws/aws.module';\r\nexport * from './aws/aws.service';\r\nexport * from './aws/Iaws';\r\n\r\n// Google\r\nexport * from './google/google-sdk.module';\r\nexport * from './google/google-sdk.service';\r\nexport * from './google/config/google-sdk.config';\r\nexport * from './google/Igoogle';\r\n\r\n// Facebook\r\nexport * from './facebook/facebook-sdk.module';\r\nexport * from './facebook/facebook-sdk.service';\r\nexport * from './facebook/config/facebook-sdk.config';\r\nexport * from './facebook/Ifacebook';\r\n\r\n// OpenID\r\nexport * from './open-id/Iopen-id-client';\r\nexport * from './open-id/claims.service';\r\n\r\n// GraphQL\r\nexport * from './graphql/utils';\r\n\r\n// Utils\r\nexport * from './utils/object';\r\nexport * from './utils/array';\r\nexport * from './utils/bowser';\r\nexport * from './utils/check';\r\nexport * from './utils/navigator';\r\nexport * from './utils/random';\r\nexport * from './utils/keyboard-keys';\r\nexport * from './utils/patterns';\r\n\r\n// Map\r\nexport * from './map/types';\r\nexport * from './map/map.service';\r\nexport * from './map/leaflet/types';\r\nexport * from './map/leaflet/providers';\r\nexport * from './map/leaflet/main';\r\n\r\n// File\r\nexport * from './file/read';\r\n\r\n// Forms\r\nexport * from './form/validations/custom-validators';\r\nexport * from './form/ser-form-element/ser-form-element.component';\r\nexport * from './form/ser-form-element/ser-control.directive';\r\nexport * from './form/ser-errors/ser-errors';\r\nexport * from './form/ser-errors/ser-errors.directive';\r\nexport * from './form/ser-errors/ser-error.directive';\r\nexport * from './form/ser-form.module';\r\n\r\n// Select\r\nexport * from './form/select/ser-select.interface';\r\nexport * from './form/select/ser-select.service';\r\nexport * from './form/select/ser-select-list-filter.pipe';\r\nexport * from './form/select/ser-select-menu-item.directive';\r\nexport * from './form/select/virtual-scroll/virtual-scroll';\r\nexport * from './form/select/ser-select.component';\r\nexport * from './form/select/ser-select.module';\r\n\r\n// Filter\r\nexport * from './form/filter/ser-filter.interface';\r\nexport * from './form/filter/ser-filter-list-filter.pipe';\r\nexport * from './form/filter/ser-filter.component';\r\nexport * from './form/filter/ser-filter.module';\r\n\r\n// PIN\r\nexport * from './form/pin/pin-input.component';\r\n\r\n// Address\r\nexport * from './form/address/address-col/address-col.component';\r\n\r\n// UI\r\nexport * from './ui/when-scrolled.directive';\r\nexport * from './ui/finish-typing.directive';\r\nexport * from './ui/copy-to-clipboard.directive';\r\nexport * from './ui/ser-ui.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {VirtualScrollerDefaultOptions as ɵj} from './form/select/virtual-scroll/defaultoptions';\nexport {greaterOrEqualThan as ɵe,greaterThan as ɵd,lowerOrEqualThan as ɵc,lowerThan as ɵb} from './form/validations/comparison';\nexport {maxFileSize as ɵf,minFileSize as ɵg,requiredFileType as ɵh} from './form/validations/file';\nexport {match as ɵa} from './form/validations/match';\nexport {alreadyExist as ɵi} from './form/validations/remote';\nexport {BgImageDirective as ɵk} from './ui/bg-image.directive';"],"names":["L.tileLayer","L.Map","L.Control","L.MarkerClusterGroup","L.featureGroup","L.marker","Observable","Subject","tween.Tween","tween.Easing","noop","dependencies"],"mappings":"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"}